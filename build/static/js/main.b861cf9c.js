/*! For license information please see main.b861cf9c.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function u(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var s=!1,c=null,l=!1,f=null,h={onError:function(e){s=!0,c=e}};function d(e,t,n,r,i,a,o,l,f){s=!1,c=null,u.apply(h,arguments)}var p=null,v=null,m=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,u,h,p){if(d.apply(this,arguments),s){if(!s)throw Error(o(198));var v=c;s=!1,c=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var g=null,k={};function b(){if(g)for(var e in k){var t=k[e],n=g.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!x[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in x[n]=t,n=t.eventTypes){var i=void 0,a=n[r],u=t,s=r;if(_.hasOwnProperty(s))throw Error(o(99,s));_[s]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&w(c[i],u,s);i=!0}else a.registrationName?(w(a.registrationName,u,s),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function w(e,t,n){if(T[e])throw Error(o(100,e));T[e]=t,I[e]=t.eventTypes[n].dependencies}var x=[],_={},T={},I={};function E(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!k.hasOwnProperty(t)||k[t]!==r){if(k[t])throw Error(o(102,t));k[t]=r,n=!0}}n&&b()}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,A=null,N=null;function R(e){if(e=v(e)){if("function"!==typeof C)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function O(e){A?N?N.push(e):N=[e]:A=e}function P(){if(A){var e=A,t=N;if(N=A=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function D(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function M(){}var F=D,U=!1,V=!1;function j(){null===A&&null===N||(M(),P())}function B(e,t,n){if(V)return e(t,n);V=!0;try{return F(e,t,n)}finally{V=!1,j()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,K={},W={};function G(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){H[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];H[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){H[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){H[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){H[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){H[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){H[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){H[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){H[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,Y);H[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,Y);H[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,Y);H[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){H[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),H.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){H[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=H.hasOwnProperty(t)?H[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(W,e)||!q.call(K,e)&&(z.test(e)?W[e]=!0:(K[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,ue=Z?Symbol.for("react.concurrent_mode"):60111,se=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case de:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ke(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Ie(e,t){Te(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Se(e,t.type,n):t.hasOwnProperty("defaultValue")&&Se(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Se(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function Oe(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,Ve,je=(Ve=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ve(e,t)}))}:Ve);function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},Ke={},We={};function Ge(e){if(Ke[e])return Ke[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return Ke[e]=n[t];return e}S&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var He=Ge("animationend"),Qe=Ge("animationiteration"),Ye=Ge("animationstart"),Xe=Ge("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function ut(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,ut),ot)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!S)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function dt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Rn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var u=null,s=0;s<x.length;s++){var c=x[s];c&&(c=c.extractEvents(r,t,a,i,o))&&(u=it(u,c))}st(u)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var mt,yt,gt,kt=!1,bt=[],wt=null,xt=null,_t=null,Tt=new Map,It=new Map,Et=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Nt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,i,a),null!==t&&(null!==(t=On(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Ot(e){var t=Rn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=On(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Pt(e)&&n.delete(t)}function Lt(){for(kt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=On(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Pt(wt)&&(wt=null),null!==xt&&Pt(xt)&&(xt=null),null!==_t&&Pt(_t)&&(_t=null),Tt.forEach(Dt),It.forEach(Dt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lt)))}function Ft(e){function t(t){return Mt(t,e)}if(0<bt.length){Mt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Mt(wt,e),null!==xt&&Mt(xt,e),null!==_t&&Mt(_t,e),Tt.forEach(t),It.forEach(t),n=0;n<Et.length;n++)(r=Et[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&null===(n=Et[0]).blockedOn;)Ot(n),null===n.blockedOn&&Et.shift()}var Ut={},Vt=new Map,jt=new Map,Bt=["abort","abort",He,"animationEnd",Qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},jt.set(r,t),Vt.set(r,a),Ut[i]=a}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Bt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Kt=0;Kt<qt.length;Kt++)jt.set(qt[Kt],0);var Wt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Ht=!0;function Qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=jt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){U||M();var i=Jt,a=U;U=!0;try{L(i,e,t,n,r)}finally{(U=a)||j()}}function $t(e,t,n,r){Gt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Ht)if(0<bt.length&&-1<St.indexOf(e))e=At(null,e,t,n,r),bt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Nt(e,r);else if(-1<St.indexOf(e))e=At(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Rt(wt,e,t,n,r,i),!0;case"dragenter":return xt=Rt(xt,e,t,n,r,i),!0;case"mouseover":return _t=Rt(_t,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Rt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Rt(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Nt(e,r),e=dt(e,r,null,t);try{B(pt,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=Rn(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{B(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function un(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=De;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=I[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function ln(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$?",gn="$!",kn=null,bn=null;function wn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,Tn="function"===typeof clearTimeout?clearTimeout:void 0;function In(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function En(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===gn||n===yn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+Sn,An="__reactEventHandlers$"+Sn,Nn="__reactContainere$"+Sn;function Rn(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nn]||n[Cn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=En(e);null!==e;){if(n=e[Cn])return n;e=En(e)}return t}n=(e=n).parentNode}return null}function On(e){return!(e=e[Cn]||e[Nn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Dn(e){return e[An]||null}function Ln(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Fn(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Un(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ln(t);for(t=n.length;0<t--;)Fn(n[t],"captured",e);for(t=0;t<n.length;t++)Fn(n[t],"bubbled",e)}}function Vn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function jn(e){e&&e.dispatchConfig.registrationName&&Vn(e._targetInst,null,e)}function Bn(e){at(e,Un)}var zn=null,qn=null,Kn=null;function Wn(){if(Kn)return Kn;var e,t,n=qn,r=n.length,i="value"in zn?zn.value:zn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Kn=i.slice(e,1<t?1-t:void 0)}function Gn(){return!0}function Hn(){return!1}function Qn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gn:Hn,this.isPropagationStopped=Hn,this}function Yn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Xn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Yn,e.release=Xn}i(Qn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){this.isPersistent=Gn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Qn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Qn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Qn);var Jn=Qn.extend({data:null}),Zn=Qn.extend({data:null}),er=[9,13,27,32],tr=S&&"CompositionEvent"in window,nr=null;S&&"documentMode"in document&&(nr=document.documentMode);var rr=S&&"TextEvent"in window&&!nr,ir=S&&(!tr||nr&&8<nr&&11>=nr),ar=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ur=!1;function sr(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var lr=!1;var fr={eventTypes:or,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var a=or.compositionStart;break e;case"compositionend":a=or.compositionEnd;break e;case"compositionupdate":a=or.compositionUpdate;break e}a=void 0}else lr?sr(e,n)&&(a=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=or.compositionStart);return a?(ir&&"ko"!==n.locale&&(lr||a!==or.compositionStart?a===or.compositionEnd&&lr&&(i=Wn()):(qn="value"in(zn=r)?zn.value:zn.textContent,lr=!0)),a=Jn.getPooled(a,t,n,r),i?a.data=i:null!==(i=cr(n))&&(a.data=i),Bn(a),i=a):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(ur=!0,ar);case"textInput":return(e=t.data)===ar&&ur?null:e;default:return null}}(e,n):function(e,t){if(lr)return"compositionend"===e||!tr&&sr(e,t)?(e=Wn(),Kn=qn=zn=null,lr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data}}(e,n))?((t=Zn.getPooled(or.beforeInput,t,n,r)).data=e,Bn(t)):t=null,null===i?t:null===t?i:[i,t]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hr[e.type]:"textarea"===t}var pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Qn.getPooled(pr.change,e,t,n)).type="change",O(n),Bn(e),e}var mr=null,yr=null;function gr(e){st(e)}function kr(e){if(we(Pn(e)))return e}function br(e,t){if("change"===e)return t}var wr=!1;function xr(){mr&&(mr.detachEvent("onpropertychange",_r),yr=mr=null)}function _r(e){if("value"===e.propertyName&&kr(yr))if(e=vr(yr,e,ct(e)),U)st(e);else{U=!0;try{D(gr,e)}finally{U=!1,j()}}}function Tr(e,t,n){"focus"===e?(xr(),yr=n,(mr=t).attachEvent("onpropertychange",_r)):"blur"===e&&xr()}function Ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return kr(yr)}function Er(e,t){if("click"===e)return kr(t)}function Sr(e,t){if("input"===e||"change"===e)return kr(t)}S&&(wr=lt("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:pr,_isInputEventSupported:wr,extractEvents:function(e,t,n,r){var i=t?Pn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=br;else if(dr(i))if(wr)o=Sr;else{o=Ir;var u=Tr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Er);if(o&&(o=o(e,t)))return vr(o,n,r);u&&u(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Se(i,"number",i.value)}},Ar=Qn.extend({view:null,detail:null}),Nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nr[e])&&!!t[e]}function Or(){return Rr}var Pr=0,Dr=0,Lr=!1,Mr=!1,Fr=Ar.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Or,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pr;return Pr=e.screenX,Lr?"mousemove"===e.type?e.screenX-t:0:(Lr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Dr;return Dr=e.screenY,Mr?"mousemove"===e.type?e.screenY-t:0:(Mr=!0,0)}}),Ur=Fr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Vr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jr={eventTypes:Vr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Rn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var u=Fr,s=Vr.mouseLeave,c=Vr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Ur,s=Vr.pointerLeave,c=Vr.pointerEnter,l="pointer");if(e=null==o?a:Pn(o),a=null==t?a:Pn(t),(s=u.getPooled(s,o,n,r)).type=l+"leave",s.target=e,s.relatedTarget=a,(n=u.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=u=r;e;e=Ln(e))o++;for(e=0,t=c;t;t=Ln(t))e++;for(;0<o-e;)u=Ln(u),o--;for(;0<e-o;)c=Ln(c),e--;for(;o--;){if(u===c||u===c.alternate)break e;u=Ln(u),c=Ln(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)u.push(r),r=Ln(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Ln(l);for(l=0;l<u.length;l++)Vn(u[l],"bubbled",s);for(l=r.length;0<l--;)Vn(r[l],"captured",n);return 0===(64&i)?[s]:[s,n]}};var Br="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},zr=Object.prototype.hasOwnProperty;function qr(e,t){if(Br(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!zr.call(t,n[r])||!Br(e[n[r]],t[n[r]]))return!1;return!0}var Kr=S&&"documentMode"in document&&11>=document.documentMode,Wr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gr=null,Hr=null,Qr=null,Yr=!1;function Xr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yr||null==Gr||Gr!==fn(n)?null:("selectionStart"in(n=Gr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Qr&&qr(Qr,n)?null:(Qr=n,(e=Qn.getPooled(Wr.select,Hr,e,t)).type="select",e.target=Gr,Bn(e),e))}var $r={eventTypes:Wr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),a=I.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Pn(t):window,e){case"focus":(dr(i)||"true"===i.contentEditable)&&(Gr=i,Hr=t,Qr=null);break;case"blur":Qr=Hr=Gr=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yr=!1,Xr(n,r);case"selectionchange":if(Kr)break;case"keydown":case"keyup":return Xr(n,r)}return null}},Jr=Qn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zr=Qn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Ar.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Ar.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Or,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Fr.extend({dataTransfer:null}),oi=Ar.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Or}),ui=Qn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),si=Fr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:Ut,extractEvents:function(e,t,n,r){var i=Vt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oi;break;case He:case Qe:case Ye:e=Jr;break;case Xe:e=ui;break;case"scroll":e=Ar;break;case"wheel":e=si;break;case"copy":case"cut":case"paste":e=Zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ur;break;default:e=Qn}return Bn(t=e.getPooled(i,t,n,r)),t}};if(g)throw Error(o(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),p=Dn,v=On,m=Pn,E({SimpleEventPlugin:ci,EnterLeaveEventPlugin:jr,ChangeEventPlugin:Cr,SelectEventPlugin:$r,BeforeInputEventPlugin:fr});var li=[],fi=-1;function hi(e){0>fi||(e.current=li[fi],li[fi]=null,fi--)}function di(e,t){fi++,li[fi]=e.current,e.current=t}var pi={},vi={current:pi},mi={current:!1},yi=pi;function gi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ki(e){return null!==(e=e.childContextTypes)&&void 0!==e}function bi(){hi(mi),hi(vi)}function wi(e,t,n){if(vi.current!==pi)throw Error(o(168));di(vi,t),di(mi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,yi=vi.current,di(vi,e),di(mi,mi.current),!0}function Ti(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xi(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,hi(mi),hi(vi),di(vi,e)):hi(mi),di(mi,n)}var Ii=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_requestPaint,Ai=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},Fi=a.unstable_shouldYield,Ui=void 0!==Ci?Ci:function(){},Vi=null,ji=null,Bi=!1,zi=Ai(),qi=1e4>zi?Ai:function(){return Ai()-zi};function Ki(){switch(Ni()){case Ri:return 99;case Oi:return 98;case Pi:return 97;case Di:return 96;case Li:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Pi;case 96:return Di;case 95:return Li;default:throw Error(o(332))}}function Gi(e,t){return e=Wi(e),Ii(e,t)}function Hi(e,t,n){return e=Wi(e),Ei(e,t,n)}function Qi(e){return null===Vi?(Vi=[e],ji=Ei(Ri,Xi)):Vi.push(e),Mi}function Yi(){if(null!==ji){var e=ji;ji=null,Si(e)}Xi()}function Xi(){if(!Bi&&null!==Vi){Bi=!0;var e=0;try{var t=Vi;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ei(Ri,Yi),n}finally{Bi=!1}}}function $i(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ji(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zi={current:null},ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function ia(e){var t=Zi.current;hi(Zi),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function oa(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Do=!0),e.firstContext=null)}function ua(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(o(308));ta=t,ea.dependencies={expirationTime:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var sa=!1;function ca(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function da(e,t){var n=e.alternate;null!==n&&la(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function pa(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.baseQueue,u=a.shared.pending;if(null!==u){if(null!==o){var s=o.next;o.next=u.next,u.next=s}o=u,a.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=u))}if(null!==o){s=o.next;var c=a.baseState,l=0,f=null,h=null,d=null;if(null!==s)for(var p=s;;){if((u=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=c):d=d.next=v,u>l&&(l=u)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ds(u,p.suspenseConfig);e:{var m=e,y=p;switch(u=t,v=n,y.tag){case 1:if("function"===typeof(m=y.payload)){c=m.call(v,c,u);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(u="function"===typeof(m=y.payload)?m.call(v,c,u):m)||void 0===u)break e;c=i({},c,u);break e;case 2:sa=!0}}null!==p.callback&&(e.effectTag|=32,null===(u=a.effects)?a.effects=[p]:u.push(p))}if(null===(p=p.next)||p===s){if(null===(u=a.shared.pending))break;p=o.next=u.next,u.next=s,a.baseQueue=o=u,a.shared.pending=null}}null===d?f=c:d.next=h,a.baseState=f,a.baseQueue=d,ps(l),e.expirationTime=l,e.memoizedState=c}}function va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ma=X.ReactCurrentBatchConfig,ya=(new r.Component).refs;function ga(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ka={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=es(),i=ma.suspense;(i=fa(r=ts(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),ns(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=es(),i=ma.suspense;(i=fa(r=ts(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),ns(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=es(),r=ma.suspense;(r=fa(n=ts(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ha(e,r),ns(e,n)}};function ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!qr(n,r)||!qr(i,a))}function wa(e,t,n){var r=!1,i=pi,a=t.contextType;return"object"===typeof a&&null!==a?a=ua(a):(i=ki(t)?yi:vi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):pi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ka,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ka.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ya,ca(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ua(a):(a=ki(t)?yi:vi.current,i.context=gi(e,a)),pa(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ga(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ka.enqueueReplaceState(i,i.state,null),pa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ta=Array.isArray;function Ia(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ya&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ds(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ia(e,t,n),r.return=e,r):((r=Ls(n.type,n.key,n.props,null,e.mode,r)).ref=Ia(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Us(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ms(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Fs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ls(t.type,t.key,t.props,null,e.mode,n)).ref=Ia(e,null,t),n.return=e,n;case te:return(t=Us(t,e.mode,n)).return=e,t}if(Ta(t)||ve(t))return(t=Ms(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Ta(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ta(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=ve(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ia(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Ms(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ls(a.type,a.key,a.props,null,e.mode,s)).ref=Ia(e,r,a),s.return=e,e=s)}return u(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Us(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Fs(a,e.mode,s)).return=e,e=r),u(e);if(Ta(a))return v(e,r,a,s);if(ve(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ca=Sa(!0),Aa=Sa(!1),Na={},Ra={current:Na},Oa={current:Na},Pa={current:Na};function Da(e){if(e===Na)throw Error(o(174));return e}function La(e,t){switch(di(Pa,t),di(Oa,e),di(Ra,Na),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}hi(Ra),di(Ra,t)}function Ma(){hi(Ra),hi(Oa),hi(Pa)}function Fa(e){Da(Pa.current);var t=Da(Ra.current),n=Fe(t,e.type);t!==n&&(di(Oa,e),di(Ra,n))}function Ua(e){Oa.current===e&&(hi(Ra),hi(Oa))}var Va={current:0};function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===yn||n.data===gn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ba(e,t){return{responder:e,props:t}}var za=X.ReactCurrentDispatcher,qa=X.ReactCurrentBatchConfig,Ka=0,Wa=null,Ga=null,Ha=null,Qa=!1;function Ya(){throw Error(o(321))}function Xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Br(e[n],t[n]))return!1;return!0}function $a(e,t,n,r,i,a){if(Ka=a,Wa=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,za.current=null===e||null===e.memoizedState?wo:xo,e=n(r,i),t.expirationTime===Ka){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ha=Ga=null,t.updateQueue=null,za.current=_o,e=n(r,i)}while(t.expirationTime===Ka)}if(za.current=bo,t=null!==Ga&&null!==Ga.next,Ka=0,Ha=Ga=Wa=null,Qa=!1,t)throw Error(o(300));return e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ha?Wa.memoizedState=Ha=e:Ha=Ha.next=e,Ha}function Za(){if(null===Ga){var e=Wa.alternate;e=null!==e?e.memoizedState:null}else e=Ga.next;var t=null===Ha?Wa.memoizedState:Ha.next;if(null!==t)Ha=t,Ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ga=e).memoizedState,baseState:Ga.baseState,baseQueue:Ga.baseQueue,queue:Ga.queue,next:null},null===Ha?Wa.memoizedState=Ha=e:Ha=Ha.next=e}return Ha}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=Za(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.expirationTime;if(l<Ka){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,l>Wa.expirationTime&&(Wa.expirationTime=l,ps(l))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ds(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,Br(r,t.memoizedState)||(Do=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=Za(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);Br(a,t.memoizedState)||(Do=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(e){var t=Ja();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=ko.bind(null,Wa,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Wa.updateQueue)?(t={lastEffect:null},Wa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ao(){return Za().memoizedState}function oo(e,t,n,r){var i=Ja();Wa.effectTag|=e,i.memoizedState=io(1|t,n,void 0,void 0===r?null:r)}function uo(e,t,n,r){var i=Za();r=void 0===r?null:r;var a=void 0;if(null!==Ga){var o=Ga.memoizedState;if(a=o.destroy,null!==r&&Xa(r,o.deps))return void io(t,n,a,r)}Wa.effectTag|=e,i.memoizedState=io(1|t,n,a,r)}function so(e,t){return oo(516,4,e,t)}function co(e,t){return uo(516,4,e,t)}function lo(e,t){return uo(4,2,e,t)}function fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,uo(4,2,fo.bind(null,t,e),n)}function po(){}function vo(e,t){return Ja().memoizedState=[e,void 0===t?null:t],e}function mo(e,t){var n=Za();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yo(e,t){var n=Za();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function go(e,t,n){var r=Ki();Gi(98>r?98:r,(function(){e(!0)})),Gi(97<r?97:r,(function(){var r=qa.suspense;qa.suspense=void 0===t?null:t;try{e(!1),n()}finally{qa.suspense=r}}))}function ko(e,t,n){var r=es(),i=ma.suspense;i={expirationTime:r=ts(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Wa||null!==a&&a===Wa)Qa=!0,i.expirationTime=Ka,Wa.expirationTime=Ka;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.eagerReducer=a,i.eagerState=u,Br(u,o))return}catch(s){}ns(e,r)}}var bo={readContext:ua,useCallback:Ya,useContext:Ya,useEffect:Ya,useImperativeHandle:Ya,useLayoutEffect:Ya,useMemo:Ya,useReducer:Ya,useRef:Ya,useState:Ya,useDebugValue:Ya,useResponder:Ya,useDeferredValue:Ya,useTransition:Ya},wo={readContext:ua,useCallback:vo,useContext:ua,useEffect:so,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oo(4,2,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Ja();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ja();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ko.bind(null,Wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ja().memoizedState=e},useState:ro,useDebugValue:po,useResponder:Ba,useDeferredValue:function(e,t){var n=ro(e),r=n[0],i=n[1];return so((function(){var n=qa.suspense;qa.suspense=void 0===t?null:t;try{i(e)}finally{qa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(!1),n=t[0];return t=t[1],[vo(go.bind(null,t,e),[t,e]),n]}},xo={readContext:ua,useCallback:mo,useContext:ua,useEffect:co,useImperativeHandle:ho,useLayoutEffect:lo,useMemo:yo,useReducer:to,useRef:ao,useState:function(){return to(eo)},useDebugValue:po,useResponder:Ba,useDeferredValue:function(e,t){var n=to(eo),r=n[0],i=n[1];return co((function(){var n=qa.suspense;qa.suspense=void 0===t?null:t;try{i(e)}finally{qa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[mo(go.bind(null,t,e),[t,e]),n]}},_o={readContext:ua,useCallback:mo,useContext:ua,useEffect:co,useImperativeHandle:ho,useLayoutEffect:lo,useMemo:yo,useReducer:no,useRef:ao,useState:function(){return no(eo)},useDebugValue:po,useResponder:Ba,useDeferredValue:function(e,t){var n=no(eo),r=n[0],i=n[1];return co((function(){var n=qa.suspense;qa.suspense=void 0===t?null:t;try{i(e)}finally{qa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[mo(go.bind(null,t,e),[t,e]),n]}},To=null,Io=null,Eo=!1;function So(e,t){var n=Os(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Co(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ao(e){if(Eo){var t=Io;if(t){var n=t;if(!Co(e,t)){if(!(t=In(n.nextSibling))||!Co(e,t))return e.effectTag=-1025&e.effectTag|2,Eo=!1,void(To=e);So(To,n)}To=e,Io=In(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Eo=!1,To=e}}function No(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;To=e}function Ro(e){if(e!==To)return!1;if(!Eo)return No(e),Eo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xn(t,e.memoizedProps))for(t=Io;t;)So(e,t),t=In(t.nextSibling);if(No(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Io=In(e.nextSibling);break e}t--}else"$"!==n&&n!==gn&&n!==yn||t++}e=e.nextSibling}Io=null}}else Io=To?In(e.stateNode.nextSibling):null;return!0}function Oo(){Io=To=null,Eo=!1}var Po=X.ReactCurrentOwner,Do=!1;function Lo(e,t,n,r){t.child=null===e?Aa(t,null,n,r):Ca(t,e.child,n,r)}function Mo(e,t,n,r,i){n=n.render;var a=t.ref;return oa(t,i),r=$a(e,t,n,r,a,i),null===e||Do?(t.effectTag|=1,Lo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Fo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ps(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ls(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Uo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:qr)(i,r)&&e.ref===t.ref)?Jo(e,t,a):(t.effectTag|=1,(e=Ds(o,r)).ref=t.ref,e.return=t,t.child=e)}function Uo(e,t,n,r,i,a){return null!==e&&qr(e.memoizedProps,r)&&e.ref===t.ref&&(Do=!1,i<a)?(t.expirationTime=e.expirationTime,Jo(e,t,a)):jo(e,t,n,r,a)}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function jo(e,t,n,r,i){var a=ki(n)?yi:vi.current;return a=gi(t,a),oa(t,i),n=$a(e,t,n,r,a,i),null===e||Do?(t.effectTag|=1,Lo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Bo(e,t,n,r,i){if(ki(n)){var a=!0;_i(t)}else a=!1;if(oa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wa(t,n,r),_a(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ua(c):c=gi(t,c=ki(n)?yi:vi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&xa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,pa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||mi.current||sa?("function"===typeof l&&(ga(t,n,l,r),s=t.memoizedState),(u=sa||ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,la(e,t),u=t.memoizedProps,o.props=t.type===t.elementType?u:Ji(t.type,u),s=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ua(c):c=gi(t,c=ki(n)?yi:vi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&xa(t,o,r,c),sa=!1,s=t.memoizedState,o.state=s,pa(t,r,o,i),h=t.memoizedState,u!==r||s!==h||mi.current||sa?("function"===typeof l&&(ga(t,n,l,r),h=t.memoizedState),(l=sa||ba(t,n,u,r,s,h,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return zo(e,t,n,r,a,i)}function zo(e,t,n,r,i,a){Vo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Ti(t,n,!1),Jo(e,t,a);r=t.stateNode,Po.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,u,a)):Lo(e,t,u,a),t.memoizedState=r.state,i&&Ti(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),La(e,t.containerInfo)}var Ko,Wo,Go,Ho={dehydrated:null,retryTime:0};function Qo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Va.current,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),di(Va,1&o),null===e){if(void 0!==a.fallback&&Ao(t),u){if(u=a.fallback,(a=Ms(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ms(u,i,n,null)).return=t,a.sibling=n,t.memoizedState=Ho,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Aa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,u){if(a=a.fallback,(n=Ds(e,e.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=Ds(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Ho,t.child=n,i}return n=Ca(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=a.fallback,(a=Ms(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ms(u,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Ho,t.child=a,n}return t.memoizedState=null,t.child=Ca(t,e,a.children,n)}function Yo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),aa(e.return,t)}function Xo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function $o(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Lo(e,t,r.children,n),0!==(2&(r=Va.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n);else if(19===e.tag)Yo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Va,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xo(t,!0,n,null,a,t.lastEffect);break;case"together":Xo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&ps(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ds(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ds(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function eu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ki(t.type)&&bi(),null;case 3:return Ma(),hi(mi),hi(vi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ro(t)||(t.effectTag|=4),null;case 5:Ua(t),n=Da(Pa.current);var a=t.type;if(null!==e&&null!=t.stateNode)Wo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Da(Ra.current),Ro(t)){r=t.stateNode,a=t.type;var u=t.memoizedProps;switch(r[Cn]=t,r[An]=u,a){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Qt($e[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":_e(r,u),Qt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Qt("invalid",r),cn(n,"onChange");break;case"textarea":Re(r,u),Qt("invalid",r),cn(n,"onChange")}for(var s in on(a,u),e=null,u)if(u.hasOwnProperty(s)){var c=u[s];"children"===s?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):T.hasOwnProperty(s)&&null!=c&&cn(n,s)}switch(a){case"input":be(r),Ee(r,u,!0);break;case"textarea":be(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Me(a)),e===sn?"script"===a?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(a,{is:r.is}):(e=s.createElement(a),"select"===a&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,a),e[Cn]=t,e[An]=r,Ko(e,t),t.stateNode=e,s=un(a,r),a){case"iframe":case"object":case"embed":Qt("load",e),c=r;break;case"video":case"audio":for(c=0;c<$e.length;c++)Qt($e[c],e);c=r;break;case"source":Qt("error",e),c=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),c=r;break;case"form":Qt("reset",e),Qt("submit",e),c=r;break;case"details":Qt("toggle",e),c=r;break;case"input":_e(e,r),c=xe(e,r),Qt("invalid",e),cn(n,"onChange");break;case"option":c=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Qt("invalid",e),cn(n,"onChange");break;case"textarea":Re(e,r),c=Ne(e,r),Qt("invalid",e),cn(n,"onChange");break;default:c=r}on(a,c);var l=c;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?rn(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&je(e,f):"children"===u?"string"===typeof f?("textarea"!==a||""!==f)&&Be(e,f):"number"===typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(T.hasOwnProperty(u)?null!=f&&cn(n,u):null!=f&&$(e,u,f,s))}switch(a){case"input":be(e),Ee(e,r,!1);break;case"textarea":be(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}wn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Da(Pa.current),Da(Ra.current),Ro(t)?(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=t,t.stateNode=n)}return null;case 13:return hi(Va),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ro(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=a,a.nextEffect=u):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Va.current)?Lu===Cu&&(Lu=Au):(Lu!==Cu&&Lu!==Au||(Lu=Nu),0!==ju&&null!==Ou&&(Bs(Ou,Du),zs(Ou,ju)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ma(),null;case 10:return ia(t),null;case 19:if(hi(Va),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(u=r.rendering)){if(a)Zo(r,!1);else if(Lu!==Cu||null!==e&&0!==(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=ja(u))){for(t.effectTag|=64,Zo(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)u=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=u,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,u=e.dependencies,a.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return di(Va,1&Va.current|2),t.child}u=u.sibling}}else{if(!a)if(null!==(e=ja(u))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Zo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,Zo(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=qi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Va.current,di(Va,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function tu(e){switch(e.tag){case 1:ki(e.type)&&bi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ma(),hi(mi),hi(vi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ua(e),null;case 13:return hi(Va),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return hi(Va),null;case 4:return Ma(),null;case 10:return ia(e),null;default:return null}}function nu(e,t){return{value:e,source:t,stack:ye(t)}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var u,s,c=t.stateNode;switch(Da(Ra.current),e=null,n){case"input":o=xe(c,o),r=xe(c,r),e=[];break;case"option":o=Ce(c,o),r=Ce(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ne(c,o),r=Ne(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(u in on(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u)for(s in c=o[u])c.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(T.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(e||(e=[]),e.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(u,l)):"children"===u?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(T.hasOwnProperty(u)?(null!=l&&cn(a,u),e||c===l||(e=[])):(e=e||[]).push(u,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Go=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ru="function"===typeof WeakSet?WeakSet:Set;function iu(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function au(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Es(e,n)}else t.current=null}function ou(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function uu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function su(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void su(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&va(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}va(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&wn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))))}throw Error(o(163))}function lu(e,t,n){switch("function"===typeof Ns&&Ns(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Gi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Es(i,a)}}e=e.next}while(e!==r)}))}break;case 1:au(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Es(e,n)}}(t,n);break;case 5:au(t);break;case 4:mu(e,t,n)}}function fu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&fu(t)}function hu(e){return 5===e.tag||3===e.tag||4===e.tag}function du(e){e:{for(var t=e.return;null!==t;){if(hu(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?pu(e,n,t):vu(e,n,t)}function pu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(pu(e,t,n),e=e.sibling;null!==e;)pu(e,t,n),e=e.sibling}function vu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vu(e,t,n),e=e.sibling;null!==e;)vu(e,t,n),e=e.sibling}function mu(e,t,n){for(var r,i,a=t,u=!1;;){if(!u){u=a.return;e:for(;;){if(null===u)throw Error(o(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===a.tag||6===a.tag){e:for(var s=e,c=a,l=n,f=c;;)if(lu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=a.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(lu(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(u=!1)}a.sibling.return=a.return,a=a.sibling}}function yu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void uu(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[An]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),un(e,i),t=un(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?rn(n,s):"dangerouslySetInnerHTML"===u?je(n,s):"children"===u?Be(n,s):$(n,u,s,t)}switch(e){case"input":Ie(n,r);break;case"textarea":Oe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,zu=qi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void gu(t);case 19:return void gu(t)}throw Error(o(163))}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ru),t.forEach((function(t){var r=Cs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ku="function"===typeof WeakMap?WeakMap:Map;function bu(e,t,n){(n=fa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Wu=r),iu(e,t)},n}function wu(e,t,n){(n=fa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return iu(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this),iu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var xu,_u=Math.ceil,Tu=X.ReactCurrentDispatcher,Iu=X.ReactCurrentOwner,Eu=16,Su=32,Cu=0,Au=3,Nu=4,Ru=0,Ou=null,Pu=null,Du=0,Lu=Cu,Mu=null,Fu=1073741823,Uu=1073741823,Vu=null,ju=0,Bu=!1,zu=0,qu=null,Ku=!1,Wu=null,Gu=null,Hu=!1,Qu=null,Yu=90,Xu=null,$u=0,Ju=null,Zu=0;function es(){return 0!==(48&Ru)?1073741821-(qi()/10|0):0!==Zu?Zu:Zu=1073741821-(qi()/10|0)}function ts(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Ki();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(Ru&Eu))return Du;if(null!==n)e=$i(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=$i(e,150,100);break;case 97:case 96:e=$i(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ou&&e===Du&&--e,e}function ns(e,t){if(50<$u)throw $u=0,Ju=null,Error(o(185));if(null!==(e=rs(e,t))){var n=Ki();1073741823===t?0!==(8&Ru)&&0===(48&Ru)?us(e):(as(e),0===Ru&&Yi()):as(e),0===(4&Ru)||98!==n&&99!==n||(null===Xu?Xu=new Map([[e,t]]):(void 0===(n=Xu.get(e))||n>t)&&Xu.set(e,t))}}function rs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ou===i&&(ps(t),Lu===Nu&&Bs(i,Du)),zs(i,t)),i}function is(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!js(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function as(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Qi(us.bind(null,e));else{var t=is(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=es();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Mi&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Qi(us.bind(null,e)):Hi(r,os.bind(null,e),{timeout:10*(1073741821-t)-qi()}),e.callbackNode=t}}}function os(e,t){if(Zu=0,t)return qs(e,t=es()),as(e),null;var n=is(e);if(0!==n){if(t=e.callbackNode,0!==(48&Ru))throw Error(o(327));if(_s(),e===Ou&&n===Du||ls(e,n),null!==Pu){var r=Ru;Ru|=Eu;for(var i=hs();;)try{ms();break}catch(s){fs(e,s)}if(ra(),Ru=r,Tu.current=i,1===Lu)throw t=Mu,ls(e,n),Bs(e,n),as(e),t;if(null===Pu)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Lu,Ou=null,r){case Cu:case 1:throw Error(o(345));case 2:qs(e,2<n?2:n);break;case Au:if(Bs(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ks(i)),1073741823===Fu&&10<(i=zu+500-qi())){if(Bu){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,ls(e,n);break}}if(0!==(a=is(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(bs.bind(null,e),i);break}bs(e);break;case Nu:if(Bs(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ks(i)),Bu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,ls(e,n);break}if(0!==(i=is(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Uu?r=10*(1073741821-Uu)-qi():1073741823===Fu?r=0:(r=10*(1073741821-Fu)-5e3,0>(r=(i=qi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(bs.bind(null,e),r);break}bs(e);break;case 5:if(1073741823!==Fu&&null!==Vu){a=Fu;var u=Vu;if(0>=(r=0|u.busyMinDurationMs)?r=0:(i=0|u.busyDelayMs,r=(a=qi()-(10*(1073741821-a)-(0|u.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Bs(e,n),e.timeoutHandle=_n(bs.bind(null,e),r);break}}bs(e);break;default:throw Error(o(329))}if(as(e),e.callbackNode===t)return os.bind(null,e)}}return null}function us(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ru))throw Error(o(327));if(_s(),e===Ou&&t===Du||ls(e,t),null!==Pu){var n=Ru;Ru|=Eu;for(var r=hs();;)try{vs();break}catch(i){fs(e,i)}if(ra(),Ru=n,Tu.current=r,1===Lu)throw n=Mu,ls(e,t),Bs(e,t),as(e),n;if(null!==Pu)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ou=null,bs(e),as(e)}return null}function ss(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&Yi()}}function cs(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&Yi()}}function ls(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Tn(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&bi();break;case 3:Ma(),hi(mi),hi(vi);break;case 5:Ua(r);break;case 4:Ma();break;case 13:case 19:hi(Va);break;case 10:ia(r)}n=n.return}Ou=e,Pu=Ds(e.current,null),Du=t,Lu=Cu,Mu=null,Uu=Fu=1073741823,Vu=null,ju=0,Bu=!1}function fs(e,t){for(;;){try{if(ra(),za.current=bo,Qa)for(var n=Wa.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ka=0,Ha=Ga=Wa=null,Qa=!1,null===Pu||null===Pu.return)return Lu=1,Mu=t,Pu=null;e:{var i=e,a=Pu.return,o=Pu,u=t;if(t=Du,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var s=u;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&Va.current),f=a;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(s),f.updateQueue=m}else v.add(s);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=fa(1073741823,null);y.tag=2,ha(o,y)}o.expirationTime=1073741823;break e}u=void 0,o=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new ku,u=new Set,g.set(s,u)):void 0===(u=g.get(s))&&(u=new Set,g.set(s,u)),!u.has(o)){u.add(o);var k=Ss.bind(null,i,s,o);s.then(k,k)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(o))}5!==Lu&&(Lu=2),u=nu(u,o),f=a;do{switch(f.tag){case 3:s=u,f.effectTag|=4096,f.expirationTime=t,da(f,bu(f,s,t));break e;case 1:s=u;var b=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gu||!Gu.has(w)))){f.effectTag|=4096,f.expirationTime=t,da(f,wu(f,s,t));break e}}f=f.return}while(null!==f)}Pu=gs(Pu)}catch(x){t=x;continue}break}}function hs(){var e=Tu.current;return Tu.current=bo,null===e?bo:e}function ds(e,t){e<Fu&&2<e&&(Fu=e),null!==t&&e<Uu&&2<e&&(Uu=e,Vu=t)}function ps(e){e>ju&&(ju=e)}function vs(){for(;null!==Pu;)Pu=ys(Pu)}function ms(){for(;null!==Pu&&!Fi();)Pu=ys(Pu)}function ys(e){var t=xu(e.alternate,e,Du);return e.memoizedProps=e.pendingProps,null===t&&(t=gs(e)),Iu.current=null,t}function gs(e){Pu=e;do{var t=Pu.alternate;if(e=Pu.return,0===(2048&Pu.effectTag)){if(t=eu(t,Pu,Du),1===Du||1!==Pu.childExpirationTime){for(var n=0,r=Pu.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Pu.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Pu.firstEffect),null!==Pu.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Pu.firstEffect),e.lastEffect=Pu.lastEffect),1<Pu.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Pu:e.firstEffect=Pu,e.lastEffect=Pu))}else{if(null!==(t=tu(Pu)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Pu.sibling))return t;Pu=e}while(null!==Pu);return Lu===Cu&&(Lu=5),null}function ks(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function bs(e){var t=Ki();return Gi(99,ws.bind(null,e,t)),null}function ws(e,t){do{_s()}while(null!==Qu);if(0!==(48&Ru))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=ks(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ou&&(Pu=Ou=null,Du=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Ru;Ru|=Su,Iu.current=null,kn=Ht;var u=vn();if(mn(u)){if("selectionStart"in u)var s={start:u.selectionStart,end:u.selectionEnd};else e:{var c=(s=(s=u.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{s.nodeType,f.nodeType}catch(E){s=null;break e}var h=0,d=-1,p=-1,v=0,m=0,y=u,g=null;t:for(;;){for(var k;y!==s||0!==l&&3!==y.nodeType||(d=h+l),y!==f||0!==c&&3!==y.nodeType||(p=h+c),3===y.nodeType&&(h+=y.nodeValue.length),null!==(k=y.firstChild);)g=y,y=k;for(;;){if(y===u)break t;if(g===s&&++v===l&&(d=h),g===f&&++m===c&&(p=h),null!==(k=y.nextSibling))break;g=(y=g).parentNode}y=k}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;bn={activeElementDetached:null,focusedElem:u,selectionRange:s},Ht=!1,qu=i;do{try{xs()}catch(E){if(null===qu)throw Error(o(330));Es(qu,E),qu=qu.nextEffect}}while(null!==qu);qu=i;do{try{for(u=e,s=t;null!==qu;){var b=qu.effectTag;if(16&b&&Be(qu.stateNode,""),128&b){var w=qu.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:du(qu),qu.effectTag&=-3;break;case 6:du(qu),qu.effectTag&=-3,yu(qu.alternate,qu);break;case 1024:qu.effectTag&=-1025;break;case 1028:qu.effectTag&=-1025,yu(qu.alternate,qu);break;case 4:yu(qu.alternate,qu);break;case 8:mu(u,l=qu,s),fu(l)}qu=qu.nextEffect}}catch(E){if(null===qu)throw Error(o(330));Es(qu,E),qu=qu.nextEffect}}while(null!==qu);if(x=bn,w=vn(),b=x.focusedElem,s=x.selectionRange,w!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==s&&mn(b)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,u=Math.min(s.start,l),s=void 0===s.end?u:Math.min(s.end,l),!x.extend&&u>s&&(l=s,s=u,u=l),l=dn(b,u),f=dn(b,s),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),u>s?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ht=!!kn,bn=kn=null,e.current=n,qu=i;do{try{for(b=e;null!==qu;){var _=qu.effectTag;if(36&_&&cu(b,qu.alternate,qu),128&_){w=void 0;var T=qu.ref;if(null!==T){var I=qu.stateNode;qu.tag,w=I,"function"===typeof T?T(w):T.current=w}}qu=qu.nextEffect}}catch(E){if(null===qu)throw Error(o(330));Es(qu,E),qu=qu.nextEffect}}while(null!==qu);qu=null,Ui(),Ru=a}else e.current=n;if(Hu)Hu=!1,Qu=e,Yu=t;else for(qu=i;null!==qu;)t=qu.nextEffect,qu.nextEffect=null,qu=t;if(0===(t=e.firstPendingTime)&&(Gu=null),1073741823===t?e===Ju?$u++:($u=0,Ju=e):$u=0,"function"===typeof As&&As(n.stateNode,r),as(e),Ku)throw Ku=!1,e=Wu,Wu=null,e;return 0!==(8&Ru)||Yi(),null}function xs(){for(;null!==qu;){var e=qu.effectTag;0!==(256&e)&&ou(qu.alternate,qu),0===(512&e)||Hu||(Hu=!0,Hi(97,(function(){return _s(),null}))),qu=qu.nextEffect}}function _s(){if(90!==Yu){var e=97<Yu?97:Yu;return Yu=90,Gi(e,Ts)}}function Ts(){if(null===Qu)return!1;var e=Qu;if(Qu=null,0!==(48&Ru))throw Error(o(331));var t=Ru;for(Ru|=Su,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:uu(5,n),su(5,n)}}catch(r){if(null===e)throw Error(o(330));Es(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ru=t,Yi(),!0}function Is(e,t,n){ha(e,t=bu(e,t=nu(n,t),1073741823)),null!==(e=rs(e,1073741823))&&as(e)}function Es(e,t){if(3===e.tag)Is(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Is(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){ha(n,e=wu(n,e=nu(t,e),1073741823)),null!==(n=rs(n,1073741823))&&as(n);break}}n=n.return}}function Ss(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ou===e&&Du===n?Lu===Nu||Lu===Au&&1073741823===Fu&&qi()-zu<500?ls(e,Du):Bu=!0:js(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,as(e)))}function Cs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=ts(t=es(),e,null)),null!==(e=rs(e,t))&&as(e)}xu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||mi.current)Do=!0;else{if(r<n){switch(Do=!1,t.tag){case 3:qo(t),Oo();break;case 5:if(Fa(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ki(t.type)&&_i(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,di(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Qo(e,t,n):(di(Va,1&Va.current),null!==(t=Jo(e,t,n))?t.sibling:null);di(Va,1&Va.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return $o(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),di(Va,Va.current),!r)return null}return Jo(e,t,n)}Do=!1}}else Do=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=gi(t,vi.current),oa(t,n),i=$a(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ki(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ca(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ga(t,r,u,e),i.updater=ka,t.stateNode=i,i._reactInternalFiber=t,_a(t,r,e,n),t=zo(null,t,r,!0,a,n)}else t.tag=0,Lo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ps(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===se)return 11;if(e===fe)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=jo(null,t,i,e,n);break e;case 1:t=Bo(null,t,i,e,n);break e;case 11:t=Mo(null,t,i,e,n);break e;case 14:t=Fo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),pa(t,r,null,n),(r=t.memoizedState.element)===i)Oo(),t=Jo(e,t,n);else{if((i=t.stateNode.hydrate)&&(Io=In(t.stateNode.containerInfo.firstChild),To=t,i=Eo=!0),i)for(n=Aa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Lo(e,t,r,n),Oo();t=t.child}return t;case 5:return Fa(t),null===e&&Ao(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,xn(r,i)?u=null:null!==a&&xn(r,a)&&(t.effectTag|=16),Vo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Lo(e,t,u,n),t=t.child),t;case 6:return null===e&&Ao(t),null;case 13:return Qo(e,t,n);case 4:return La(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(di(Zi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=Br(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!mi.current){t=Jo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=fa(n,null)).tag=2,ha(s,l)),s.expirationTime<n&&(s.expirationTime=n),null!==(l=s.alternate)&&l.expirationTime<n&&(l.expirationTime=n),aa(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Lo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,oa(t,n),r=r(i=ua(i,a.unstable_observedBits)),t.effectTag|=1,Lo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Fo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Uo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ki(r)?(e=!0,_i(t)):e=!1,oa(t,n),wa(t,r,i),_a(t,r,i,n),zo(null,t,r,!0,e,n);case 19:return $o(e,t,n)}throw Error(o(156,t.tag))};var As=null,Ns=null;function Rs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Os(e,t,n,r){return new Rs(e,t,n,r)}function Ps(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ds(e,t){var n=e.alternate;return null===n?((n=Os(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ls(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ps(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case ne:return Ms(n.children,i,a,t);case ue:u=8,i|=7;break;case re:u=8,i|=1;break;case ie:return(e=Os(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Os(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case le:return(e=Os(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:u=10;break e;case oe:u=9;break e;case se:u=11;break e;case fe:u=14;break e;case he:u=16,r=null;break e;case de:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Os(u,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Ms(e,t,n,r){return(e=Os(7,e,r,t)).expirationTime=n,e}function Fs(e,t,n){return(e=Os(6,e,null,t)).expirationTime=n,e}function Us(e,t,n){return(t=Os(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vs(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function js(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Bs(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function zs(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function qs(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ks(e,t,n,r){var i=t.current,a=es(),u=ma.suspense;a=ts(a,i,u);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(ki(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(ki(c)){n=xi(n,c,s);break e}}n=s}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=fa(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),ns(i,a),a}function Ws(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gs(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Hs(e,t){Gs(e,t),(e=e.alternate)&&Gs(e,t)}function Qs(e,t,n){var r=new Vs(e,t,n=null!=n&&!0===n.hydrate),i=Os(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ca(i),e[Nn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);St.forEach((function(e){vt(e,t,n)})),Ct.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Ys(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xs(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=Ws(o);u.call(e)}}Ks(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Qs(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=Ws(o);s.call(e)}}cs((function(){Ks(t,o,e,i)}))}return Ws(o)}function $s(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Js(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ys(t))throw Error(o(200));return $s(e,t,null,n)}Qs.prototype.render=function(e){Ks(e,this._internalRoot,null,null)},Qs.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ks(null,e,null,(function(){t[Nn]=null}))},mt=function(e){if(13===e.tag){var t=$i(es(),150,100);ns(e,t),Hs(e,t)}},yt=function(e){13===e.tag&&(ns(e,3),Hs(e,3))},gt=function(e){if(13===e.tag){var t=es();ns(e,t=ts(t,e,null)),Hs(e,t)}},C=function(e,t,n){switch(t){case"input":if(Ie(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Dn(r);if(!i)throw Error(o(90));we(r),Ie(r,i)}}}break;case"textarea":Oe(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},D=ss,L=function(e,t,n,r,i){var a=Ru;Ru|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Ru=a)&&Yi()}},M=function(){0===(49&Ru)&&(function(){if(null!==Xu){var e=Xu;Xu=null,e.forEach((function(e,t){qs(t,e),as(t)})),Yi()}}(),_s())},F=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&Yi()}};var Zs={Events:[On,Pn,Dn,E,_,Bn,function(e){at(e,jn)},O,P,Jt,st,_s,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);As=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ns=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Rn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zs,t.createPortal=Js,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ru))throw Error(o(187));var n=Ru;Ru|=1;try{return Gi(99,e.bind(null,t))}finally{Ru=n,Yi()}},t.hydrate=function(e,t,n){if(!Ys(t))throw Error(o(200));return Xs(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ys(t))throw Error(o(200));return Xs(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(o(40));return!!e._reactRootContainer&&(cs((function(){Xs(null,null,e,!1,(function(){e._reactRootContainer=null,e[Nn]=null}))})),!0)},t.unstable_batchedUpdates=ss,t.unstable_createPortal=function(e,t){return Js(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ys(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Xs(e,t,n,!1,r)},t.version="16.14.0"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,T=n[2]||l,I=y||g;r.push({name:m||a++,prefix:v||"",delimiter:T,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:I?c(I):b?".*":"[^"+s(T)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k={};function b(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||g}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||g}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=b.prototype;var _=x.prototype=new w;_.constructor=x,r(_,b.prototype),_.isPureReactComponent=!0;var T={current:null},I=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)I.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:T.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,N=[];function R(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function P(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var u=!1;if(null===e)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case o:u=!0}}if(u)return n(r,e,""===t?"."+L(e,0):t),1;if(u=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var c=t+L(i=e[s],s);u+=P(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),s=0;!(i=e.next()).done;)u+=P(i=i.value,c=t+L(i,s++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return u}function D(e,t,n){return null==e?0:P(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),D(e,F,t=R(t,a,r,i)),O(t)}var V={current:null};function j(){var e=V.current;if(null===e)throw Error(y(321));return e}var B={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,M,t=R(null,null,t,n)),O(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(y(143));return e}},t.Component=b,t.Fragment=u,t.Profiler=c,t.PureComponent=x,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)I.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return j().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,n){return j().useReducer(e,t,n)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="16.14.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,s=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(c,0))},r=function(e,t){s=setTimeout(e,t)},i=function(){clearTimeout(s)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var m=h.now();t.unstable_now=function(){return h.now()-m}}var y=!1,g=null,k=-1,b=5,w=0;a=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+b;try{g(!0,e)?_.postMessage(null):(y=!1,g=null)}catch(n){throw _.postMessage(null),n}}else y=!1},n=function(e){g=e,y||(y=!0,_.postMessage(null))},r=function(e,n){k=d((function(){e(t.unstable_now())}),n)},i=function(){p(k),k=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],N=1,R=null,O=3,P=!1,D=!1,L=!1;function M(e){for(var t=I(A);null!==t;){if(null===t.callback)E(A);else{if(!(t.startTime<=e))break;E(A),t.sortIndex=t.expirationTime,T(C,t)}t=I(A)}}function F(e){if(L=!1,M(e),!D)if(null!==I(C))D=!0,n(U);else{var t=I(A);null!==t&&r(F,t.startTime-e)}}function U(e,n){D=!1,L&&(L=!1,i()),P=!0;var o=O;try{for(M(n),R=I(C);null!==R&&(!(R.expirationTime>n)||e&&!a());){var u=R.callback;if(null!==u){R.callback=null,O=R.priorityLevel;var s=u(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?R.callback=s:R===I(C)&&E(C),M(n)}else E(C);R=I(C)}if(null!==R)var c=!0;else{var l=I(A);null!==l&&r(F,l.startTime-n),c=!1}return c}finally{R=null,O=o,P=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||P||(D=!0,n(U))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return I(C)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();if("object"===typeof o&&null!==o){var s=o.delay;s="number"===typeof s&&0<s?u+s:u,o="number"===typeof o.timeout?o.timeout:V(e)}else o=V(e),s=u;return e={id:N++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>u?(e.sortIndex=s,T(A,e),null===I(C)&&e===I(A)&&(L?i():L=!0,r(F,s-u))):(e.sortIndex=o,T(C,e),D||P||(D=!0,n(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=I(C);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Gn},SDK_VERSION:function(){return ri},_DEFAULT_ENTRY_NAME:function(){return Kr},_addComponent:function(){return Qr},_addOrOverwriteComponent:function(){return Yr},_apps:function(){return Gr},_clearComponents:function(){return Zr},_components:function(){return Hr},_getProvider:function(){return $r},_registerComponent:function(){return Xr},_removeServiceInstance:function(){return Jr},deleteApp:function(){return ui},getApp:function(){return ai},getApps:function(){return oi},initializeApp:function(){return ii},onLog:function(){return li},registerVersion:function(){return ci},setLogLevel:function(){return fi}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}var f=n(7),h=n.n(f);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){return"/"===e.charAt(0)}function v(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var m=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&p(e),o=t&&p(t),u=a||o;if(e&&p(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?v(i,l):".."===f?(v(i,l),c++):c&&(v(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&p(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},y="Invariant failed";function g(e,t){if(!e)throw new Error(y)}function k(e){return"/"===e.charAt(0)?e:"/"+e}function b(e){return"/"===e.charAt(0)?e.substr(1):e}function w(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function x(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function _(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function T(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=d({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=m(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function I(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var E=!("undefined"===typeof window||!window.document||!window.document.createElement);function S(e,t){t(window.confirm(e))}var C="popstate",A="hashchange";function N(){try{return window.history.state||{}}catch(e){return{}}}function R(e){void 0===e&&{},E||g(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?S:u,c=i.keyLength,l=void 0===c?6:c,f=e.basename?x(k(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&w(a,f),T(a,r,n)}function p(){return Math.random().toString(36).substr(2,l)}var v=I();function m(e){d(j,e),j.length=t.length,v.notifyListeners(j.location,j.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(h(e.state))}function b(){O(h(N()))}var R=!1;function O(e){if(R)!1,m();else{v.confirmTransitionTo(e,"POP",s,(function(t){t?m({action:"POP",location:e}):function(e){var t=j.location,n=D.indexOf(t.key);-1===n&&0;var r=D.indexOf(e.key);-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}var P=h(N()),D=[P.key];function L(e){return f+_(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(C,y),r&&window.addEventListener(A,b)):0===F&&(window.removeEventListener(C,y),r&&window.removeEventListener(A,b))}var V=!1;var j={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",a=T(e,r,p(),j.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=D.indexOf(j.location.key),l=D.slice(0,c+1);l.push(a.key),l,m({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=T(e,r,p(),j.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=D.indexOf(j.location.key);-1!==c&&(D[c]=a.key),m({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return V||(U(1),!0),function(){return V&&(!1,U(-1)),t()}},listen:function(e){var t=v.appendListener(e);return U(1),function(){U(-1),t()}}};return j}var O="hashchange",P={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+b(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:b,decodePath:k},slash:{encodePath:k,decodePath:k}};function D(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function L(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function M(e){window.location.replace(D(window.location.href)+"#"+e)}function F(e){void 0===e&&(e={}),E||g(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?S:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?x(k(e.basename)):"",s=P[o],c=s.encodePath,l=s.decodePath;function f(){var e=l(L());return u&&(e=w(e,u)),T(e)}var h=I();function p(e){d(j,e),j.length=t.length,h.notifyListeners(j.location,j.action)}var v=!1,m=null;function y(){var e=L(),t=c(e);if(e!==t)M(t);else{var n=f(),r=j.location;if(!v&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===_(n))return;m=null,function(e){if(v)v=!1,p();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=j.location,n=N.lastIndexOf(_(t));-1===n&&(n=0);var r=N.lastIndexOf(_(e));-1===r&&(r=0);var i=n-r;i&&(v=!0,R(i))}(e)}))}}(n)}}var b=L(),C=c(b);b!==C&&M(C);var A=f(),N=[_(A)];function R(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(O,y):0===F&&window.removeEventListener(O,y)}var V=!1;var j={length:t.length,action:"POP",location:A,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=D(window.location.href)),n+"#"+c(u+_(e))},push:function(e,t){var n="PUSH",r=T(e,void 0,void 0,j.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=_(r),i=c(u+t);if(L()!==i){m=t,function(e){window.location.hash=e}(i);var a=N.lastIndexOf(_(j.location)),o=N.slice(0,a+1);o.push(t),N=o,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=T(e,void 0,void 0,j.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=_(r),i=c(u+t);L()!==i&&(m=t,M(i));var a=N.indexOf(_(j.location));-1!==a&&(N[a]=t),p({action:n,location:r})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),t()}},listen:function(e){var t=h.appendListener(e);return U(1),function(){U(-1),t()}}};return j}function U(e,t,n){return Math.min(Math.max(e,t),n)}function V(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,c=I();function l(e){d(y,e),y.length=y.entries.length,c.notifyListeners(y.location,y.action)}function f(){return Math.random().toString(36).substr(2,s)}var h=U(o,0,i.length-1),p=i.map((function(e){return T(e,void 0,"string"===typeof e?f():e.key||f())})),v=_;function m(e){var t=U(y.index+e,0,y.entries.length-1),r=y.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var y={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=T(e,t,f(),y.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=T(e,t,f(),y.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,l({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return y}var j=n(239),B=n.n(j);n(228);function z(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var q=1073741823,K="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function W(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var G=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return K[e]=(K[e]||0)+1}()+"__",o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=W(t.props.value),t}l(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):q,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=h().object.isRequired,r);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?q:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?q:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=h().object,i),{Provider:o,Consumer:u}},H=function(e){var t=G();return t.displayName=e,t},Q=H("Router-History"),Y=H("Router"),X=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}l(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(Y.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Q.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var $={},J=0;function Z(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=$[n]||($[n]={});if(r[e])return r[e];var i=[],a={regexp:B()(e,i,t),keys:i};return J<1e4&&(r[e]=a,J++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ee=function(e){function n(){return e.apply(this,arguments)||this}return l(n,e),n.prototype.render=function(){var e=this;return t.createElement(Y.Consumer,null,(function(n){n||g(!1);var r=e.props.location||n.location,i=d({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Z(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(Y.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function te(e){return"/"===e.charAt(0)?e:"/"+e}function ne(e,t){if(!e)return t;var n=te(e);return 0!==t.pathname.indexOf(n)?t:d({},t,{pathname:t.pathname.substr(n.length)})}function re(e){return"string"===typeof e?e:_(e)}function ie(e){return function(){g(!1)}}function ae(){}t.Component;var oe=function(e){function n(){return e.apply(this,arguments)||this}return l(n,e),n.prototype.render=function(){var e=this;return t.createElement(Y.Consumer,null,(function(n){n||g(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?Z(a.pathname,d({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var ue=t.useContext;t.Component;var se=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=F(t.props),t}return l(n,e),n.prototype.render=function(){return t.createElement(X,{history:this.history,children:this.props.children})},n}(t.Component);var ce=function(e,t){return"function"===typeof e?e(t):e},le=function(e,t){return"string"===typeof e?T(e,null,null,t):e},fe=function(e){return e},he=t.forwardRef;"undefined"===typeof he&&(he=fe);var de=he((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=z(e,["innerRef","navigate","onClick"]),u=o.target,s=d({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=fe!==he&&n||r,t.createElement("a",s)}));var pe=he((function(e,n){var r=e.component,i=void 0===r?de:r,a=e.replace,o=e.to,u=e.innerRef,s=z(e,["component","replace","to","innerRef"]);return t.createElement(Y.Consumer,null,(function(e){e||g(!1);var r=e.history,c=le(ce(o,e.location),e.location),l=c?r.createHref(c):"",f=d({},s,{href:l,navigate:function(){var t=ce(o,e.location),n=_(e.location)===_(le(t));(a||n?r.replace:r.push)(t)}});return fe!==he?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),ve=function(e){return e},me=t.forwardRef;"undefined"===typeof me&&(me=ve);me((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,p=e.strict,v=e.style,m=e.to,y=e.innerRef,k=z(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Y.Consumer,null,(function(e){e||g(!1);var r=f||e.location,a=le(ce(m,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?Z(r.pathname,{path:w,exact:c,sensitive:h,strict:p}):null,_=!!(l?l(x,r):x),T="function"===typeof s?s(_):s,I="function"===typeof v?v(_):v;_&&(T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(T,o),I=d({},I,u));var E=d({"aria-current":_&&i||null,className:T,style:I,to:a},k);return ve!==me?E.ref=n||y:E.innerRef=y,t.createElement(pe,E)}))}));function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function ge(){ge=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==ye(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ke(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ke(a,r,i,o,u,"next",e)}function u(e){ke(a,r,i,o,u,"throw",e)}o(void 0)}))}}function we(e){return we="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_e(e,t,n[t])}))}return e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ee=function(){},Se={},Ce={},Ae={mark:Ee,measure:Ee};try{"undefined"!==typeof window&&(Se=window),"undefined"!==typeof document&&(Ce=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(Ae=performance)}catch(YN){}var Ne=(Se.navigator||{}).userAgent,Re=void 0===Ne?"":Ne,Oe=Se,Pe=Ce,De=Ae,Le=(Oe.document,!!Pe.documentElement&&!!Pe.head&&"function"===typeof Pe.addEventListener&&"function"===typeof Pe.createElement),Me=(~Re.indexOf("MSIE")||Re.indexOf("Trident/"),"svg-inline--fa"),Fe="data-fa-i2svg",Ue=(function(){try{}catch(YN){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),Ve=Ue.concat([11,12,13,14,15,16,17,18,19,20]),je={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Be=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",je.GROUP,je.SWAP_OPACITY,je.PRIMARY,je.SECONDARY].concat(Ue.map((function(e){return"".concat(e,"x")}))).concat(Ve.map((function(e){return"w-".concat(e)}))),Oe.FontAwesomeConfig||{});if(Pe&&"function"===typeof Pe.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Ie(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Pe.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(Be[r]=i)}))}var ze=Te({},{familyPrefix:"fa",replacementClass:Me,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Be);ze.autoReplaceSvg||(ze.observeMutations=!1);var qe=Te({},ze);Oe.FontAwesomeConfig=qe;var Ke=Oe||{};Ke.___FONT_AWESOME___||(Ke.___FONT_AWESOME___={}),Ke.___FONT_AWESOME___.styles||(Ke.___FONT_AWESOME___.styles={}),Ke.___FONT_AWESOME___.hooks||(Ke.___FONT_AWESOME___.hooks={}),Ke.___FONT_AWESOME___.shims||(Ke.___FONT_AWESOME___.shims=[]);var We=Ke.___FONT_AWESOME___,Ge=[];Le&&((Pe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Pe.readyState)||Pe.addEventListener("DOMContentLoaded",(function e(){Pe.removeEventListener("DOMContentLoaded",e),1,Ge.map((function(e){return e()}))})));var He,Qe="pending",Ye="settled",Xe="fulfilled",$e="rejected",Je=function(){},Ze="undefined"!==typeof n.g&&"undefined"!==typeof n.g.process&&"function"===typeof n.g.process.emit,et="undefined"===typeof setImmediate?setTimeout:setImmediate,tt=[];function nt(){for(var e=0;e<tt.length;e++)tt[e][0](tt[e][1]);tt=[],He=!1}function rt(e,t){tt.push([e,t]),He||(He=!0,et(nt,0))}function it(e){var t=e.owner,n=t._state,r=t._data,i=e[n],a=e.then;if("function"===typeof i){n=Xe;try{r=i(r)}catch(YN){st(a,YN)}}at(a,r)||(n===Xe&&ot(a,r),n===$e&&st(a,r))}function at(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===we(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?ut(e,r):ot(e,r))}),(function(t){n||(n=!0,st(e,t))})),!0}}catch(YN){return n||st(e,YN),!0}return!1}function ot(e,t){e!==t&&at(e,t)||ut(e,t)}function ut(e,t){e._state===Qe&&(e._state=Ye,e._data=t,rt(lt,e))}function st(e,t){e._state===Qe&&(e._state=Ye,e._data=t,rt(ft,e))}function ct(e){e._then=e._then.forEach(it)}function lt(e){e._state=Xe,ct(e)}function ft(e){e._state=$e,ct(e),!e._handled&&Ze&&n.g.process.emit("unhandledRejection",e._data,e)}function ht(e){n.g.process.emit("rejectionHandled",e)}function dt(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof dt===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){st(t,e)}try{e((function(e){ot(t,e)}),n)}catch(YN){n(YN)}}(e,this)}dt.prototype={constructor:dt,_state:Qe,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(Je),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===$e&&Ze&&rt(ht,this)),this._state===Xe||this._state===$e?rt(it,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},dt.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new dt((function(t,n){var r=[],i=0;function a(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var o,u=0;u<e.length;u++)(o=e[u])&&"function"===typeof o.then?o.then(a(u),n):r[u]=o;i||t(r)}))},dt.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new dt((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},dt.resolve=function(e){return e&&"object"===we(e)&&e.constructor===dt?e:new dt((function(t){t(e)}))},dt.reject=function(e){return new dt((function(t,n){n(e)}))};var pt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function vt(e){if(e&&Le){var t=Pe.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Pe.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}return Pe.head.insertBefore(t,r),e}}function mt(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function yt(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function gt(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function kt(e){return e.size!==pt.size||e.x!==pt.x||e.y!==pt.y||e.rotate!==pt.rotate||e.flipX||e.flipY}function bt(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var wt={x:0,y:0,width:"100%",height:"100%"};function xt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function _t(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=y?"":"fa-w-".concat(Math.ceil(v/m*16)),k=[qe.replacementClass,a?"".concat(qe.familyPrefix,"-").concat(a):"",g].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:Te({},f.attributes,{"data-prefix":i,"data-icon":a,class:k,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},w=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(b.attributes[Fe]=""),s&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||mt())},children:[s]});var x=Te({},b,{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:Te({},w,f.styles)}),_=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=bt({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:Te({},wt,{fill:"white"})},p=c.children?{children:c.children.map(xt)}:{},v={tag:"g",attributes:Te({},h.inner),children:[xt(Te({tag:c.tag,attributes:Te({},c.attributes,h.path)},p))]},m={tag:"g",attributes:Te({},h.outer),children:[v]},y="mask-".concat(o||mt()),g="clip-".concat(o||mt()),k={tag:"mask",attributes:Te({},wt,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:Te({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},wt)}),{children:n,attributes:r}}(x):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,a=gt(e.styles);if(a.length>0&&(n.style=a),kt(i)){var o=bt({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:Te({},o.outer),children:[{tag:"g",attributes:Te({},o.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Te({},r.icon.attributes,o.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(x),T=_.children,I=_.attributes;return x.children=T,x.attributes=I,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Te({},i,{id:!0===a?"".concat(t,"-").concat(qe.familyPrefix,"-").concat(n):a}),children:r}]}]}(x):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(kt(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=gt(Te({},a,{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(x)}var Tt=function(){},It=(qe.measurePerformance&&De&&De.mark&&De.measure,function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o});function Et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof We.hooks.addPack||i?We.styles[e]=Te({},We.styles[e]||{},a):We.hooks.addPack(e,a),"fas"===e&&Et("fa",t)}var St=We.styles,Ct=We.shims,At=function(){var e=function(e){return It(St,(function(t,n,r){return t[r]=It(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in St;It(Ct,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:a},e}),{})};At();We.styles;function Nt(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function Rt(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?yt(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(yt(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Rt).join(""),"</").concat(t,">")}var Ot=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function Pt(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}Pt.prototype=Object.create(Error.prototype),Pt.prototype.constructor=Pt;var Dt={fill:"currentColor"},Lt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Mt={tag:"path",attributes:Te({},Dt,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Ft=Te({},Lt,{attributeName:"opacity"});Te({},Dt,{cx:"256",cy:"364",r:"28"}),Te({},Lt,{attributeName:"r",values:"28;14;28;28;14;28;"}),Te({},Ft,{values:"1;0;1;1;0;1;"}),Te({},Dt,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Te({},Ft,{values:"1;0;0;0;0;1;"}),Te({},Dt,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Te({},Ft,{values:"0;0;1;1;0;0;"}),We.styles;function Ut(e){var t=e[0],n=e[1],r=Ie(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(qe.familyPrefix,"-").concat(je.GROUP)},children:[{tag:"path",attributes:{class:"".concat(qe.familyPrefix,"-").concat(je.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(qe.familyPrefix,"-").concat(je.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}We.styles;function Vt(){var e="fa",t=Me,n=qe.familyPrefix,r=qe.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var jt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Te({},e.definitions[t]||{},i[t]),Et(t,i[t]),At()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon;e[i]||(e[i]={}),e[i][a]=o})),e}}],n&&xe(t.prototype,n),r&&xe(t,r),e}();function Bt(){qe.autoAddCss&&!Gt&&(vt(Vt()),Gt=!0)}function zt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Rt(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Le){var t=Pe.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function qt(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return Nt(Wt.definitions,n,r)||Nt(We.styles,n,r)}var Kt,Wt=new jt,Gt=!1,Ht={transform:function(e){return Ot(e)}},Qt=(Kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?pt:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,k=void 0===g?{}:g;if(e){var b=e.prefix,w=e.iconName,x=e.icon;return zt(Te({type:"icon"},e),(function(){return Bt(),qe.autoA11y&&(f?y["aria-labelledby"]="".concat(qe.replacementClass,"-title-").concat(d||mt()):(y["aria-hidden"]="true",y.focusable="false")),_t({icons:{main:Ut(x),mask:u?Ut(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:Te({},pt,r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:k,classes:v}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:qt(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:qt(r||{})),Kt(n,Te({},t,{mask:r}))});function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function en(e){return function(e){if(Array.isArray(e))return tn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nn(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var rn=["style"];function an(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=nn(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var on=!1;try{on=!0}catch(YN){}function un(e){return e&&"object"===$t(e)&&e.prefix&&e.iconName&&e.icon?e:Ht.icon?Ht.icon(e):null===e?null:e&&"object"===$t(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function sn(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Jt({},e,t):{}}var cn=["forwardedRef"];function ln(e){var t=e.forwardedRef,n=Zt(e,cn),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=n.maskId,l=un(r),f=sn("classes",[].concat(en(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,k=e.pull,b=(Jt(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),Jt(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),Jt(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),Jt(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(n)),en(o.split(" ")))),h=sn("transform","string"===typeof n.transform?Ht.transform(n.transform):n.transform),d=sn("mask",un(i)),p=Qt(l,Xt(Xt(Xt(Xt({},f),h),d),{},{symbol:a,title:u,titleId:s,maskId:c}));if(!p)return function(){var e;!on&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var v=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){ln.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),fn(v[0],m)}ln.displayName="FontAwesomeIcon",ln.propTypes={beat:h().bool,border:h().bool,beatFade:h().bool,bounce:h().bool,className:h().string,fade:h().bool,flash:h().bool,mask:h().oneOfType([h().object,h().array,h().string]),maskId:h().string,fixedWidth:h().bool,inverse:h().bool,flip:h().oneOf([!0,!1,"horizontal","vertical","both"]),icon:h().oneOfType([h().object,h().array,h().string]),listItem:h().bool,pull:h().oneOf(["right","left"]),pulse:h().bool,rotation:h().oneOf([0,90,180,270]),shake:h().bool,size:h().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:h().bool,spinPulse:h().bool,spinReverse:h().bool,symbol:h().oneOfType([h().bool,h().string]),title:h().string,titleId:h().string,transform:h().oneOfType([h().string,h().object]),swapOpacity:h().bool},ln.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var fn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=an(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[nn(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=Zt(r,rn);return a.attrs.style=Xt(Xt({},a.attrs.style),u),t.apply(void 0,[n.tag,Xt(Xt({},a.attrs),s)].concat(en(i)))}.bind(null,t.createElement),hn={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},dn={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},pn={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t,n){return t&&yn(e.prototype,t),n&&yn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function xn(e){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xn(e)}function _n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(YN){return!1}}function Tn(e,t){if(t&&("object"===ye(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}function In(e){var t=_n();return function(){var n,r=xn(e);if(t){var i=xn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tn(this,n)}}function En(e,t,n){return En=_n()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i},En.apply(null,arguments)}function Sn(e){var t="function"===typeof Map?new Map:void 0;return Sn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return En(e,arguments,xn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},Sn(e)}var Cn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},An={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Nn=function(e){return function(e){var t=Cn(e);return An.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Rn=function(e){try{return An.decodeString(e,!0)}catch(YN){console.error("base64Decode failed: ",YN)}return null};function On(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Pn(n)&&(e[n]=On(e[n],t[n]));return e}function Pn(e){return"__proto__"!==e}function Dn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ln(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(YN){return!1}}function Mn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Fn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Un(){var e=Dn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Vn(){return"object"===typeof indexedDB}var jn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Bn=function(){try{return jn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/nwitter2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(YN){return}var t=e&&Rn(e[1]);return t&&JSON.parse(t)}}()}catch(YN){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(YN))}},zn=function(e){var t=function(e){var t,n;return null===(n=null===(t=Bn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},qn=function(){var e;return null===(e=Bn())||void 0===e?void 0:e.config},Kn=function(){function e(){var t=this;mn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return gn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Wn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nn(JSON.stringify({alg:"none",type:"JWT"})),Nn(JSON.stringify(a)),""].join(".")}var Gn=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a;return mn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(bn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(bn(a),Hn.prototype.create),a}return gn(n)}(Sn(Error)),Hn=function(){function e(t,n,r){mn(this,e),this.service=t,this.serviceName=n,this.errors=r}return gn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Qn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Gn(n,a,t);return o}}]),e}();function Qn(e,t){return e.replace(Yn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Yn=/\{\$([^}]+)}/g;function Xn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $n(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Jn(u)&&Jn(s)){if(!$n(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Jn(e){return null!==e&&"object"===typeof e}function Zn(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function er(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function tr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function nr(e,t){var n=new rr(e,t);return n.subscribe.bind(n)}var rr=function(){function e(t,n){var r=this;mn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return gn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=kn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ir),void 0===r.error&&(r.error=ir),void 0===r.complete&&(r.complete=ir);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(YN){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(YN){"undefined"!==typeof console&&console.error&&console.error(YN)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ir(){}function ar(e){return e&&e._delegate?e._delegate:e}function or(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ur(e){return function(e){if(Array.isArray(e))return a(e)}(e)||or(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sr=function(){function e(t,n,r){mn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return gn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),cr="[DEFAULT]",lr=function(){function e(t,n){mn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return gn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Kn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(YN){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(YN){if(r)return null;throw YN}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch(YN){}var t,n=kn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(YN){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ur(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ur(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=kn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(sE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===cr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(sE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr;return this.component?this.component.multipleInstances?e:cr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var fr,hr,dr=function(){function e(t){mn(this,e),this.name=t,this.providers=new Map}return gn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new lr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),pr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(hr||(hr={}));var vr={debug:hr.DEBUG,verbose:hr.VERBOSE,info:hr.INFO,warn:hr.WARN,error:hr.ERROR,silent:hr.SILENT},mr=hr.INFO,yr=(vn(fr={},hr.DEBUG,"log"),vn(fr,hr.VERBOSE,"log"),vn(fr,hr.INFO,"info"),vn(fr,hr.WARN,"warn"),vn(fr,hr.ERROR,"error"),fr),gr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=yr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},kr=function(){function e(t){mn(this,e),this.name=t,this._logLevel=mr,this._logHandler=gr,this._userLogHandler=null,pr.push(this)}return gn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in hr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?vr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hr.DEBUG].concat(t)),this._logHandler.apply(this,[this,hr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,hr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hr.INFO].concat(t)),this._logHandler.apply(this,[this,hr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hr.WARN].concat(t)),this._logHandler.apply(this,[this,hr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hr.ERROR].concat(t)),this._logHandler.apply(this,[this,hr.ERROR].concat(t))}}]),e}();function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xr,_r;var Tr=new WeakMap,Ir=new WeakMap,Er=new WeakMap,Sr=new WeakMap,Cr=new WeakMap;var Ar={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ir.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Er.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Nr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_r||(_r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pr(this),n),Or(Tr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Or(e.apply(Pr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Pr(this),t].concat(r));return Er.set(a,t.sort?t.sort():[t]),Or(a)}}function Rr(e){return"function"===typeof e?Nr(e):(e instanceof IDBTransaction&&function(e){if(!Ir.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ir.set(e,t)}}(e),t=e,(xr||(xr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ar):e);var t}function Or(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Or(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Tr.set(t,e)})).catch((function(){})),Cr.set(t,e),t}(e);if(Sr.has(e))return Sr.get(e);var t=Rr(e);return t!==e&&(Sr.set(e,t),Cr.set(t,e)),t}var Pr=function(e){return Cr.get(e)};var Dr,Lr,Mr=["get","getKey","getAll","getAllKeys","count"],Fr=["put","add","delete","clear"],Ur=new Map;function Vr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ur.get(t))return Ur.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Fr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Mr.includes(n))){var a=function(){var e=be(ge().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ur.set(t,a),a}}}Ar=function(e){return wr(wr({},e),{},{get:function(t,n,r){return Vr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Vr(t,n)||e.has(t,n)}})}(Ar);var jr=function(){function e(t){mn(this,e),this.container=t}return gn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Br="@firebase/app",zr="0.8.4",qr=new kr("@firebase/app"),Kr="[DEFAULT]",Wr=(vn(Dr={},Br,"fire-core"),vn(Dr,"@firebase/app-compat","fire-core-compat"),vn(Dr,"@firebase/analytics","fire-analytics"),vn(Dr,"@firebase/analytics-compat","fire-analytics-compat"),vn(Dr,"@firebase/app-check","fire-app-check"),vn(Dr,"@firebase/app-check-compat","fire-app-check-compat"),vn(Dr,"@firebase/auth","fire-auth"),vn(Dr,"@firebase/auth-compat","fire-auth-compat"),vn(Dr,"@firebase/database","fire-rtdb"),vn(Dr,"@firebase/database-compat","fire-rtdb-compat"),vn(Dr,"@firebase/functions","fire-fn"),vn(Dr,"@firebase/functions-compat","fire-fn-compat"),vn(Dr,"@firebase/installations","fire-iid"),vn(Dr,"@firebase/installations-compat","fire-iid-compat"),vn(Dr,"@firebase/messaging","fire-fcm"),vn(Dr,"@firebase/messaging-compat","fire-fcm-compat"),vn(Dr,"@firebase/performance","fire-perf"),vn(Dr,"@firebase/performance-compat","fire-perf-compat"),vn(Dr,"@firebase/remote-config","fire-rc"),vn(Dr,"@firebase/remote-config-compat","fire-rc-compat"),vn(Dr,"@firebase/storage","fire-gcs"),vn(Dr,"@firebase/storage-compat","fire-gcs-compat"),vn(Dr,"@firebase/firestore","fire-fst"),vn(Dr,"@firebase/firestore-compat","fire-fst-compat"),vn(Dr,"fire-js","fire-js"),vn(Dr,"firebase","fire-js-all"),Dr),Gr=new Map,Hr=new Map;function Qr(e,t){try{e.container.addComponent(t)}catch(YN){qr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),YN)}}function Yr(e,t){e.container.addOrOverwriteComponent(t)}function Xr(e){var t=e.name;if(Hr.has(t))return qr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Hr.set(t,e);var n,r=kn(Gr.values());try{for(r.s();!(n=r.n()).done;){Qr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function $r(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kr;$r(e,t).clearInstance(n)}function Zr(){Hr.clear()}var ei=(vn(Lr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),vn(Lr,"bad-app-name","Illegal App name: '{$appName}"),vn(Lr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),vn(Lr,"app-deleted","Firebase App named '{$appName}' already deleted"),vn(Lr,"no-options","Need to provide options, when not being deployed to hosting via source."),vn(Lr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),vn(Lr,"invalid-log-argument","First argument to `onLog` must be null or a function."),vn(Lr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),vn(Lr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),vn(Lr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),vn(Lr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Lr),ti=new Hn("app","Firebase",ei),ni=function(){function e(t,n,r){var i=this;mn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sr("app",(function(){return i}),"PUBLIC"))}return gn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}]),e}(),ri="9.14.0";function ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Kr,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ti.create("bad-app-name",{appName:String(a)});if(n||(n=qn()),!n)throw ti.create("no-options");var o=Gr.get(a);if(o){if($n(n,o.options)&&$n(i,o.config))return o;throw ti.create("duplicate-app",{appName:a})}var u,s=new dr(a),c=kn(Hr.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new ni(n,i,s);return Gr.set(a,f),f}function ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,t=Gr.get(e);if(!t&&e===Kr)return ii();if(!t)throw ti.create("no-app",{appName:e});return t}function oi(){return Array.from(Gr.values())}function ui(e){return si.apply(this,arguments)}function si(){return(si=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Gr.has(n)){e.next=6;break}return Gr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ci(e,t,n){var r,i=null!==(r=Wr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void qr.warn(u.join(" "))}Xr(new sr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function li(e,t){if(null!==e&&"function"!==typeof e)throw ti.create("invalid-log-argument");!function(e,t){var n,r=kn(pr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=vr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:hr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function fi(e){var t;t=e,pr.forEach((function(e){e.setLogLevel(t)}))}var hi="firebase-heartbeat-store",di=null;function pi(){return di||(di=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Or(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Or(u.result),e.oldVersion,e.newVersion,Or(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(hi)}}).catch((function(e){throw ti.create("idb-open",{originalErrorMessage:e.message})}))),di}function vi(e){return mi.apply(this,arguments)}function mi(){return mi=be(ge().mark((function e(t){var n,r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pi();case 3:return r=e.sent,e.abrupt("return",r.transaction(hi).objectStore(hi).get(ki(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Gn?qr.warn(e.t0.message):(i=ti.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),qr.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),mi.apply(this,arguments)}function yi(e,t){return gi.apply(this,arguments)}function gi(){return gi=be(ge().mark((function e(t,n){var r,i,a,o,u;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pi();case 3:return i=e.sent,a=i.transaction(hi,"readwrite"),o=a.objectStore(hi),e.next=8,o.put(n,ki(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Gn?qr.warn(e.t0.message):(u=ti.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),qr.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),gi.apply(this,arguments)}function ki(e){return"".concat(e.name,"!").concat(e.options.appId)}var bi=function(){function e(t){var n=this;mn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ii(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return gn(e,[{key:"triggerHeartbeat",value:function(){var e=be(ge().mark((function e(){var t,n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=wi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=be(ge().mark((function e(){var t,n,r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=wi(),n=xi(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Nn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wi(){return(new Date).toISOString().substring(0,10)}function xi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=kn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ei(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ei(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var _i,Ti,Ii=function(){function e(t){mn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return gn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,vi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",yi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",yi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ur(r.heartbeats),ur(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ei(e){return Nn(JSON.stringify({version:2,heartbeats:e})).length}_i="",Xr(new sr("platform-logger",(function(e){return new jr(e)}),"PRIVATE")),Xr(new sr("heartbeat",(function(e){return new bi(e)}),"PRIVATE")),ci(Br,zr,_i),ci(Br,zr,"esm2017"),ci("fire-js","");var Si=function(){function e(t,n){var r=this;mn(this,e),this._delegate=t,this.firebase=n,Qr(t,new sr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return gn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ui(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Qr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Yr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ci=(vn(Ti={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),vn(Ti,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ti),Ai=new Hn("app-compat","Firebase",Ci);var Ni=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ii(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Xn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ci,setLogLevel:fi,onLog:li,apps:null,SDK_VERSION:ri,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Xr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ai.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&On(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Xn(n,e=e||Kr))throw Ai.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Si);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){On(n,e)},createSubscribe:nr,ErrorFactory:Hn,deepExtend:On}),n}(),Ri=new kr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ri.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Oi=self.firebase.SDK_VERSION;Oi&&Oi.indexOf("LITE")>=0&&Ri.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Pi=Ni;!function(e){ci("@firebase/app-compat","0.1.39",e)}();function Di(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xn(e)););return e}function Li(){return Li="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Di(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Li.apply(this,arguments)}Pi.registerVersion("firebase","9.14.0","app-compat");function Mi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Fi;Object.create;var Ui="facebook.com",Vi="github.com",ji="google.com",Bi="password",zi="twitter.com",qi="EMAIL_SIGNIN",Ki="PASSWORD_RESET",Wi="RECOVER_EMAIL",Gi="REVERT_SECOND_FACTOR_ADDITION",Hi="VERIFY_AND_CHANGE_EMAIL",Qi="VERIFY_EMAIL";function Yi(){return vn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Xi=function(){var e;return vn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),vn(e,"argument-error",""),vn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),vn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),vn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),vn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),vn(e,"cordova-not-ready","Cordova framework is not ready."),vn(e,"cors-unsupported","This browser is not supported."),vn(e,"credential-already-in-use","This credential is already associated with a different user account."),vn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),vn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),vn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),vn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),vn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),vn(e,"email-already-in-use","The email address is already in use by another account."),vn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),vn(e,"expired-action-code","The action code has expired."),vn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),vn(e,"internal-error","An internal AuthError has occurred."),vn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),vn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),vn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),vn(e,"invalid-auth-event","An internal AuthError has occurred."),vn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),vn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),vn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),vn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),vn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),vn(e,"invalid-email","The email address is badly formatted."),vn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),vn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),vn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),vn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),vn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),vn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),vn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),vn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),vn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),vn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),vn(e,"wrong-password","The password is invalid or the user does not have a password."),vn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),vn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),vn(e,"invalid-provider-id","The specified provider ID is invalid."),vn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),vn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),vn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),vn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),vn(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),vn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),vn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),vn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),vn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),vn(e,"missing-continue-uri","A continue URL must be provided in the request."),vn(e,"missing-iframe-start","An internal AuthError has occurred."),vn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),vn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),vn(e,"missing-multi-factor-info","No second factor identifier is provided."),vn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),vn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),vn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),vn(e,"app-deleted","This instance of FirebaseApp has been deleted."),vn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),vn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),vn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),vn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),vn(e,"no-auth-event","An internal AuthError has occurred."),vn(e,"no-such-provider","User was not linked to an account with the given provider."),vn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),vn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),vn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),vn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),vn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),vn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),vn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),vn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),vn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),vn(e,"rejected-credential","The request contains malformed or mismatching credentials."),vn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),vn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),vn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),vn(e,"timeout","The operation has timed out."),vn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),vn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),vn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),vn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),vn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),vn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),vn(e,"unverified-email","The operation requires a verified email."),vn(e,"user-cancelled","The user did not grant your application the permissions it requested."),vn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),vn(e,"user-disabled","The user account has been disabled by an administrator."),vn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),vn(e,"user-signed-out",""),vn(e,"weak-password","The password must be 6 characters long or more."),vn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),vn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},$i=Yi,Ji=new Hn("auth","Firebase",Yi()),Zi=new kr("@firebase/auth");function ea(e){if(Zi.logLevel<=hr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zi.error.apply(Zi,["Auth (".concat(ri,"): ").concat(e)].concat(n))}}function ta(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw aa.apply(void 0,[e].concat(n))}function na(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return aa.apply(void 0,[e].concat(n))}function ra(e,t,n){var r=Object.assign(Object.assign({},$i()),vn({},t,n));return new Hn("auth","Firebase",r).create(t,{appName:e.name})}function ia(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ta(e,"argument-error"),ra(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function aa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ur(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ur(o)))}return Ji.create.apply(Ji,[e].concat(n))}function oa(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw aa.apply(void 0,[t].concat(r))}}function ua(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ea(t),new Error(t)}function sa(e,t){e||ua(t)}var ca=new Map;function la(e){sa(e instanceof Function,"Expected a class definition");var t=ca.get(e);return t?(sa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ca.set(e,t),t)}function fa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ha(){return"http:"===da()||"https:"===da()}function da(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var pa=function(){function e(t,n){mn(this,e),this.shortDelay=t,this.longDelay=n,sa(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())||Fn()}return gn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ha()||Mn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function va(e,t){sa(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ma=function(){function e(){mn(this,e)}return gn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ya=(vn(Fi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),vn(Fi,"MISSING_CUSTOM_TOKEN","internal-error"),vn(Fi,"INVALID_IDENTIFIER","invalid-email"),vn(Fi,"MISSING_CONTINUE_URI","internal-error"),vn(Fi,"INVALID_PASSWORD","wrong-password"),vn(Fi,"MISSING_PASSWORD","internal-error"),vn(Fi,"EMAIL_EXISTS","email-already-in-use"),vn(Fi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),vn(Fi,"INVALID_IDP_RESPONSE","invalid-credential"),vn(Fi,"INVALID_PENDING_TOKEN","invalid-credential"),vn(Fi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),vn(Fi,"MISSING_REQ_TYPE","internal-error"),vn(Fi,"EMAIL_NOT_FOUND","user-not-found"),vn(Fi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),vn(Fi,"EXPIRED_OOB_CODE","expired-action-code"),vn(Fi,"INVALID_OOB_CODE","invalid-action-code"),vn(Fi,"MISSING_OOB_CODE","internal-error"),vn(Fi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),vn(Fi,"INVALID_ID_TOKEN","invalid-user-token"),vn(Fi,"TOKEN_EXPIRED","user-token-expired"),vn(Fi,"USER_NOT_FOUND","user-token-expired"),vn(Fi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),vn(Fi,"INVALID_CODE","invalid-verification-code"),vn(Fi,"INVALID_SESSION_INFO","invalid-verification-id"),vn(Fi,"INVALID_TEMPORARY_PROOF","invalid-credential"),vn(Fi,"MISSING_SESSION_INFO","missing-verification-id"),vn(Fi,"SESSION_EXPIRED","code-expired"),vn(Fi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),vn(Fi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),vn(Fi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),vn(Fi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),vn(Fi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),vn(Fi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),vn(Fi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),vn(Fi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),vn(Fi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),vn(Fi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),vn(Fi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Fi),ga=new pa(3e4,6e4);function ka(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ba(e,t,n,r){return wa.apply(this,arguments)}function wa(){return wa=be(ge().mark((function e(t,n,r,i){var a,o=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",xa(t,a,be(ge().mark((function e(){var a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Zn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ma.fetch()(Ea(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function xa(e,t,n){return _a.apply(this,arguments)}function _a(){return(_a=be(ge().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ya),n),e.prev=2,a=new Sa(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Ca(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Ca(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Ca(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Ca(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw ra(t,p,d);case 34:ta(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Gn)){e.next=41;break}throw e.t0;case 41:ta(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Ta(e,t,n,r){return Ia.apply(this,arguments)}function Ia(){return Ia=be(ge().mark((function e(t,n,r,i){var a,o,u=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ba(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ta(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Ea(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?va(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Sa=function(){function e(t){var n=this;mn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(na(n.auth,"network-request-failed"))}),ga.get())}))}return gn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ca(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=na(e,t,r);return i.customData._tokenResponse=n,i}function Aa(e,t){return Na.apply(this,arguments)}function Na(){return(Na=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pa(e,t){return Da.apply(this,arguments)}function Da(){return(Da=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(YN){}}function Ma(){return Ma=be(ge().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ar(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,oa((a=Ua(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:La(Fa(a.auth_time)),issuedAtTime:La(Fa(a.iat)),expirationTime:La(Fa(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Fa(e){return 1e3*Number(e)}function Ua(e){var t,n=s(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return ea("JWT malformed, contained fewer than 3 sections"),null;try{var o=Rn(i);return o?JSON.parse(o):(ea("Failed to decode base64 JWT payload"),null)}catch(YN){return ea("Caught error parsing JWT payload as JSON",null===(t=YN)||void 0===t?void 0:t.toString()),null}}function Va(e,t){return ja.apply(this,arguments)}function ja(){return ja=be(ge().mark((function e(t,n){var r=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Gn&&Ba(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ja.apply(this,arguments)}function Ba(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var za=function(){function e(t){mn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return gn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(be(ge().mark((function t(){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),qa=function(){function e(t,n){mn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return gn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=La(this.lastLoginAt),this.creationTime=La(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ka(e){return Wa.apply(this,arguments)}function Wa(){return Wa=be(ge().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Va(t,Pa(r,{idToken:i}));case 6:oa(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Qa(o.providerUserInfo):[],s=Ha(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new qa(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ga(){return(Ga=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ar(t),e.next=3,Ka(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ur(n),ur(t))}function Qa(e){return e.map((function(e){var t=e.providerId,n=Mi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ya(e,t){return Xa.apply(this,arguments)}function Xa(){return(Xa=be(ge().mark((function e(t,n){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(t,{},be(ge().mark((function e(){var r,i,a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ea(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ma.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $a=function(){function e(){mn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return gn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){oa(e.idToken,"internal-error"),oa("undefined"!==typeof e.idToken,"internal-error"),oa("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ua(e);return oa(t,"internal-error"),oa("undefined"!==typeof t.exp,"internal-error"),oa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=be(ge().mark((function e(t){var n,r=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],oa(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=be(ge().mark((function e(t,n){var r,i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ua("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(oa("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(oa("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(oa("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ja(e,t){oa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Za=function(){function e(t){mn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Mi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new za(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ur(a.providerData):[],this.metadata=new qa(a.createdAt||void 0,a.lastLoginAt||void 0)}return gn(e,[{key:"getIdToken",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(oa(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ma.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ga.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(oa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){oa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=be(ge().mark((function e(t){var n,r,i=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ka(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Va(this,Aa(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;oa(k&&_,t,"internal-error");var T=$a.fromJSON(this.name,_);oa("string"===typeof k,t,"internal-error"),Ja(f,t.name),Ja(h,t.name),oa("boolean"===typeof b,t,"internal-error"),oa("boolean"===typeof w,t,"internal-error"),Ja(d,t.name),Ja(p,t.name),Ja(v,t.name),Ja(m,t.name),Ja(y,t.name),Ja(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=be(ge().mark((function t(n,r){var i,a,o,u=arguments;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new $a).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ka(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),eo=function(){function e(){mn(this,e),this.type="NONE",this.storage={}}return gn(e,[{key:"_isAvailable",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();eo.type="NONE";var to=eo;function no(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ro=function(){function e(t,n,r){mn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=no(this.userKey,a.apiKey,o),this.fullPersistenceKey=no("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return gn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Za._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=be(ge().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(la(to),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||la(to),u=no(i,n.config.apiKey,n.name),s=null,c=kn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Za._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function io(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(so(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ao(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lo(t))return"Blackberry";if(fo(t))return"Webos";if(oo(t))return"Safari";if((t.includes("chrome/")||uo(t))&&!t.includes("edge/"))return"Chrome";if(co(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return/firefox\//i.test(e)}function oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return/crios\//i.test(e)}function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return/iemobile/i.test(e)}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return/android/i.test(e)}function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return/blackberry/i.test(e)}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return/webos/i.test(e)}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function po(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return ho(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function vo(){return Un()&&10===document.documentMode}function mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return ho(e)||co(e)||fo(e)||lo(e)||/windows phone/i.test(e)||so(e)}function yo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=io(Dn());break;case"Worker":t="".concat(io(Dn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ri,"/").concat(r)}var go=function(){function e(t){mn(this,e),this.auth=t,this.queue=[]}return gn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(YN){r(YN)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=be(ge().mark((function e(t){var n,r,i,a,o,u,s,c;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=kn(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=kn(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ko=function(){function e(t,n,r){mn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wo(this),this.idTokenSubscription=new wo(this),this.beforeStateQueue=new go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ji,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return gn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=la(t)),this._initializationPromise=this.queue(be(ge().mark((function r(){var i,a;return ge().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ro.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=be(ge().mark((function e(t){var n,r,i,a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return oa(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ka(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ar(t):null)&&oa(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=be(ge().mark((function e(t){var n,r=this,i=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&oa(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(be(ge().mark((function n(){return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(la(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Hn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=be(ge().mark((function e(t,n){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return oa(n=t&&la(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ro.create(this,[la(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=be(ge().mark((function e(t){var n=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return oa(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return oa(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=be(ge().mark((function e(){var t,n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bo(e){return ar(e)}var wo=function(){function e(t){var n=this;mn(this,e),this.auth=t,this.observer=null,this.addObserver=nr((function(e){return n.observer=e}))}return gn(e,[{key:"next",get:function(){return oa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function xo(e,t,n){var r=bo(e);oa(r._canInitEmulator,r,"emulator-config-failed"),oa(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=_o(t),o=function(e){var t=_o(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:To(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:To(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _o(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function To(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Io=function(){function e(t,n){mn(this,e),this.providerId=t,this.signInMethod=n}return gn(e,[{key:"toJSON",value:function(){return ua("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ua("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ua("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ua("not implemented")}}]),e}();function Eo(e,t){return So.apply(this,arguments)}function So(){return(So=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:resetPassword",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(e,t){return Ro.apply(this,arguments)}function Ro(){return(Ro=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:update",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t){return Po.apply(this,arguments)}function Po(){return(Po=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,"POST","/v1/accounts:signInWithPassword",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t){return Lo.apply(this,arguments)}function Lo(){return(Lo=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:sendOobCode",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return(Fo=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Do(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e,t){return Vo.apply(this,arguments)}function Vo(){return(Vo=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Do(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(e,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Do(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(e,t){return qo.apply(this,arguments)}function qo(){return(qo=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Do(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(e,t){return Wo.apply(this,arguments)}function Wo(){return(Wo=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Go(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qo=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return mn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return gn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Oo(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ko(t,{email:this._email,oobCode:this._password}));case 5:ta(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Co(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Go(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ta(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Io);function Yo(e,t){return Xo.apply(this,arguments)}function Xo(){return(Xo=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,"POST","/v1/accounts:signInWithIdp",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $o=function(e){wn(n,e);var t=In(n);function n(){var e;return mn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return gn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Yo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ta("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Mi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Io);function Jo(e,t){return Zo.apply(this,arguments)}function Zo(){return(Zo=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:sendVerificationCode",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eu(){return(eu=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,"POST","/v1/accounts:signInWithPhoneNumber",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tu(){return(tu=be(ge().mark((function e(t,n){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(t,"POST","/v1/accounts:signInWithPhoneNumber",ka(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ca(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nu=vn({},"USER_NOT_FOUND","user-not-found");function ru(){return(ru=be(ge().mark((function e(t,n){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ta(t,"POST","/v1/accounts:signInWithPhoneNumber",ka(t,r),nu));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iu=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return gn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return eu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return tu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ru.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Io);var au=function(){function e(t){var n,r,i,a,o,u;mn(this,e);var s=er(tr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);oa(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return gn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=er(tr(e)).link,n=t?er(tr(t)).deep_link_id:null,r=er(tr(e)).deep_link_id;return(r?er(tr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(sE){return null}}}]),e}();var ou=function(){function e(){mn(this,e),this.providerId=e.PROVIDER_ID}return gn(e,null,[{key:"credential",value:function(e,t){return Qo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=au.parseLink(t);return oa(n,"argument-error"),Qo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ou.PROVIDER_ID="password",ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var uu=function(){function e(t){mn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return gn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),su=function(e){wn(n,e);var t=In(n);function n(){var e;return mn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return gn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ur(this.scopes)}}]),n}(uu),cu=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return oa(e.idToken||e.accessToken,"argument-error"),$o._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return oa("providerId"in t&&"signInMethod"in t,"argument-error"),$o._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(YN){return null}}}]),n}(su),lu=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.call(this,"facebook.com")}return gn(n,null,[{key:"credential",value:function(e){return $o._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sE){return null}}}]),n}(su);lu.FACEBOOK_SIGN_IN_METHOD="facebook.com",lu.PROVIDER_ID="facebook.com";var fu=function(e){wn(n,e);var t=In(n);function n(){var e;return mn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return gn(n,null,[{key:"credential",value:function(e,t){return $o._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(sE){return null}}}]),n}(su);fu.GOOGLE_SIGN_IN_METHOD="google.com",fu.PROVIDER_ID="google.com";var hu=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.call(this,"github.com")}return gn(n,null,[{key:"credential",value:function(e){return $o._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sE){return null}}}]),n}(su);hu.GITHUB_SIGN_IN_METHOD="github.com",hu.PROVIDER_ID="github.com";var du=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return gn(n,[{key:"_getIdTokenResponse",value:function(e){return Yo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Io),pu=function(e){wn(n,e);var t=In(n);function n(e){return mn(this,n),oa(e.startsWith("saml."),"argument-error"),t.call(this,e)}return gn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=du.fromJSON(e);return oa(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return du._create(r,n)}catch(YN){return null}}}]),n}(uu),vu=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.call(this,"twitter.com")}return gn(n,null,[{key:"credential",value:function(e,t){return $o._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(sE){return null}}}]),n}(su);function mu(e,t){return yu.apply(this,arguments)}function yu(){return(yu=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,"POST","/v1/accounts:signUp",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}vu.TWITTER_SIGN_IN_METHOD="twitter.com",vu.PROVIDER_ID="twitter.com";var gu=function(){function e(t){mn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return gn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=be(ge().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Za._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ku(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=be(ge().mark((function t(n,r,i){var a;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ku(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ku(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function bu(){return bu=be(ge().mark((function e(t){var n,r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new gu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,mu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,gu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}var wu=function(e){wn(n,e);var t=In(n);function n(e,r,i,a){var o,u;return mn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(bn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return gn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Gn);function xu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw wu._fromErrorAndOperation(e,n,t,r);throw n}))}function _u(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Tu(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=be(ge().mark((function e(t,n){var r,i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ar(t),e.next=3,Cu(!0,r,n);case 3:return e.t0=Ra,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=_u(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Eu(e,t){return Su.apply(this,arguments)}function Su(){return Su=be(ge().mark((function e(t,n){var r,i,a=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Va,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",gu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Cu(e,t,n){return Au.apply(this,arguments)}function Au(){return(Au=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka(n);case 2:i=_u(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",oa(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=be(ge().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Va(t,xu(a,o,n,t),r);case 6:return oa((u=e.sent).idToken,a,"internal-error"),oa(s=Ua(u.idToken),a,"internal-error"),c=s.sub,oa(t.uid===c,a,"user-mismatch"),e.abrupt("return",gu._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&ta(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ru.apply(this,arguments)}function Ou(e,t){return Pu.apply(this,arguments)}function Pu(){return Pu=be(ge().mark((function e(t,n){var r,i,a,o,u=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,xu(t,i,n);case 4:return a=e.sent,e.next=7,gu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Du(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(bo(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e,t){return Fu.apply(this,arguments)}function Fu(){return(Fu=be(ge().mark((function e(t,n){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ar(t),e.next=3,Cu(!1,r,n.providerId);case 3:return e.abrupt("return",Eu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t){return Vu.apply(this,arguments)}function Vu(){return(Vu=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nu(ar(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,"POST","/v1/accounts:signInWithCustomToken",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(){return(zu=be(ge().mark((function e(t,n){var r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,ju(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,gu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qu=function(){function e(t,n){mn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return gn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ku._fromServerResponse(e,t):ta(e,"internal-error")}}]),e}(),Ku=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return gn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(qu);function Wu(e,t,n){var r;oa((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),oa("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oa(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(oa(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gu(){return(Gu=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ar(t),a={requestType:"PASSWORD_RESET",email:n},r&&Wu(i,a,r),e.next=5,Uo(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hu(){return(Hu=be(ge().mark((function e(t,n,r){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(ar(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qu(){return(Qu=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(ar(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t){return Xu.apply(this,arguments)}function Xu(){return(Xu=be(ge().mark((function e(t,n){var r,i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ar(t),e.next=3,Eo(r,{oobCode:n});case 3:i=e.sent,oa(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return oa(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:oa(i.mfaInfo,r,"internal-error");case 13:oa(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=qu._fromServerResponse(bo(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $u(){return($u=be(ge().mark((function e(t,n){var r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(ar(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(e,t,n){return Zu.apply(this,arguments)}function Zu(){return(Zu=be(ge().mark((function e(t,n,r){var i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),e.next=3,mu(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,gu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(){return(es=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ar(t),a={requestType:"EMAIL_SIGNIN",email:n},oa(r.handleCodeInApp,i,"argument-error"),r&&Wu(i,a,r),e.next=6,jo(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(){return(ts=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ar(t),oa((a=ou.credentialWithLink(n,r||fa()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Du(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:createAuthUri",ka(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(){return(is=be(ge().mark((function e(t,n){var r,i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ha()?fa():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ns(ar(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function as(){return(as=be(ge().mark((function e(t,n){var r,i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ar(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Wu(r.auth,a,n),e.next=8,Mo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(){return(os=be(ge().mark((function e(t,n,r){var i,a,o,u;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ar(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Wu(i.auth,o,r),e.next=8,zo(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function us(e,t){return ss.apply(this,arguments)}function ss(){return(ss=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cs(){return(cs=be(ge().mark((function e(t,n){var r,i,a,o,u,s,c;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ar(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Va(a,us(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(e,t,n){return fs.apply(this,arguments)}function fs(){return(fs=be(ge().mark((function e(t,n,r){var i,a,o,u;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Va(t,Co(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hs=gn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ds=function(e){wn(n,e);var t=In(n);function n(e,r,i,a){var o;return mn(this,n),(o=t.call(this,e,r,i)).username=a,o}return gn(n)}(hs),ps=function(e){wn(n,e);var t=In(n);function n(e,r){return mn(this,n),t.call(this,e,"facebook.com",r)}return gn(n)}(hs),vs=function(e){wn(n,e);var t=In(n);function n(e,r){return mn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return gn(n)}(ds),ms=function(e){wn(n,e);var t=In(n);function n(e,r){return mn(this,n),t.call(this,e,"google.com",r)}return gn(n)}(hs),ys=function(e){wn(n,e);var t=In(n);function n(e,r,i){return mn(this,n),t.call(this,e,"twitter.com",r,i)}return gn(n)}(ds);function gs(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ua(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new hs(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ps(a,i);case"github.com":return new vs(a,i);case"google.com":return new ms(a,i);case"twitter.com":return new ys(a,i,e.screenName||null);case"custom":case"anonymous":return new hs(a,null);default:return new hs(a,r,i)}}(n)}var ks=function(){function e(t,n,r){mn(this,e),this.type=t,this.credential=n,this.auth=r}return gn(e,[{key:"toJSON",value:function(){return{multiFactorSession:vn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),bs=function(){function e(t,n,r){mn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return gn(e,[{key:"resolveSignIn",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=bo(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return qu._fromServerResponse(r,e)}));oa(i.mfaPendingCredential,r,"internal-error");var o=ks._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=be(ge().mark((function e(t){var a,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,gu._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return oa(n.user,r,"internal-error"),e.abrupt("return",gu._forOperation(n.user,n.operationType,u));case 17:ta(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ws(e,t){return ba(e,"POST","/v2/accounts/mfaEnrollment:start",ka(e,t))}var xs=function(){function e(t){var n=this;mn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return qu._fromServerResponse(t.auth,e)})))}))}return gn(e,[{key:"getSession",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ks,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=be(ge().mark((function e(t,n){var r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Va(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=be(ge().mark((function e(t){var n,r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Va(this.user,ba(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ka(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),_s=new WeakMap;var Ts="__sak",Is=function(){function e(t,n){mn(this,e),this.storageRetriever=t,this.type=n}return gn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ts,"1"),this.storage.removeItem(Ts),Promise.resolve(!0)):Promise.resolve(!1)}catch(sE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Es=function(e){wn(n,e);var t=In(n);function n(){var e;return mn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Dn();return oo(e)||ho(e)}()&&function(){try{return!(!window||window===window.top)}catch(YN){return!1}}(),e.fallbackToPolling=mo(),e._shouldAllowMigration=!0,e}return gn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);vo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=be(ge().mark((function e(t,r){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(xn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=be(ge().mark((function e(t){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(xn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(xn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Is);Es.type="LOCAL";var Ss=Es,Cs=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return gn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Is);Cs.type="SESSION";var As=Cs;function Ns(e){return Promise.all(e.map(function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Rs=function(){function e(t){mn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return gn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=be(ge().mark((function e(t){var n,r,i,a,o,u,s,c;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ns(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Os(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rs.receivers=[];var Ps=function(){function e(t){mn(this,e),this.target=t,this.handlers=new Set}return gn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=be(ge().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Os("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ds(){return window}function Ls(){return"undefined"!==typeof Ds().WorkerGlobalScope&&"function"===typeof Ds().importScripts}function Ms(){return Fs.apply(this,arguments)}function Fs(){return(Fs=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Us(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Vs="firebaseLocalStorageDb",js="firebaseLocalStorage",Bs="fbase_key",zs=function(){function e(t){mn(this,e),this.request=t}return gn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function qs(e,t){return e.transaction([js],t?"readwrite":"readonly").objectStore(js)}function Ks(){var e=indexedDB.deleteDatabase(Vs);return new zs(e).toPromise()}function Ws(){var e=indexedDB.open(Vs,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(js,{keyPath:Bs})}catch(YN){n(YN)}})),e.addEventListener("success",be(ge().mark((function n(){var r;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(js)){n.next=12;break}return r.close(),n.next=5,Ks();case 5:return n.t0=t,n.next=8,Ws();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Gs(e,t,n){return Hs.apply(this,arguments)}function Hs(){return Hs=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qs(t,!0).put((vn(i={},Bs,n),vn(i,"value",r),i)),e.abrupt("return",new zs(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Qs(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=be(ge().mark((function e(t,n){var r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qs(t,!1).get(n),e.next=3,new zs(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(e,t){var n=qs(e,!0).delete(t);return new zs(n).toPromise()}var $s=function(){function e(){mn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return gn(e,[{key:"_openDb",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ws();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ls()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=be(ge().mark((function e(){var t=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Rs._getInstance(Ls()?self:null),this.receiver._subscribe("keyChanged",function(){var e=be(ge().mark((function e(n,r){var i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=be(ge().mark((function e(){var t,n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ms();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ps(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Us()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ws();case 5:return t=e.sent,e.next=8,Gs(t,Ts,"1");case 8:return e.next=10,Xs(t,Ts);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=be(ge().mark((function e(t,n){var r=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Gs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Qs(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=be(ge().mark((function e(t){var n=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Xs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=be(ge().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=qs(e,!1).getAll();return new zs(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=kn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(be(ge().mark((function t(){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();$s.type="LOCAL";var Js=$s;function Zs(e,t){return ba(e,"POST","/v2/accounts/mfaSignIn:start",ka(e,t))}function ec(e){return tc.apply(this,arguments)}function tc(){return(tc=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=na("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function rc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ic=1e12,ac=function(){function e(t){mn(this,e),this.auth=t,this.counter=ic,this._widgets=new Map}return gn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new oc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ic;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ic;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ic,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),oc=function(){function e(t,n,r){var i=this;mn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;oa(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return gn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(YN){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(YN){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var uc=rc("rcb"),sc=new pa(3e4,6e4),cc="https://www.google.com/recaptcha/api.js?",lc=function(){function e(){var t;mn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ds().grecaptcha)||void 0===t?void 0:t.render)}return gn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return oa(fc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ds().grecaptcha):new Promise((function(r,i){var a=Ds().setTimeout((function(){i(na(e,"network-request-failed"))}),sc.get());Ds()[uc]=function(){Ds().clearTimeout(a),delete Ds()[uc];var o=Ds().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(na(e,"internal-error"))},nc("".concat(cc,"?").concat(Zn({onload:uc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(na(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ds().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function fc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var hc=function(){function e(){mn(this,e)}return gn(e,[{key:"load",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ac(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),dc="recaptcha",pc={theme:"light",type:"image"},vc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},pc),r=arguments.length>2?arguments[2]:void 0;mn(this,e),this.parameters=n,this.type=dc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bo(r),this.isInvisible="invisible"===this.parameters.size,oa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;oa(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hc:new lc,this.validateStartingState()}return gn(e,[{key:"verify",value:function(){var e=be(ge().mark((function e(){var t,n,r,i=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(YN){return Promise.reject(YN)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){oa(!this.parameters.sitekey,this.auth,"argument-error"),oa(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ds()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){oa(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=be(ge().mark((function e(){var t,n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oa(ha()&&!Ls(),this.auth,"internal-error"),e.next=3,mc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ec(this.auth);case 8:oa(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return oa(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function mc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var yc=function(){function e(t,n){mn(this,e),this.verificationId=t,this.onConfirmation=n}return gn(e,[{key:"confirm",value:function(e){var t=iu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function gc(){return(gc=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),e.next=3,xc(i,n,ar(r));case 3:return a=e.sent,e.abrupt("return",new yc(a,(function(e){return Du(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kc(e,t,n){return bc.apply(this,arguments)}function bc(){return(bc=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ar(t),e.next=3,Cu(!1,i,"phone");case 3:return e.next=5,xc(i.auth,n,ar(r));case 5:return a=e.sent,e.abrupt("return",new yc(a,(function(e){return Mu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(){return(wc=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ar(t),e.next=3,xc(i.auth,n,ar(r));case 3:return a=e.sent,e.abrupt("return",new yc(a,(function(e){return Uu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e,t,n){return _c.apply(this,arguments)}function _c(){return _c=be(ge().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,oa("string"===typeof a,t,"argument-error"),oa(r.type===dc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return oa("enroll"===u.type,t,"internal-error"),e.next=13,ws(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return oa("signin"===u.type,t,"internal-error"),oa(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Zs(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Jo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),_c.apply(this,arguments)}function Tc(){return(Tc=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eu(ar(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ic=function(){function e(t){mn(this,e),this.providerId=e.PROVIDER_ID,this.auth=bo(t)}return gn(e,[{key:"verifyPhoneNumber",value:function(e,t){return xc(this.auth,e,ar(t))}}],[{key:"credential",value:function(e,t){return iu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?iu._fromTokenResponse(n,r):null}}]),e}();function Ec(e,t){return t?la(t):(oa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ic.PROVIDER_ID="phone",Ic.PHONE_SIGN_IN_METHOD="phone";var Sc=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return gn(n,[{key:"_getIdTokenResponse",value:function(e){return Yo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Yo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Yo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Io);function Cc(e){return Ou(e.auth,new Sc(e),e.bypassAuthState)}function Ac(e){var t=e.auth,n=e.user;return oa(n,t,"internal-error"),Nu(n,new Sc(e),e.bypassAuthState)}function Nc(e){return Rc.apply(this,arguments)}function Rc(){return(Rc=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,oa(r=t.user,n,"internal-error"),e.abrupt("return",Eu(r,new Sc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];mn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return gn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=be(ge().mark((function t(n,r){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=be(ge().mark((function e(t){var n,r,i,a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cc;case"linkViaPopup":case"linkViaRedirect":return Nc;case"reauthViaPopup":case"reauthViaRedirect":return Ac;default:ta(this.auth,"internal-error")}}},{key:"resolve",value:function(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Pc=new pa(2e3,1e4);function Dc(e,t,n){return Lc.apply(this,arguments)}function Lc(){return(Lc=be(ge().mark((function e(t,n,r){var i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),ia(t,n,uu),a=Ec(i,r),o=new Vc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(){return(Mc=be(ge().mark((function e(t,n,r){var i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia((i=ar(t)).auth,n,uu),a=Ec(i.auth,r),o=new Vc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t,n){return Uc.apply(this,arguments)}function Uc(){return(Uc=be(ge().mark((function e(t,n,r){var i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia((i=ar(t)).auth,n,uu),a=Ec(i.auth,r),o=new Vc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vc=function(e){wn(n,e);var t=In(n);function n(e,r,i,a,o){var u;return mn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=bn(u),u}return gn(n,[{key:"executeNotNull",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return oa(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=be(ge().mark((function e(){var t,n=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sa(1===this.filter.length,"Popup operations only handle one event"),t=Os(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(na(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(na(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(na(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Pc.get())}()}}]),n}(Oc);Vc.currentPopupAction=null;var jc=new Map,Bc=function(e){wn(n,e);var t=In(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return mn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return gn(n,[{key:"execute",value:function(){var e=be(ge().mark((function e(){var t,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=jc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Li(xn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:jc.set(this.auth._key(),t);case 21:return this.bypassAuthState||jc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=be(ge().mark((function e(t){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Li(xn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Li(xn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Oc);function zc(e,t){return qc.apply(this,arguments)}function qc(){return qc=be(ge().mark((function e(t,n){var r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(n),i=Hc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Kc(e,t){return Wc.apply(this,arguments)}function Wc(){return(Wc=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hc(t)._set(Qc(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(e,t){jc.set(e._key(),t)}function Hc(e){return la(e._redirectPersistence)}function Qc(e){return no("pendingRedirect",e.config.apiKey,e.name)}function Yc(e,t,n){return function(e,t,n){return Xc.apply(this,arguments)}(e,t,n)}function Xc(){return(Xc=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),ia(t,n,uu),a=Ec(i,r),e.next=5,Kc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(e,t,n){return function(e,t,n){return Jc.apply(this,arguments)}(e,t,n)}function Jc(){return(Jc=be(ge().mark((function e(t,n,r){var i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia((i=ar(t)).auth,n,uu),a=Ec(i.auth,r),e.next=5,Kc(a,i.auth);case 5:return e.next=7,al(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e,t,n){return function(e,t,n){return el.apply(this,arguments)}(e,t,n)}function el(){return(el=be(ge().mark((function e(t,n,r){var i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia((i=ar(t)).auth,n,uu),a=Ec(i.auth,r),e.next=5,Cu(!1,i,n.providerId);case 5:return e.next=7,Kc(a,i.auth);case 7:return e.next=9,al(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e,t){return nl.apply(this,arguments)}function nl(){return(nl=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bo(t)._initializationPromise;case 2:return e.abrupt("return",rl(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(e,t){return il.apply(this,arguments)}function il(){return il=be(ge().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=bo(t),a=Ec(i,n),o=new Bc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}function al(e){return ol.apply(this,arguments)}function ol(){return(ol=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Os("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ul=function(){function e(t){mn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return gn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!cl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(na(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(sl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function sl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function cl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ll(e){return fl.apply(this,arguments)}function fl(){return fl=be(ge().mark((function e(t){var n,r=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ba(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}var hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dl=/^https?/;function pl(){return(pl=be(ge().mark((function e(t){var n,r,i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ll(t);case 4:n=e.sent,r=n.authorizedDomains,i=kn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!vl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ta(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function vl(e){var t=fa(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!dl.test(r))return!1;if(hl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ml=new pa(3e4,6e4);function yl(){var e=Ds().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ur(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gl=null;function kl(e){return gl=gl||function(e){return new Promise((function(t,n){var r,i,a;function o(){yl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){yl(),n(na(e,"network-request-failed"))},timeout:ml.get()})}if(null===(i=null===(r=Ds().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ds().gapi)||void 0===a?void 0:a.load)){var u=rc("iframefcb");return Ds()[u]=function(){gapi.load?o():n(na(e,"network-request-failed"))},nc("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gl=null,e}))}(e),gl}var bl=new pa(5e3,15e3),wl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _l(e){var t=e.config;oa(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?va(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ri},i=xl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Zn(r).slice(1))}function Tl(e){return Il.apply(this,arguments)}function Il(){return Il=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(t);case 2:return n=e.sent,oa(r=Ds().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_l(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wl,dontclear:!0},(function(e){return new Promise(function(){var n=be(ge().mark((function n(r,i){var a,o,u;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ds().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=na(t,"network-request-failed"),o=Ds().setTimeout((function(){i(a)}),bl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}var El={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sl="_blank",Cl="http://localhost",Al=function(){function e(t){mn(this,e),this.window=t,this.associatedEvent=null}return gn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(YN){}}}]),e}();function Nl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},El),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Dn().toLowerCase();n&&(u=uo(l)?Sl:n),ao(l)&&(t=t||Cl,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(po(l)&&"_self"!==u)return Rl(t||"",u),new Al(null);var h=window.open(t||"",u,f);oa(h,e,"popup-blocked");try{h.focus()}catch(YN){}return new Al(h)}function Rl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ol="__/auth/handler",Pl="emulator/auth/handler";function Dl(e,t,n,r,i,a){oa(e.config.authDomain,e,"auth-domain-config-required"),oa(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ri,eventId:i};if(t instanceof uu){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof su){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ol);return va(t,Pl)}(e),"?").concat(Zn(p).slice(1))}var Ll="webStorageSupport",Ml=function(){function e(){mn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=rl,this._overrideRedirectResult=Gc}return gn(e,[{key:"_openPopup",value:function(){var e=be(ge().mark((function e(t,n,r,i){var a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sa(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Dl(t,n,r,fa(),i),e.abrupt("return",Nl(t,o,Os()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=be(ge().mark((function e(t,n,r,i){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Dl(t,n,r,fa(),i),Ds().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(sa(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(t);case 2:return n=e.sent,r=new ul(t),n.register("authEvent",(function(e){return oa(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ll,{type:Ll},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ta(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return mo()||oo()||ho()}}]),e}(),Fl=Ml,Ul=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this,"phone")).credential=e,r}return gn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ba(e,"POST","/v2/accounts/mfaEnrollment:finalize",ka(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ba(e,"POST","/v2/accounts/mfaSignIn:finalize",ka(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){mn(this,e),this.factorId=t}return gn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ua("unexpected MultiFactorSessionType")}}}]),e}()),Vl=function(){function e(){mn(this,e)}return gn(e,null,[{key:"assertion",value:function(e){return Ul._fromCredential(e)}}]),e}();Vl.FACTOR_ID="phone";var jl="@firebase/auth",Bl="0.20.11",zl=function(){function e(t){mn(this,e),this.auth=t,this.internalListeners=new Map}return gn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){oa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ql;!function(e){var t;null===(t=Bn())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Kl(){return window}ql="Browser",Xr(new sr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){oa(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),oa(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:ql,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yo(ql)},i=new ko(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(la);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Xr(new sr("auth-internal",(function(e){return function(e){return new zl(e)}(bo(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ci(jl,Bl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ql)),ci(jl,Bl,"esm2017");function Wl(e,t,n){return Gl.apply(this,arguments)}function Gl(){return Gl=be(ge().mark((function e(t,n,r){var i,a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Kl(),o=a.BuildInfo,sa(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Jl(n.sessionId);case 4:return u=e.sent,s={},ho()?s.ibi=o.packageName:co()?s.apn=o.packageName:ta(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Dl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Hl(){return(Hl=be(ge().mark((function e(t){var n,r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kl(),r=n.BuildInfo,i={},ho()?i.iosBundleId=r.packageName:co()?i.androidPackageName=r.packageName:ta(t,"operation-not-supported-in-this-environment"),e.next=5,ll(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(e){var t=Kl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Yl(e,t,n){return Xl.apply(this,arguments)}function Xl(){return Xl=be(ge().mark((function e(t,n,r){var i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(na(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),co()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Xl.apply(this,arguments)}function $l(e){var t,n,r,i,a,o,u,s,c,l,f=Kl();oa("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oa("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oa("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oa("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oa("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Jl(e){return Zl.apply(this,arguments)}function Zl(){return(Zl=be(ge().mark((function e(t){var n,r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ef(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(e){if(sa(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var tf=function(e){wn(n,e);var t=In(n);function n(){var e;return mn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return gn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Li(xn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ul);function nf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:sf(),postBody:null,tenantId:e.tenantId,error:na(e,"no-auth-event")}}function rf(e,t){return cf()._set(lf(e),t)}function af(e){return of.apply(this,arguments)}function of(){return(of=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cf()._get(lf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,cf()._remove(lf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e,t){var n,r,i=function(e){var t=ff(e),n=t.link?decodeURIComponent(t.link):void 0,r=ff(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ff(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ff(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(YN){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?na(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function sf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function cf(){return la(Ss)}function lf(e){return no("authEvent",e.config.apiKey,e.name)}function ff(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||or(t)||o(t)||u();r[0];return er(r.slice(1).join("?"))}var hf=function(){function e(){mn(this,e),this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rl,this._overrideRedirectResult=Gc}return gn(e,[{key:"_initialize",value:function(){var e=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new tf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ta(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=be(ge().mark((function e(t,n,r,i){var a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $l(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),jc.clear(),e.next=10,this._originValidation(t);case 10:return o=nf(t,r,i),e.next=13,rf(t,o);case 13:return e.next=15,Wl(t,o,n);case 15:return u=e.sent,e.next=18,Ql(u);case 18:return s=e.sent,e.abrupt("return",Yl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Kl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(be(ge().mark((function n(){return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,af(e);case 2:t.onEvent(pf());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=be(ge().mark((function n(r){var i,a;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,af(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=uf(i,r.url)),t.onEvent(a||pf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Kl().handleOpenURL=function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(YN){console.error(YN)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),df=hf;function pf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:na("no-auth-event")}}function vf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function mf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return!("file:"!==vf()&&"ionic:"!==vf()&&"capacitor:"!==vf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function yf(){return Un()&&11===(null===document||void 0===document?void 0:document.documentMode)}function gf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return/Edge\/\d+/.test(e)}function kf(){try{var e=self.localStorage,t=Os();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return yf()||gf(e)}()||Vn()}catch(YN){return bf()&&Vn()}return!1}function bf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function wf(){return("http:"===vf()||"https:"===vf()||Mn()||mf())&&!(Fn()||Ln())&&kf()&&!bf()}function xf(){return mf()&&"undefined"!==typeof document}function _f(){return Tf.apply(this,arguments)}function Tf(){return Tf=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}var If={LOCAL:"local",NONE:"none",SESSION:"session"},Ef=oa,Sf="persistence";function Cf(e,t){Ef(Object.values(If).includes(t),e,"invalid-persistence-type"),Fn()?Ef(t!==If.SESSION,e,"unsupported-persistence-type"):Ln()?Ef(t===If.NONE,e,"unsupported-persistence-type"):bf()?Ef(t===If.NONE||t===If.LOCAL&&Vn(),e,"unsupported-persistence-type"):Ef(t===If.NONE||kf(),e,"unsupported-persistence-type")}function Af(e){return Nf.apply(this,arguments)}function Nf(){return Nf=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Rf(),r=no(Sf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Rf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(YN){return null}}var Of=oa,Pf=function(){function e(){mn(this,e),this.browserResolver=la(Fl),this.cordovaResolver=la(df),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=rl,this._overrideRedirectResult=Gc}return gn(e,[{key:"_initialize",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=be(ge().mark((function e(t,n,r,i){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=be(ge().mark((function e(t,n,r,i){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return xf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Of(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_f();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Df(e){return e.unwrap()}function Lf(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new jf(e,function(e,t){var n,r=ar(e),i=t;return oa(t.customData.operationType,r,"argument-error"),oa(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bs._fromError(r,i)}(e,t));else if(i){var a=Mf(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Mf(e){var t=(e instanceof Gn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Gn)&&"temporaryProof"in t&&"phoneNumber"in t)return Ic.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Bi)return null;switch(r){case ji:n=fu;break;case Ui:n=lu;break;case Vi:n=hu;break;case zi:n=vu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?du._create(r,u):$o._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new cu(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Gn?n.credentialFromError(e):n.credentialFromResult(e)}function Ff(e,t){return t.catch((function(t){throw t instanceof Gn&&Lf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Mf(t)),additionalUserInfo:gs(e),user:Bf.getOrCreate(r)}}))}function Uf(e,t){return Vf.apply(this,arguments)}function Vf(){return(Vf=be(ge().mark((function e(t,n){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Ff(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jf=function(){function e(t,n){mn(this,e),this.resolver=n,this.auth=t.wrapped()}return gn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Ff(Df(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Bf=function(){function e(t){mn(this,e),this._delegate=t,this.multiFactor=function(e){var t=ar(e);return _s.has(t)||_s.set(t,xs._fromUser(t)),_s.get(t)}(t)}return gn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ff(this.auth,Mu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(this.auth,kc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ff(this.auth,Fc(this._delegate,t,Pf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af(bo(this.auth));case 2:return e.abrupt("return",Zc(this._delegate,t,Pf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ff(this.auth,Uu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Uf(this.auth,function(e,t,n){return wc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Ff(this.auth,function(e,t,n){return Mc.apply(this,arguments)}(this._delegate,e,Pf))}},{key:"reauthenticateWithRedirect",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af(bo(this.auth));case 2:return e.abrupt("return",$c(this._delegate,t,Pf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return as.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ls(ar(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ls(ar(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Tc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return cs.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return os.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Bf.USER_MAP=new WeakMap;var zf=oa,qf=function(){function e(t,n){if(mn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;zf(r,"invalid-api-key",{appName:t.name}),zf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Pf:void 0;this._delegate=n.initialize({options:{persistence:Wf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Xi),this.linkUnderlyingAuth()}return gn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Bf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){xo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Qu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Yu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Hu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ff(this._delegate,Ju(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return is.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=au.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zf(wf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tl(this._delegate,Pf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Ff(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){bo(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Kf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Kf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return es.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Gu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cf(this._delegate,t),e.t0=t,e.next=e.t0===If.SESSION?4:e.t0===If.LOCAL?6:e.t0===If.NONE?11:13;break;case 4:return n=As,e.abrupt("break",14);case 6:return e.next=8,la(Js)._isAvailable();case 8:return r=e.sent,n=r?Js:Ss,e.abrupt("break",14);case 11:return n=to,e.abrupt("break",14);case 13:return e.abrupt("return",ta("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Ff(this._delegate,function(e){return bu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Ff(this._delegate,Du(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Ff(this._delegate,function(e,t){return zu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Ff(this._delegate,function(e,t,n){return Du(ar(e),ou.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Ff(this._delegate,function(e,t,n){return ts.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Uf(this._delegate,function(e,t,n){return gc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zf(wf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Ff(this._delegate,Dc(this._delegate,t,Pf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zf(wf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Af(this._delegate);case 3:return e.abrupt("return",Yc(this._delegate,t,Pf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return $u.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Kf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Bf.getOrCreate(e))},error:t,complete:n}}function Wf(e,t){var n=function(e,t){var n=Rf();if(!n)return[];var r=no(Sf,e,t);switch(n.getItem(r)){case If.NONE:return[to];case If.LOCAL:return[Js,As];case If.SESSION:return[As];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Js)||n.push(Js),"undefined"!==typeof window)for(var r=0,i=[Ss,As];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(to)||n.push(to),n}qf.Persistence=If;var Gf=function(){function e(){mn(this,e),this.providerId="phone",this._delegate=new Ic(Df(Pi.auth()))}return gn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ic.credential(e,t)}}]),e}();Gf.PHONE_SIGN_IN_METHOD=Ic.PHONE_SIGN_IN_METHOD,Gf.PROVIDER_ID=Ic.PROVIDER_ID;var Hf,Qf=oa,Yf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pi.app();mn(this,e),Qf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vc(t,n,i.auth()),this.type=this._delegate.type}return gn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Hf=Pi).INTERNAL.registerComponent(new sr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new qf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qi,PASSWORD_RESET:Ki,RECOVER_EMAIL:Wi,REVERT_SECOND_FACTOR_ADDITION:Gi,VERIFY_AND_CHANGE_EMAIL:Hi,VERIFY_EMAIL:Qi}},EmailAuthProvider:ou,FacebookAuthProvider:lu,GithubAuthProvider:hu,GoogleAuthProvider:fu,OAuthProvider:cu,SAMLAuthProvider:pu,PhoneAuthProvider:Gf,PhoneMultiFactorGenerator:Vl,RecaptchaVerifier:Yf,TwitterAuthProvider:vu,Auth:qf,AuthCredential:Io,Error:Gn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Hf.registerVersion("@firebase/auth-compat","0.2.24");var Xf,$f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jf={},Zf=Zf||{},eh=$f||self;function th(){}function nh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ih="closure_uid_"+(1e9*Math.random()>>>0),ah=0;function oh(e,t,n){return e.call.apply(e.bind,arguments)}function uh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function sh(e,t,n){return(sh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oh:uh).apply(null,arguments)}function ch(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function lh(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fh(){this.s=this.s,this.o=this.o}fh.prototype.s=!1,fh.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ih)&&e[ih]||(e[ih]=++ah))},fh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function dh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ph(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(nh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function vh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vh.prototype.h=function(){this.defaultPrevented=!0};var mh=function(){if(!eh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{eh.addEventListener("test",th,t),eh.removeEventListener("test",th,t)}catch(n){}return e}();function yh(e){return/^[\s\xa0]*$/.test(e)}var gh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kh(e,t){return e<t?-1:e>t?1:0}function bh(){var e=eh.navigator;return e&&(e=e.userAgent)?e:""}function wh(e){return-1!=bh().indexOf(e)}function xh(e){return xh[" "](e),e}xh[" "]=th;var _h,Th=wh("Opera"),Ih=wh("Trident")||wh("MSIE"),Eh=wh("Edge"),Sh=Eh||Ih,Ch=wh("Gecko")&&!(-1!=bh().toLowerCase().indexOf("webkit")&&!wh("Edge"))&&!(wh("Trident")||wh("MSIE"))&&!wh("Edge"),Ah=-1!=bh().toLowerCase().indexOf("webkit")&&!wh("Edge");function Nh(){var e=eh.document;return e?e.documentMode:void 0}e:{var Rh="",Oh=function(){var e=bh();return Ch?/rv:([^\);]+)(\)|;)/.exec(e):Eh?/Edge\/([\d\.]+)/.exec(e):Ih?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ah?/WebKit\/(\S+)/.exec(e):Th?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Oh&&(Rh=Oh?Oh[1]:""),Ih){var Ph=Nh();if(null!=Ph&&Ph>parseFloat(Rh)){_h=String(Ph);break e}}_h=Rh}var Dh,Lh={};function Mh(){return function(e){var t=Lh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gh(String(_h)).split("."),n=gh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=kh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||kh(0==a[2].length,0==o[2].length)||kh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(eh.document&&Ih){var Fh=Nh();Dh=Fh||(parseInt(_h,10)||void 0)}else Dh=void 0;var Uh=Dh;function Vh(e,t){if(vh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ch){e:{try{xh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:jh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vh.X.h.call(this)}}lh(Vh,vh);var jh={2:"touch",3:"pen",4:"mouse"};Vh.prototype.h=function(){Vh.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bh="closure_listenable_"+(1e6*Math.random()|0),zh=0;function qh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++zh,this.ba=this.ea=!1}function Kh(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Wh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Gh(e){var t={};for(var n in e)t[n]=e[n];return t}var Hh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Hh.length;a++)n=Hh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yh(e){this.src=e,this.g={},this.h=0}function Xh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Kh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $h(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Yh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=$h(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new qh(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Jh="closure_lm_"+(1e6*Math.random()|0),Zh={};function ed(e,t,n,r,i){if(r&&r.once)return nd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ed(e,t[a],n,r,i);return null}return n=cd(n),e&&e[Bh]?e.N(t,n,rh(r)?!!r.capture:!!r,i):td(e,t,n,!1,r,i)}function td(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=rh(i)?!!i.capture:!!i,u=ud(e);if(u||(e[Jh]=u=new Yh(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=od;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ad(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function nd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)nd(e,t[a],n,r,i);return null}return n=cd(n),e&&e[Bh]?e.O(t,n,rh(r)?!!r.capture:!!r,i):td(e,t,n,!0,r,i)}function rd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)rd(e,t[a],n,r,i);else r=rh(r)?!!r.capture:!!r,n=cd(n),e&&e[Bh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$h(a=e.g[t],n,r,i))&&(Kh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ud(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$h(t,n,r,i)),(n=-1<e?t[e]:null)&&id(n))}function id(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Bh])Xh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ad(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ud(t))?(Xh(n,e),0==n.h&&(n.src=null,t[Jh]=null)):Kh(e)}}}function ad(e){return e in Zh?Zh[e]:Zh[e]="on"+e}function od(e,t){if(e.ba)e=!0;else{t=new Vh(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&id(e),e=n.call(r,t)}return e}function ud(e){return(e=e[Jh])instanceof Yh?e:null}var sd="__closure_events_fn_"+(1e9*Math.random()>>>0);function cd(e){return"function"===typeof e?e:(e[sd]||(e[sd]=function(t){return e.handleEvent(t)}),e[sd])}function ld(){fh.call(this),this.i=new Yh(this),this.P=this,this.I=null}function fd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new vh(t,e);else if(t instanceof vh)t.target=t.target||e;else{var i=t;Qh(t=new vh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=hd(o,r,!0,t)&&i}if(i=hd(o=t.g=e,r,!0,t)&&i,i=hd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=hd(o=t.g=n[a],r,!1,t)&&i}function hd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Xh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}lh(ld,fh),ld.prototype[Bh]=!0,ld.prototype.removeEventListener=function(e,t,n,r){rd(this,e,t,n,r)},ld.prototype.M=function(){if(ld.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kh(n[r]);delete t.g[e],t.h--}}this.I=null},ld.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ld.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var dd=eh.JSON.stringify;function pd(){var e=xd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vd,md=function(){function e(){mn(this,e),this.h=this.g=null}return gn(e,[{key:"add",value:function(e,t){var n=yd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yd=new(function(){function e(t,n){mn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return gn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new gd}),(function(e){return e.reset()})),gd=function(){function e(){mn(this,e),this.next=this.g=this.h=null}return gn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function kd(e){eh.setTimeout((function(){throw e}),0)}function bd(e,t){vd||function(){var e=eh.Promise.resolve(void 0);vd=function(){e.then(_d)}}(),wd||(vd(),wd=!0),xd.add(e,t)}var wd=!1,xd=new md;function _d(){for(var e;e=pd();){try{e.h.call(e.g)}catch(n){kd(n)}var t=yd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wd=!1}function Td(e,t){ld.call(this),this.h=e||1,this.g=t||eh,this.j=sh(this.lb,this),this.l=Date.now()}function Id(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ed(e,t,n){if("function"===typeof e)n&&(e=sh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=sh(e.handleEvent,e)}return 2147483647<Number(t)?-1:eh.setTimeout(e,t||0)}function Sd(e){e.g=Ed((function(){e.g=null,e.i&&(e.i=!1,Sd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}lh(Td,ld),(Xf=Td.prototype).ca=!1,Xf.R=null,Xf.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fd(this,"tick"),this.ca&&(Id(this),this.start()))}},Xf.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xf.M=function(){Td.X.M.call(this),Id(this),delete this.g};var Cd=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return gn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Sd(this)}},{key:"M",value:function(){Li(xn(n.prototype),"M",this).call(this),this.g&&(eh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(fh);function Ad(e){fh.call(this),this.h=e,this.g={}}lh(Ad,fh);var Nd=[];function Rd(e,t,n,r){Array.isArray(n)||(n&&(Nd[0]=n.toString()),n=Nd);for(var i=0;i<n.length;i++){var a=ed(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Od(e){Wh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&id(e)}),e),e.g={}}function Pd(){this.g=!0}function Dd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return dd(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ad.prototype.M=function(){Ad.X.M.call(this),Od(this)},Ad.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pd.prototype.Aa=function(){this.g=!1},Pd.prototype.info=function(){};var Ld={},Md=null;function Fd(){return Md=Md||new ld}function Ud(e){vh.call(this,Ld.Pa,e)}function Vd(e){var t=Fd();fd(t,new Ud(t))}function jd(e,t){vh.call(this,Ld.STAT_EVENT,e),this.stat=t}function Bd(e){var t=Fd();fd(t,new jd(t,e))}function zd(e,t){vh.call(this,Ld.Qa,e),this.size=t}function qd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return eh.setTimeout((function(){e()}),t)}Ld.Pa="serverreachability",lh(Ud,vh),Ld.STAT_EVENT="statevent",lh(jd,vh),Ld.Qa="timingevent",lh(zd,vh);var Kd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Wd={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Gd(){}function Hd(e){return e.h||(e.h=e.i())}function Qd(){}Gd.prototype.h=null;var Yd,Xd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function $d(){vh.call(this,"d")}function Jd(){vh.call(this,"c")}function Zd(){}function ep(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ad(this),this.O=np,e=Sh?125:void 0,this.T=new Td(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tp}function tp(){this.i=null,this.g="",this.h=!1}lh($d,vh),lh(Jd,vh),lh(Zd,Gd),Zd.prototype.g=function(){return new XMLHttpRequest},Zd.prototype.i=function(){return{}},Yd=new Zd;var np=45e3,rp={},ip={};function ap(e,t,n){e.K=1,e.v=Tp(kp(t)),e.s=n,e.P=!0,op(e,null)}function op(e,t){e.F=Date.now(),lp(e),e.A=kp(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Fp(n.i,"t",r),e.C=0,n=e.l.H,e.h=new tp,e.g=Uv(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Cd(sh(e.La,e,e.g),e.N)),Rd(e.S,e.g,"readystatechange",e.ib),t=e.H?Gh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Vd(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function up(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function sp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=cp(e,n))==ip){4==t&&(e.o=4,Bd(14),i=!1),Dd(e.j,e.m,null,"[Incomplete Response]");break}if(r==rp){e.o=4,Bd(15),Dd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Dd(e.j,e.m,r,null),vp(e,r)}up(e)&&r!=ip&&r!=rp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nv(t),t.K=!0,Bd(11))):(Dd(e.j,e.m,n,"[Invalid Chunked Response]"),pp(e),dp(e))}function cp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ip:(n=Number(t.substring(n,r)),isNaN(n)?rp:(r+=1)+n>t.length?ip:(t=t.substr(r,n),e.C=r+n,t))}function lp(e){e.V=Date.now()+e.O,fp(e,e.O)}function fp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qd(sh(e.gb,e),t)}function hp(e){e.B&&(eh.clearTimeout(e.B),e.B=null)}function dp(e){0==e.l.G||e.I||Pv(e.l,e)}function pp(e){hp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Id(e.T),Od(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Wp(n.h,e)))if(!e.J&&Wp(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ov(n),xv(n)}Av(n),Bd(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=qd(sh(n.cb,n),6e3));if(1>=Kp(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Lv(n,11)}else if((e.J||n.g==e)&&Ov(n),!yh(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Gp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,_p(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Fv(r,r.H?r.ka:null,r.V),d.J){Hp(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(hp(p),lp(p)),r.g=d}else Cv(r);0<n.i.length&&Tv(n)}else"stop"!=a[0]&&"close"!=a[0]||Lv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Lv(n,7):wv(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Vd()}catch(a){}}function mp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(nh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(nh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Xf=ep.prototype).setTimeout=function(e){this.O=e},Xf.ib=function(e){e=e.target;var t=this.L;t&&3==vv(e)?t.l():this.La(e)},Xf.La=function(e){try{if(e==this.g)e:{var t=vv(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Sh||this.g&&(this.h.h||this.g.fa()||mv(this.g)))){this.I||4!=t||7==n||Vd(),hp(this);var r=this.g.aa();this.Y=r;t:if(up(this)){var i=mv(this.g);e="";var a=i.length,o=4==vv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pp(this),dp(this);var u="";break t}this.h.i=new eh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yh(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Bd(12),pp(this),dp(this);break e}Dd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vp(this,r)}this.P?(sp(this,t,u),Sh&&this.i&&3==t&&(Rd(this.S,this.T,"tick",this.hb),this.T.start())):(Dd(this.j,this.m,u,null),vp(this,u)),4==t&&pp(this),this.i&&!this.I&&(4==t?Pv(this.l,this):(this.i=!1,lp(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Bd(12)):(this.o=0,Bd(13)),pp(this),dp(this)}}}catch(t){}},Xf.hb=function(){if(this.g){var e=vv(this.g),t=this.g.fa();this.C<t.length&&(hp(this),sp(this,e,t),this.i&&4!=e&&lp(this))}},Xf.cancel=function(){this.I=!0,pp(this)},Xf.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Vd(),Bd(17)),pp(this),this.o=2,dp(this)):fp(this,this.V-e)};var yp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gp(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gp){this.h=void 0!==t?t:e.h,bp(this,e.j),this.s=e.s,this.g=e.g,wp(this,e.m),this.l=e.l,t=e.i;var n=new Pp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xp(this,n),this.o=e.o}else e&&(n=String(e).match(yp))?(this.h=!!t,bp(this,n[1]||"",!0),this.s=Ip(n[2]||""),this.g=Ip(n[3]||"",!0),wp(this,n[4]),this.l=Ip(n[5]||"",!0),xp(this,n[6]||"",!0),this.o=Ip(n[7]||"")):(this.h=!!t,this.i=new Pp(null,this.h))}function kp(e){return new gp(e)}function bp(e,t,n){e.j=n?Ip(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xp(e,t,n){t instanceof Pp?(e.i=t,function(e,t){t&&!e.j&&(Dp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lp(this,t),Fp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ep(t,Rp)),e.i=new Pp(t,e.h))}function _p(e,t,n){e.i.set(t,n)}function Tp(e){return _p(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ip(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ep(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Sp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Sp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ep(t,Cp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ep(t,Cp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ep(n,"/"==n.charAt(0)?Np:Ap,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ep(n,Op)),e.join("")};var Cp=/[#\/\?@]/g,Ap=/[#\?:]/g,Np=/[#\?]/g,Rp=/[#\?@]/g,Op=/#/g;function Pp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lp(e,t){Dp(e),t=Up(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mp(e,t){return Dp(e),t=Up(e,t),e.g.has(t)}function Fp(e,t,n){Lp(e,t),0<n.length&&(e.i=null,e.g.set(Up(e,t),dh(n)),e.h+=n.length)}function Up(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xf=Pp.prototype).add=function(e,t){Dp(this),this.i=null,e=Up(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xf.forEach=function(e,t){Dp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Xf.oa=function(){Dp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Xf.W=function(e){Dp(this);var t=[];if("string"===typeof e)Mp(this,e)&&(t=t.concat(this.g.get(Up(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Xf.set=function(e,t){return Dp(this),this.i=null,Mp(this,e=Up(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xf.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Xf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Vp=gn((function e(t,n){mn(this,e),this.h=t,this.g=n}));function jp(e){this.l=e||zp,eh.PerformanceNavigationTiming?e=0<(e=eh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(eh.g&&eh.g.Ga&&eh.g.Ga()&&eh.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bp,zp=10;function qp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Kp(e){return e.h?1:e.g?e.g.size:0}function Wp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Gp(e,t){e.g?e.g.add(t):e.h=t}function Hp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=kn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return dh(e.i)}function Yp(){}function Xp(){this.g=new Yp}function $p(e,t,n){var r=n||"";try{mp(e,(function(e,n){var i=e;rh(e)&&(i=dd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(YN){throw t.push(r+"type="+encodeURIComponent("_badmap")),YN}}function Jp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Zp(e){this.l=e.ac||null,this.j=e.jb||!1}function ev(e,t){ld.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=tv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jp.prototype.cancel=function(){if(this.i=Qp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=kn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Yp.prototype.stringify=function(e){return eh.JSON.stringify(e,void 0)},Yp.prototype.parse=function(e){return eh.JSON.parse(e,void 0)},lh(Zp,Gd),Zp.prototype.g=function(){return new ev(this.l,this.j)},Zp.prototype.i=(Bp={},function(){return Bp}),lh(ev,ld);var tv=0;function nv(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function rv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,iv(e)}function iv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xf=ev.prototype).open=function(e,t){if(this.readyState!=tv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,iv(this)},Xf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||eh).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Xf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rv(this)),this.readyState=tv},Xf.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,iv(this)),this.g&&(this.readyState=3,iv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof eh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nv(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Xf.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rv(this):iv(this),3==this.readyState&&nv(this)}},Xf.Va=function(e){this.g&&(this.response=this.responseText=e,rv(this))},Xf.Ua=function(e){this.g&&(this.response=e,rv(this))},Xf.ga=function(){this.g&&rv(this)},Xf.setRequestHeader=function(e,t){this.v.append(e,t)},Xf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ev.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var av=eh.JSON.parse;function ov(e){ld.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uv,this.K=this.L=!1}lh(ov,ld);var uv="",sv=/^https?$/i,cv=["POST","PUT"];function lv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fv(e),dv(e)}function fv(e){e.D||(e.D=!0,fd(e,"complete"),fd(e,"error"))}function hv(e){if(e.h&&"undefined"!=typeof Zf&&(!e.C[1]||4!=vv(e)||2!=e.aa()))if(e.v&&4==vv(e))Ed(e.Ha,0,e);else if(fd(e,"readystatechange"),4==vv(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(yp)[1]||null;if(!a&&eh.self&&eh.self.location){var o=eh.self.location.protocol;a=o.substr(0,o.length-1)}i=!sv.test(a?a.toLowerCase():"")}t=i}if(t)fd(e,"complete"),fd(e,"success");else{e.m=6;try{var u=2<vv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",fv(e)}}finally{dv(e)}}}function dv(e,t){if(e.g){pv(e);var n=e.g,r=e.C[0]?th:null;e.g=null,e.C=null,t||fd(e,"ready");try{n.onreadystatechange=r}catch(YN){}}}function pv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(eh.clearTimeout(e.A),e.A=null)}function vv(e){return e.g?e.g.readyState:0}function mv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case uv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(em){return null}}function yv(e){var t="";return Wh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function gv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_p(e,t,n))}function kv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bv(e){this.Ca=0,this.i=[],this.j=new Pd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=kv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=kv("baseRetryDelayMs",5e3,e),this.bb=kv("retryDelaySeedMs",1e4,e),this.$a=kv("forwardChannelMaxRetries",2,e),this.ta=kv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new jp(e&&e.concurrentRequestLimit),this.Fa=new Xp,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wv(e){if(_v(e),3==e.G){var t=e.U++,n=kp(e.F);_p(n,"SID",e.I),_p(n,"RID",t),_p(n,"TYPE","terminate"),Ev(e,n),(t=new ep(e,e.j,t,void 0)).K=2,t.v=Tp(kp(n)),n=!1,eh.navigator&&eh.navigator.sendBeacon&&(n=eh.navigator.sendBeacon(t.v.toString(),"")),!n&&eh.Image&&((new Image).src=t.v,n=!0),n||(t.g=Uv(t.l,null),t.g.da(t.v)),t.F=Date.now(),lp(t)}Mv(e)}function xv(e){e.g&&(Nv(e),e.g.cancel(),e.g=null)}function _v(e){xv(e),e.u&&(eh.clearTimeout(e.u),e.u=null),Ov(e),e.h.cancel(),e.m&&("number"===typeof e.m&&eh.clearTimeout(e.m),e.m=null)}function Tv(e){qp(e.h)||e.m||(e.m=!0,bd(e.Ja,e),e.C=0)}function Iv(e,t){var n;n=t?t.m:e.U++;var r=kp(e.F);_p(r,"SID",e.I),_p(r,"RID",n),_p(r,"AID",e.T),Ev(e,r),e.o&&e.s&&gv(r,e.o,e.s),n=new ep(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Sv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Gp(e.h,n),ap(n,r,t)}function Ev(e,t){e.ia&&Wh(e.ia,(function(e,n){_p(t,n,e)})),e.l&&mp({},(function(e,n){_p(t,n,e)}))}function Sv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?sh(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{$p(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Cv(e){e.g||e.u||(e.Z=1,bd(e.Ia,e),e.A=0)}function Av(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=qd(sh(e.Ia,e),Dv(e,e.A)),e.A++,!0)}function Nv(e){null!=e.B&&(eh.clearTimeout(e.B),e.B=null)}function Rv(e){e.g=new ep(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=kp(e.sa);_p(t,"RID","rpc"),_p(t,"SID",e.I),_p(t,"CI",e.L?"0":"1"),_p(t,"AID",e.T),_p(t,"TYPE","xmlhttp"),Ev(e,t),e.o&&e.s&&gv(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Tp(kp(t)),n.s=null,n.P=!0,op(n,e)}function Ov(e){null!=e.v&&(eh.clearTimeout(e.v),e.v=null)}function Pv(e,t){var n=null;if(e.g==t){Ov(e),Nv(e),e.g=null;var r=2}else{if(!Wp(e.h,t))return;n=t.D,Hp(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;fd(r=Fd(),new zd(r,n)),Tv(e)}else Cv(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Kp(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=qd(sh(e.Ja,e,t),Dv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Av(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Lv(e,5);break;case 4:Lv(e,10);break;case 3:Lv(e,6);break;default:Lv(e,2)}}function Dv(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Lv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=sh(e.kb,e);n||(n=new gp("//www.google.com/images/cleardot.gif"),eh.location&&"http"==eh.location.protocol||bp(n,"https"),Tp(n)),function(e,t){var n=new Pd;if(eh.Image){var r=new Image;r.onload=ch(Jp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ch(Jp,n,r,"TestLoadImage: error",!1,t),r.onabort=ch(Jp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ch(Jp,n,r,"TestLoadImage: timeout",!1,t),eh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bd(2);e.G=0,e.l&&e.l.va(t),Mv(e),_v(e)}function Mv(e){if(e.G=0,e.la=[],e.l){var t=Qp(e.h);0==t.length&&0==e.i.length||(ph(e.la,t),ph(e.la,e.i),e.h.i.length=0,dh(e.i),e.i.length=0),e.l.ua()}}function Fv(e,t,n){var r=n instanceof gp?kp(n):new gp(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),wp(r,r.m);else{var i=eh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new gp(null,void 0);r&&bp(a,r),t&&(a.g=t),i&&wp(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&_p(r,n,t),_p(r,"VER",e.ma),Ev(e,r),r}function Uv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ov(new Zp({jb:!0})):new ov(e.ra)).Ka(e.H),t}function Vv(){}function jv(){if(Ih&&!(10<=Number(Uh)))throw Error("Environmental error: no available transport.")}function Bv(e,t){ld.call(this),this.g=new bv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!yh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Kv(this)}function zv(e){$d.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qv(){Jd.call(this),this.status=1}function Kv(e){this.g=e}(Xf=ov.prototype).Ka=function(e){this.L=e},Xf.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yd.g(),this.C=this.u?Hd(this.u):Hd(Yd),this.g.onreadystatechange=sh(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void lv(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=kn(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=eh.FormData&&e instanceof eh.FormData,!(0<=hh(cv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=kn(n);try{for(l.s();!(c=l.n()).done;){var f=s(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pv(this),0<this.B&&((this.K=function(e){return Ih&&Mh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sh(this.qa,this)):this.A=Ed(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){lv(this,u)}},Xf.qa=function(){"undefined"!=typeof Zf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fd(this,"timeout"),this.abort(8))},Xf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fd(this,"complete"),fd(this,"abort"),dv(this))},Xf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dv(this,!0)),ov.X.M.call(this)},Xf.Ha=function(){this.s||(this.F||this.v||this.l?hv(this):this.fb())},Xf.fb=function(){hv(this)},Xf.aa=function(){try{return 2<vv(this)?this.g.status:-1}catch(Bp){return-1}},Xf.fa=function(){try{return this.g?this.g.responseText:""}catch(Bp){return""}},Xf.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),av(t)}},Xf.Ea=function(){return this.m},Xf.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xf=bv.prototype).ma=8,Xf.G=1,Xf.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new ep(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Qh(n=Gh(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Sv(this,t,r),_p(i=kp(this.F),"RID",e),_p(i,"CVER",22),this.D&&_p(i,"X-HTTP-Session-Id",this.D),Ev(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(yv(n)))+"&"+r:this.o&&gv(i,this.o,n)),Gp(this.h,t),this.Ya&&_p(i,"TYPE","init"),this.O?(_p(i,"$req",r),_p(i,"SID","null"),t.Z=!0,ap(t,i,null)):ap(t,i,r),this.G=2}}else 3==this.G&&(e?Iv(this,e):0==this.i.length||qp(this.h)||Iv(this))},Xf.Ia=function(){if(this.u=null,Rv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=qd(sh(this.eb,this),e)}},Xf.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Bd(10),xv(this),Rv(this))},Xf.cb=function(){null!=this.v&&(this.v=null,xv(this),Av(this),Bd(19))},Xf.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Bd(2)):(this.j.info("Failed to ping google.com"),Bd(1))},(Xf=Vv.prototype).xa=function(){},Xf.wa=function(){},Xf.va=function(){},Xf.ua=function(){},Xf.Ra=function(){},jv.prototype.g=function(e,t){return new Bv(e,t)},lh(Bv,ld),Bv.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Bd(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Fv(e,null,e.V),Tv(e)},Bv.prototype.close=function(){wv(this.g)},Bv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=dd(e),e=n);t.i.push(new Vp(t.ab++,e)),3==t.G&&Tv(t)},Bv.prototype.M=function(){this.g.l=null,delete this.j,wv(this.g),delete this.g,Bv.X.M.call(this)},lh(zv,$d),lh(qv,Jd),lh(Kv,Vv),Kv.prototype.xa=function(){fd(this.g,"a")},Kv.prototype.wa=function(e){fd(this.g,new zv(e))},Kv.prototype.va=function(e){fd(this.g,new qv)},Kv.prototype.ua=function(){fd(this.g,"b")},jv.prototype.createWebChannel=jv.prototype.g,Bv.prototype.send=Bv.prototype.u,Bv.prototype.open=Bv.prototype.m,Bv.prototype.close=Bv.prototype.close,Kd.NO_ERROR=0,Kd.TIMEOUT=8,Kd.HTTP_ERROR=6,Wd.COMPLETE="complete",Qd.EventType=Xd,Xd.OPEN="a",Xd.CLOSE="b",Xd.ERROR="c",Xd.MESSAGE="d",ld.prototype.listen=ld.prototype.N,ov.prototype.listenOnce=ov.prototype.O,ov.prototype.getLastError=ov.prototype.Oa,ov.prototype.getLastErrorCode=ov.prototype.Ea,ov.prototype.getStatus=ov.prototype.aa,ov.prototype.getResponseJson=ov.prototype.Sa,ov.prototype.getResponseText=ov.prototype.fa,ov.prototype.send=ov.prototype.da,ov.prototype.setWithCredentials=ov.prototype.Ka;var Wv=Jf.createWebChannelTransport=function(){return new jv},Gv=Jf.getStatEventTarget=function(){return Fd()},Hv=Jf.ErrorCode=Kd,Qv=Jf.EventType=Wd,Yv=Jf.Event=Ld,Xv=Jf.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},$v=Jf.FetchXmlHttpFactory=Zp,Jv=Jf.WebChannel=Qd,Zv=Jf.XhrIo=ov,em="@firebase/firestore",tm=function(){function e(t){mn(this,e),this.uid=t}return gn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();tm.UNAUTHENTICATED=new tm(null),tm.GOOGLE_CREDENTIALS=new tm("google-credentials-uid"),tm.FIRST_PARTY=new tm("first-party-uid"),tm.MOCK_USER=new tm("mock-user");var nm="9.14.0",rm=new kr("@firebase/firestore");function im(){return rm.logLevel}function am(e){if(rm.logLevel<=hr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sm);rm.debug.apply(rm,["Firestore (".concat(nm,"): ").concat(e)].concat(ur(i)))}}function om(e){if(rm.logLevel<=hr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sm);rm.error.apply(rm,["Firestore (".concat(nm,"): ").concat(e)].concat(ur(i)))}}function um(e){if(rm.logLevel<=hr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sm);rm.warn.apply(rm,["Firestore (".concat(nm,"): ").concat(e)].concat(ur(i)))}}function sm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function cm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(nm,") INTERNAL ASSERTION FAILED: ")+e;throw om(t),new Error(t)}function lm(e,t){e||cm()}function fm(e,t){return e}var hm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dm=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return gn(n)}(Gn),pm=gn((function e(){var t=this;mn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vm=gn((function e(t,n){mn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),mm=function(){function e(){mn(this,e)}return gn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ym=function(){function e(t){mn(this,e),this.token=t,this.changeListener=null}return gn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),gm=function(){function e(t){mn(this,e),this.t=t,this.currentUser=tm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return gn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new pm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new pm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){am("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(am("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new pm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(am("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(lm("string"==typeof n.accessToken),new vm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return lm(null===e||"string"==typeof e),new tm(e)}}]),e}(),km=function(){function e(t,n,r,i){mn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=tm.FIRST_PARTY,this.p=new Map}return gn(e,[{key:"I",value:function(){return this.g?this.g():(lm(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),bm=function(){function e(t,n,r,i){mn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return gn(e,[{key:"getToken",value:function(){return Promise.resolve(new km(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),wm=gn((function e(t){mn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),xm=function(){function e(t){mn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return gn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&am("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,am("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){am("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):am("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(lm("string"==typeof t.token),e.A=t.token,new wm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function _m(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Tm=function(){function e(){mn(this,e)}return gn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=_m(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Im(e,t){return e<t?-1:e>t?1:0}function Em(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Sm(e){return e+"\0"}var Cm=function(){function e(t,n){if(mn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new dm(hm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dm(hm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new dm(hm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dm(hm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return gn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Im(this.nanoseconds,e.nanoseconds):Im(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Am=function(){function e(t){mn(this,e),this.timestamp=t}return gn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Cm(0,0))}},{key:"max",value:function(){return new e(new Cm(253402300799,999999999))}}]),e}(),Nm=function(){function e(t,n,r){mn(this,e),void 0===n?n=0:n>t.length&&cm(),void 0===r?r=t.length-n:r>t.length-n&&cm(),this.segments=t,this.offset=n,this.len=r}return gn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Rm=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new dm(hm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ur(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nm),Om=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pm=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Om.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new dm(hm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new dm(hm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new dm(hm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new dm(hm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nm),Dm=function(){function e(t){mn(this,e),this.path=t}return gn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Rm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Rm.fromString(t))}},{key:"fromName",value:function(t){return new e(Rm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Rm.emptyPath())}},{key:"comparator",value:function(e,t){return Rm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Rm(t.slice()))}}]),e}(),Lm=gn((function e(t,n,r,i){mn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Mm(e){return e.fields.find((function(e){return 2===e.kind}))}function Fm(e){return e.fields.filter((function(e){return 2!==e.kind}))}Lm.UNKNOWN_ID=-1;var Um=gn((function e(t,n){mn(this,e),this.fieldPath=t,this.kind=n}));var Vm=function(){function e(t,n){mn(this,e),this.sequenceNumber=t,this.offset=n}return gn(e,null,[{key:"empty",value:function(){return new e(0,zm.min())}}]),e}();function jm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Am.fromTimestamp(1e9===r?new Cm(n+1,0):new Cm(n,r));return new zm(i,Dm.empty(),t)}function Bm(e){return new zm(e.readTime,e.key,-1)}var zm=function(){function e(t,n,r){mn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return gn(e,null,[{key:"min",value:function(){return new e(Am.min(),Dm.empty(),-1)}},{key:"max",value:function(){return new e(Am.max(),Dm.empty(),-1)}}]),e}();function qm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Dm.comparator(e.documentKey,t.documentKey))?n:Im(e.largestBatchId,t.largestBatchId)}var Km="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wm=function(){function e(){mn(this,e),this.onCommittedListeners=[]}return gn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Gm(e){return Hm.apply(this,arguments)}function Hm(){return Hm=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===hm.FAILED_PRECONDITION&&t.message===Km){e.next=2;break}throw t;case 2:am("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}var Qm=function(){function e(t){var n=this;mn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return gn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=kn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Ym=function(){function e(t,n){var r=this;mn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new pm,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Jm(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ry(e.target.error);r.P.reject(new Jm(t,n))}}return gn(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(am("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ey(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Jm(n,t)}}}]),e}(),Xm=function(){function e(t,n,r){mn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Dn())&&om("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return gn(e,[{key:"F",value:function(){var e=be(ge().mark((function e(t){var n=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return am("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Jm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new dm(hm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new dm(hm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Jm(t,n))},i.onupgradeneeded=function(e){am("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){am("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=be(ge().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ge().mark((function e(){var n,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Ym.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Qm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,am("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return am("SimpleDb","Removing database:",e),ty(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Vn())return!1;if(e.N())return!0;var t=Dn(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/nwitter2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),$m=function(){function e(t){mn(this,e),this.U=t,this.q=!1,this.K=null}return gn(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return ty(this.U.delete())}}]),e}(),Jm=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,hm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return gn(n)}(dm);function Zm(e){return"IndexedDbTransactionError"===e.name}var ey=function(){function e(t){mn(this,e),this.store=t}return gn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(am("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(am("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ty(n)}},{key:"add",value:function(e){return am("SimpleDb","ADD",this.store.name,e,e),ty(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ty(this.store.get(e)).next((function(n){return void 0===n&&(n=null),am("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return am("SimpleDb","DELETE",this.store.name,e),ty(this.store.delete(e))}},{key:"count",value:function(){return am("SimpleDb","COUNT",this.store.name),ty(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Qm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Qm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){am("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Qm((function(n,r){t.onerror=function(e){var t=ry(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Qm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new $m(i),o=t(i.primaryKey,i.value,a);if(o instanceof Qm){var u=o.catch((function(e){return a.done(),Qm.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Qm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ty(e){return new Qm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ry(e.target.error);n(t)}}))}var ny=!1;function ry(e){var t=Xm.D(Dn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new dm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ny||(ny=!0,setTimeout((function(){throw r}),0)),r}}return e}var iy=function(){function e(t,n){mn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return gn(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;am("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=am,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Zm(e.t4)){e.next=17;break}am("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Gm(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),ay=function(){function e(t,n){mn(this,e),this.localStore=t,this.persistence=n}return gn(e,[{key:"st",value:function(){var e=be(ge().mark((function e(){var t,n=this,r=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Qm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return am("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return am("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Bm(t);qm(r,n)>0&&(n=r)})),new zm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),oy=function(){function e(t,n){var r=this;mn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return gn(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function uy(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}oy.at=-1;var ly=function(){function e(t,n){mn(this,e),this.comparator=t,this.root=n||hy.EMPTY}return gn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new fy(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new fy(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new fy(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new fy(this.root,e,this.comparator,!0)}}]),e}(),fy=function(){function e(t,n,r,i){mn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return gn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),hy=function(){function e(t,n,r,i,a){mn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return gn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cm();if(this.right.isRed())throw cm();var e=this.left.check();if(e!==this.right.check())throw cm();return e+(this.isRed()?0:1)}}]),e}();hy.EMPTY=null,hy.RED=!0,hy.BLACK=!1,hy.EMPTY=new(function(){function e(){mn(this,e),this.size=0}return gn(e,[{key:"key",get:function(){throw cm()}},{key:"value",get:function(){throw cm()}},{key:"color",get:function(){throw cm()}},{key:"left",get:function(){throw cm()}},{key:"right",get:function(){throw cm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new hy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var dy=function(){function e(t){mn(this,e),this.comparator=t,this.data=new ly(this.comparator)}return gn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new py(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new py(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),py=function(){function e(t){mn(this,e),this.iter=t}return gn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function vy(e){return e.hasNext()?e.getNext():void 0}var my=function(){function e(t){mn(this,e),this.fields=t,t.sort(Pm.comparator)}return gn(e,[{key:"unionWith",value:function(t){var n,r=new dy(Pm.comparator),i=kn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=kn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=kn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Em(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var yy=function(e){function t(e){mn(this,t),this.binaryString=e}return gn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Im(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();yy.EMPTY_BYTE_STRING=new yy("");var gy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ky(e){if(lm(!!e),"string"==typeof e){var t=0,n=gy.exec(e);if(lm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:by(e.seconds),nanos:by(e.nanos)}}function by(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wy(e){return"string"==typeof e?yy.fromBase64String(e):yy.fromUint8Array(e)}function xy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _y(e){var t=e.mapValue.fields.__previous_value__;return xy(t)?_y(t):t}function Ty(e){var t=ky(e.mapValue.fields.__local_write_time__.timestampValue);return new Cm(t.seconds,t.nanos)}var Iy=gn((function e(t,n,r,i,a,o,u,s){mn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ey=function(){function e(t,n){mn(this,e),this.projectId=t,this.database=n||"(default)"}return gn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Sy(e){return null==e}function Cy(e){return 0===e&&1/e==-1/0}function Ay(e){return"number"==typeof e&&Number.isInteger(e)&&!Cy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ny={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ry={nullValue:"NULL_VALUE"};function Oy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xy(e)?4:Gy(e)?9007199254740991:10:cm()}function Py(e,t){if(e===t)return!0;var n=Oy(e);if(n!==Oy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ty(e).isEqual(Ty(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ky(e.timestampValue),r=ky(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wy(e.bytesValue).isEqual(wy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return by(e.geoPointValue.latitude)===by(t.geoPointValue.latitude)&&by(e.geoPointValue.longitude)===by(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return by(e.integerValue)===by(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=by(e.doubleValue),r=by(t.doubleValue);return n===r?Cy(n)===Cy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Em(e.arrayValue.values||[],t.arrayValue.values||[],Py);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(uy(n)!==uy(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Py(n[i],r[i])))return!1;return!0}(e,t);default:return cm()}}function Dy(e,t){return void 0!==(e.values||[]).find((function(e){return Py(e,t)}))}function Ly(e,t){if(e===t)return 0;var n=Oy(e),r=Oy(t);if(n!==r)return Im(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Im(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=by(e.integerValue||e.doubleValue),r=by(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return My(e.timestampValue,t.timestampValue);case 4:return My(Ty(e),Ty(t));case 5:return Im(e.stringValue,t.stringValue);case 6:return function(e,t){var n=wy(e),r=wy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Im(n[i],r[i]);if(0!==a)return a}return Im(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Im(by(e.latitude),by(t.latitude));return 0!==n?n:Im(by(e.longitude),by(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ly(n[i],r[i]);if(a)return a}return Im(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ny.mapValue&&t===Ny.mapValue)return 0;if(e===Ny.mapValue)return 1;if(t===Ny.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Im(r[o],a[o]);if(0!==u)return u;var s=Ly(n[r[o]],i[a[o]]);if(0!==s)return s}return Im(r.length,a.length)}(e.mapValue,t.mapValue);default:throw cm()}}function My(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Im(e,t);var n=ky(e),r=ky(t),i=Im(n.seconds,r.seconds);return 0!==i?i:Im(n.nanos,r.nanos)}function Fy(e){return Uy(e)}function Uy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ky(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Dm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=kn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Uy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=kn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Uy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):cm();var t,n}function Vy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function jy(e){return!!e&&"integerValue"in e}function By(e){return!!e&&"arrayValue"in e}function zy(e){return!!e&&"nullValue"in e}function qy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ky(e){return!!e&&"mapValue"in e}function Wy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return sy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Wy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Wy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Gy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hy(e){return"nullValue"in e?Ry:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Vy(Ey.empty(),Dm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:cm()}function Qy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Vy(Ey.empty(),Dm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ny:cm()}function Yy(e,t){var n=Ly(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Xy(e,t){var n=Ly(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var $y=function(){function e(t){mn(this,e),this.value=t}return gn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ky(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wy(t)}},{key:"setAll",value:function(e){var t=this,n=Pm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Wy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ky(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Py(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ky(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){sy(t,(function(t,n){return e[t]=n}));var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Wy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Jy(e){var t=[];return sy(e.fields,(function(e,n){var r=new Pm([e]);if(Ky(n)){var i=Jy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=kn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new my(t)}var Zy=function(){function e(t,n,r,i,a,o){mn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return gn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=$y.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=$y.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Am.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Am.min(),Am.min(),$y.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Am.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Am.min(),$y.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Am.min(),$y.empty(),2)}}]),e}(),eg=gn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;mn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function tg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new eg(e,t,n,r,i,a,o)}function ng(e){var t=fm(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Fy(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Sy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Fy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Fy(e)})).join(",")),t.ht=n}return t.ht}function rg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!kg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Py(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wg(e.startAt,t.startAt)&&wg(e.endAt,t.endAt)}function ig(e){return Dm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ag(e,t){return e.filters.filter((function(e){return e instanceof sg&&e.field.isEqual(t)}))}function og(e,t,n){var r,i=Ry,a=!0,o=kn(ag(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ry,c=!0;switch(u.op){case"<":case"<=":s=Hy(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Ry}Yy({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Yy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ug(e,t,n){var r,i=Ny,a=!0,o=kn(ag(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ny,c=!0;switch(u.op){case">=":case">":s=Qy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ny}Xy({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Xy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var sg=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a;return mn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return gn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ly(t,this.value)):null!==t&&Oy(this.value)===Oy(t)&&this.ft(Ly(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cm()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new cg(e,t,r):"array-contains"===t?new dg(e,r):"in"===t?new pg(e,r):"not-in"===t?new vg(e,r):"array-contains-any"===t?new mg(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new lg(e,n):new fg(e,n)}}]),n}(function(){return gn((function e(){mn(this,e)}))}()),cg=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a;return mn(this,n),(a=t.call(this,e,r,i)).key=Dm.fromName(i.referenceValue),a}return gn(n,[{key:"matches",value:function(e){var t=Dm.comparator(e.key,this.key);return this.ft(t)}}]),n}(sg),lg=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e,"in",r)).keys=hg("in",r),i}return gn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sg),fg=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e,"not-in",r)).keys=hg("not-in",r),i}return gn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sg);function hg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Dm.fromName(e.referenceValue)}))}var dg=function(e){wn(n,e);var t=In(n);function n(e,r){return mn(this,n),t.call(this,e,"array-contains",r)}return gn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return By(t)&&Dy(t.arrayValue,this.value)}}]),n}(sg),pg=function(e){wn(n,e);var t=In(n);function n(e,r){return mn(this,n),t.call(this,e,"in",r)}return gn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Dy(this.value.arrayValue,t)}}]),n}(sg),vg=function(e){wn(n,e);var t=In(n);function n(e,r){return mn(this,n),t.call(this,e,"not-in",r)}return gn(n,[{key:"matches",value:function(e){if(Dy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Dy(this.value.arrayValue,t)}}]),n}(sg),mg=function(e){wn(n,e);var t=In(n);function n(e,r){return mn(this,n),t.call(this,e,"array-contains-any",r)}return gn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!By(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Dy(t.value.arrayValue,e)}))}}]),n}(sg),yg=gn((function e(t,n){mn(this,e),this.position=t,this.inclusive=n})),gg=gn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";mn(this,e),this.field=t,this.dir=n}));function kg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function bg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Dm.comparator(Dm.fromName(o.referenceValue),n.key):Ly(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function wg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Py(e.position[n],t.position[n]))return!1;return!0}var xg=gn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;mn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function _g(e,t,n,r,i,a,o,u){return new xg(e,t,n,r,i,a,o,u)}function Tg(e){return new xg(e)}function Ig(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Eg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Sg(e){var t,n=kn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Cg(e){return null!==e.collectionGroup}function Ag(e){var t=fm(e);if(null===t._t){t._t=[];var n=Sg(t),r=Eg(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new gg(n)),t._t.push(new gg(Pm.keyField(),"asc"));else{var i,a=!1,o=kn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new gg(Pm.keyField(),s))}}}return t._t}function Ng(e){var t=fm(e);if(!t.wt)if("F"===t.limitType)t.wt=tg(t.path,t.collectionGroup,Ag(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=kn(Ag(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new gg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new yg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new yg(t.startAt.position,t.startAt.inclusive):null;t.wt=tg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Rg(e,t,n){return new xg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Og(e,t){return rg(Ng(e),Ng(t))&&e.limitType===t.limitType}function Pg(e){return"".concat(ng(Ng(e)),"|lt:").concat(e.limitType)}function Dg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Fy(t.value));var t})).join(", "),"]")),Sy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Fy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Fy(e)})).join(",")),"Target(".concat(t,")")}(Ng(e)),"; limitType=").concat(e.limitType,")")}function Lg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Dm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=kn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=kn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=bg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ag(e),t))&&!(e.endAt&&!function(e,t,n){var r=bg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ag(e),t))}(e,t)}function Mg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fg(e){return function(t,n){var r,i=!1,a=kn(Ag(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ug(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ug(e,t,n){var r=e.field.isKeyField()?Dm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ly(r,i):cm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cm()}}function Vg(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cy(t)?"-0":t}}function jg(e){return{integerValue:""+e}}function Bg(e,t){return Ay(t)?jg(t):Vg(e,t)}var zg=gn((function e(){mn(this,e),this._=void 0}));function qg(e,t,n){return e instanceof Gg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Hg?Qg(e,t):e instanceof Yg?Xg(e,t):function(e,t){var n=Wg(e,t),r=Jg(n)+Jg(e.yt);return jy(n)&&jy(e.yt)?jg(r):Vg(e.It,r)}(e,t)}function Kg(e,t,n){return e instanceof Hg?Qg(e,t):e instanceof Yg?Xg(e,t):n}function Wg(e,t){return e instanceof $g?jy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Gg=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n)}(zg),Hg=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this)).elements=e,r}return gn(n)}(zg);function Qg(e,t){var n,r=Zg(t),i=kn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Py(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yg=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this)).elements=e,r}return gn(n)}(zg);function Xg(e,t){var n,r=Zg(t),i=kn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Py(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $g=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this)).It=e,i.yt=r,i}return gn(n)}(zg);function Jg(e){return by(e.integerValue||e.doubleValue)}function Zg(e){return By(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ek=gn((function e(t,n){mn(this,e),this.field=t,this.transform=n}));var tk=gn((function e(t,n){mn(this,e),this.version=t,this.transformResults=n})),nk=function(){function e(t,n){mn(this,e),this.updateTime=t,this.exists=n}return gn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ik=gn((function e(){mn(this,e)}));function ak(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yk(e.key,nk.none()):new lk(e.key,e.data,nk.none());var n,r=e.data,i=$y.empty(),a=new dy(Pm.comparator),o=kn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new fk(e.key,i,new my(a.toArray()),nk.none())}function ok(e,t,n){e instanceof lk?function(e,t,n){var r=e.value.clone(),i=dk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fk?function(e,t,n){if(rk(e.precondition,t)){var r=dk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uk(e,t,n,r){return e instanceof lk?function(e,t,n,r){if(!rk(e.precondition,t))return n;var i=e.value.clone(),a=pk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fk?function(e,t,n,r){if(!rk(e.precondition,t))return n;var i=pk(e.fieldTransforms,r,t),a=t.data;return a.setAll(hk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return rk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sk(e,t){var n,r=null,i=kn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Wg(a.transform,o||null);null!=u&&(null===r&&(r=$y.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ck(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Em(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hg&&t instanceof Hg||e instanceof Yg&&t instanceof Yg?Em(e.elements,t.elements,Py):e instanceof $g&&t instanceof $g?Py(e.yt,t.yt):e instanceof Gg&&t instanceof Gg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var lk=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return mn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return gn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),fk=function(e){wn(n,e);var t=In(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return mn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return gn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ik);function hk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dk(e,t,n){var r=new Map;lm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Kg(o,u,n[i]))}return r}function pk(e,t,n){var r,i=new Map,a=kn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,qg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vk,mk,yk=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return gn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),gk=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return gn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),kk=gn((function e(t){mn(this,e),this.count=t}));function bk(e){switch(e){default:return cm();case hm.CANCELLED:case hm.UNKNOWN:case hm.DEADLINE_EXCEEDED:case hm.RESOURCE_EXHAUSTED:case hm.INTERNAL:case hm.UNAVAILABLE:case hm.UNAUTHENTICATED:return!1;case hm.INVALID_ARGUMENT:case hm.NOT_FOUND:case hm.ALREADY_EXISTS:case hm.PERMISSION_DENIED:case hm.FAILED_PRECONDITION:case hm.ABORTED:case hm.OUT_OF_RANGE:case hm.UNIMPLEMENTED:case hm.DATA_LOSS:return!0}}function wk(e){if(void 0===e)return om("GRPC error has no .code"),hm.UNKNOWN;switch(e){case vk.OK:return hm.OK;case vk.CANCELLED:return hm.CANCELLED;case vk.UNKNOWN:return hm.UNKNOWN;case vk.DEADLINE_EXCEEDED:return hm.DEADLINE_EXCEEDED;case vk.RESOURCE_EXHAUSTED:return hm.RESOURCE_EXHAUSTED;case vk.INTERNAL:return hm.INTERNAL;case vk.UNAVAILABLE:return hm.UNAVAILABLE;case vk.UNAUTHENTICATED:return hm.UNAUTHENTICATED;case vk.INVALID_ARGUMENT:return hm.INVALID_ARGUMENT;case vk.NOT_FOUND:return hm.NOT_FOUND;case vk.ALREADY_EXISTS:return hm.ALREADY_EXISTS;case vk.PERMISSION_DENIED:return hm.PERMISSION_DENIED;case vk.FAILED_PRECONDITION:return hm.FAILED_PRECONDITION;case vk.ABORTED:return hm.ABORTED;case vk.OUT_OF_RANGE:return hm.OUT_OF_RANGE;case vk.UNIMPLEMENTED:return hm.UNIMPLEMENTED;case vk.DATA_LOSS:return hm.DATA_LOSS;default:return cm()}}(mk=vk||(vk={}))[mk.OK=0]="OK",mk[mk.CANCELLED=1]="CANCELLED",mk[mk.UNKNOWN=2]="UNKNOWN",mk[mk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mk[mk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mk[mk.NOT_FOUND=5]="NOT_FOUND",mk[mk.ALREADY_EXISTS=6]="ALREADY_EXISTS",mk[mk.PERMISSION_DENIED=7]="PERMISSION_DENIED",mk[mk.UNAUTHENTICATED=16]="UNAUTHENTICATED",mk[mk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mk[mk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mk[mk.ABORTED=10]="ABORTED",mk[mk.OUT_OF_RANGE=11]="OUT_OF_RANGE",mk[mk.UNIMPLEMENTED=12]="UNIMPLEMENTED",mk[mk.INTERNAL=13]="INTERNAL",mk[mk.UNAVAILABLE=14]="UNAVAILABLE",mk[mk.DATA_LOSS=15]="DATA_LOSS";var xk=function(){function e(t,n){mn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return gn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){sy(this.inner,(function(t,n){var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return cy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),_k=new ly(Dm.comparator);function Tk(){return _k}var Ik=new ly(Dm.comparator);function Ek(){for(var e=Ik,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Sk(e){var t=Ik;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ck(){return Nk()}function Ak(){return Nk()}function Nk(){return new xk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Rk=new ly(Dm.comparator),Ok=new dy(Dm.comparator);function Pk(){for(var e=Ok,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Dk=new dy(Im);function Lk(){return Dk}var Mk=function(){function e(t,n,r,i,a){mn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return gn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Fk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Am.min(),i,Lk(),Tk(),Pk())}}]),e}(),Fk=function(){function e(t,n,r,i,a){mn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return gn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Pk(),Pk(),Pk())}}]),e}(),Uk=gn((function e(t,n,r,i){mn(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Vk=gn((function e(t,n){mn(this,e),this.targetId=t,this.At=n})),jk=gn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;mn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Bk=function(){function e(){mn(this,e),this.Rt=0,this.bt=Kk(),this.Pt=yy.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return gn(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Pk(),t=Pk(),n=Pk();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cm()}})),new Fk(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Kk()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),zk=function(){function e(t){mn(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Tk(),this.qt=qk(),this.Kt=new dy(Im)}return gn(e,[{key:"Gt",value:function(e){var t,n=kn(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=kn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:cm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(ig(i))if(0===n){var a=new Dm(i.path);this.jt(t,a,Zy.newNoDocument(a,Am.min()))}else lm(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&ig(a.target)){var o=new Dm(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Zy.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Pk();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Mk(e,n,this.Kt,this.Ut,r);return this.Ut=Tk(),this.qt=qk(),this.Kt=new dy(Im),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Bk,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new dy(Im),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||am("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Bk),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function qk(){return new ly(Dm.comparator)}function Kk(){return new ly(Dm.comparator)}var Wk={asc:"ASCENDING",desc:"DESCENDING"},Gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hk=gn((function e(t,n){mn(this,e),this.databaseId=t,this.gt=n}));function Qk(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yk(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Xk(e,t){return Qk(e,t.toTimestamp())}function $k(e){return lm(!!e),Am.fromTimestamp(function(e){var t=ky(e);return new Cm(t.seconds,t.nanos)}(e))}function Jk(e,t){return function(e){return new Rm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Zk(e){var t=Rm.fromString(e);return lm(xb(t)),t}function eb(e,t){return Jk(e.databaseId,t.path)}function tb(e,t){var n=Zk(t);if(n.get(1)!==e.databaseId.projectId)throw new dm(hm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dm(hm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Dm(ab(n))}function nb(e,t){return Jk(e.databaseId,t)}function rb(e){var t=Zk(e);return 4===t.length?Rm.emptyPath():ab(t)}function ib(e){return new Rm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ab(e){return lm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ob(e,t,n){return{name:eb(e,t),fields:n.value.mapValue.fields}}function ub(e,t,n){var r=tb(e,t.name),i=$k(t.updateTime),a=new $y({mapValue:{fields:t.fields}}),o=Zy.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function sb(e,t){return"found"in t?function(e,t){lm(!!t.found),t.found.name,t.found.updateTime;var n=tb(e,t.found.name),r=$k(t.found.updateTime),i=new $y({mapValue:{fields:t.found.fields}});return Zy.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){lm(!!t.missing),lm(!!t.readTime);var n=tb(e,t.missing),r=$k(t.readTime);return Zy.newNoDocument(n,r)}(e,t):cm()}function cb(e,t){var n;if(t instanceof lk)n={update:ob(e,t.key,t.value)};else if(t instanceof yk)n={delete:eb(e,t.key)};else if(t instanceof fk)n={update:ob(e,t.key,t.data),updateMask:wb(t.fieldMask)};else{if(!(t instanceof gk))return cm();n={verify:eb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Gg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $g)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw cm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cm()}(e,t.precondition)),n}function lb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?nk.updateTime($k(e.updateTime)):void 0!==e.exists?nk.exists(e.exists):nk.none()}(t.currentDocument):nk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)lm("REQUEST_TIME"===t.setToServerValue),n=new Gg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Hg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Yg(i)}else"increment"in t?n=new $g(e,t.increment):cm();var a=Pm.fromServerFormat(t.fieldPath);return new ek(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=tb(e,t.update.name),a=new $y({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new my(t.map((function(e){return Pm.fromServerFormat(e)})))}(t.updateMask);return new fk(i,a,o,n,r)}return new lk(i,a,n,r)}if(t.delete){var u=tb(e,t.delete);return new yk(u,n)}if(t.verify){var s=tb(e,t.verify);return new gk(s,n)}return cm()}function fb(e,t){return{documents:[nb(e,t.path)]}}function hb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(qy(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NAN"}};if(zy(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qy(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NOT_NAN"}};if(zy(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yb(e.field),op:mb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:yb(e.field),direction:vb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Sy(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function db(e){var t=rb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=pb(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new gg(gb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Sy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new yg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new yg(n,t)}(n.endAt)),_g(t,i,u,o,s,"F",c,l)}function pb(e){return e?void 0!==e.unaryFilter?[bb(e)]:void 0!==e.fieldFilter?[kb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return pb(e)})).reduce((function(e,t){return e.concat(t)})):cm():[]}function vb(e){return Wk[e]}function mb(e){return Gk[e]}function yb(e){return{fieldPath:e.canonicalString()}}function gb(e){return Pm.fromServerFormat(e.fieldPath)}function kb(e){return sg.create(gb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cm()}}(e.fieldFilter.op),e.fieldFilter.value)}function bb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=gb(e.unaryFilter.field);return sg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=gb(e.unaryFilter.field);return sg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gb(e.unaryFilter.field);return sg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gb(e.unaryFilter.field);return sg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cm()}}function wb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function xb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function _b(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ib(t)),t=Tb(e.get(n),t);return Ib(t)}function Tb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ib(e){return e+"\x01\x01"}function Eb(e){var t=e.length;if(lm(t>=2),2===t)return lm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Rm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&cm(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:cm()}a=o+2}return new Rm(r)}var Sb=["userId","batchId"];function Cb(e,t){return[e,_b(t)]}function Ab(e,t,n){return[e,_b(t),n]}var Nb={},Rb=["prefixPath","collectionGroup","readTime","documentId"],Ob=["prefixPath","collectionGroup","documentId"],Pb=["collectionGroup","readTime","prefixPath","documentId"],Db=["canonicalId","targetId"],Lb=["targetId","path"],Mb=["path","targetId"],Fb=["collectionId","parent"],Ub=["indexId","uid"],Vb=["uid","sequenceNumber"],jb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bb=["indexId","uid","orderedDocumentKey"],zb=["userId","collectionPath","documentId"],qb=["userId","collectionPath","largestBatchId"],Kb=["userId","collectionGroup","largestBatchId"],Wb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Gb=[].concat(ur(Wb),["documentOverlays"]),Hb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qb=Hb,Yb=[].concat(Qb,["indexConfiguration","indexState","indexEntries"]),Xb=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return gn(n)}(Wm);function $b(e,t){var n=fm(e);return Xm.M(n.ie,t)}var Jb=function(){function e(t,n,r,i){mn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return gn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ok(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=kn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=uk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=kn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=uk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ak();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=ak(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Am.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Pk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Em(this.mutations,e.mutations,(function(e,t){return ck(e,t)}))&&Em(this.baseMutations,e.baseMutations,(function(e,t){return ck(e,t)}))}}]),e}(),Zb=function(){function e(t,n,r,i){mn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return gn(e,null,[{key:"from",value:function(t,n,r){lm(t.mutations.length===r.length);for(var i=Rk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ew=function(){function e(t,n){mn(this,e),this.largestBatchId=t,this.mutation=n}return gn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),tw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Am.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Am.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yy.EMPTY_BYTE_STRING;mn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return gn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),nw=gn((function e(t){mn(this,e),this.re=t}));function rw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:iw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:eb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Qk(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:aw(t.version)};else{if(!t.isUnknownDocument())return cm();r.unknownDocument={path:n.path.toArray(),version:aw(t.version)}}return r}function iw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function aw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ow(e){var t=new Cm(e.seconds,e.nanoseconds);return Am.fromTimestamp(t)}function uw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return lb(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return lb(e.re,t)})),u=Cm.fromMillis(t.localWriteTimeMs);return new Jb(t.batchId,u,n,o)}function sw(e){var t,n,r=ow(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ow(e.lastLimboFreeSnapshotVersion):Am.min();return void 0!==e.query.documents?(lm(1===(n=e.query).documents.length),t=Ng(Tg(rb(n.documents[0])))):t=function(e){return Ng(db(e))}(e.query),new tw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,yy.fromBase64String(e.resumeToken))}function cw(e,t){var n,r=aw(t.snapshotVersion),i=aw(t.lastLimboFreeSnapshotVersion);n=ig(t.target)?fb(e.re,t.target):hb(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ng(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function lw(e){var t=db({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rg(t,t.limit,"L"):t}function fw(e,t){return new ew(t.largestBatchId,lb(e.re,t.overlayMutation))}function hw(e,t){var n=t.path.lastSegment();return[e,_b(t.path.popLast()),n]}function dw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:aw(r.readTime),documentKey:_b(r.documentKey.path),largestBatchId:r.largestBatchId}}var pw=function(){function e(){mn(this,e)}return gn(e,[{key:"getBundleMetadata",value:function(e,t){return vw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ow(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return vw(e).put({bundleId:(n=t).id,createTime:aw($k(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return mw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:lw(t.bundledQuery),readTime:ow(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return mw(e).put(function(e){return{name:e.name,readTime:aw($k(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function vw(e){return $b(e,"bundles")}function mw(e){return $b(e,"namedQueries")}var yw=function(){function e(t,n){mn(this,e),this.It=t,this.userId=n}return gn(e,[{key:"getOverlay",value:function(e,t){var n=this;return gw(e).get(hw(this.userId,t)).next((function(e){return e?fw(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ck();return Qm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ew(t,a);i.push(r.ue(e,o))})),Qm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(_b(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(gw(e).Y("collectionPathOverlayIndex",i))})),Qm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ck(),a=_b(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return gw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=kn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=fw(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ck(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gw(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=fw(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return gw(e).put(function(e,t,n){var r=s(hw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:cb(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function gw(e){return $b(e,"documentOverlays")}var kw=function(){function e(){mn(this,e)}return gn(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(by(e.integerValue));else if("doubleValue"in e){var n=by(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Cy(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(wy(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Gy(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):cm()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Dm.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function bw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ww(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=bw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}kw.Te=new kw;var xw=function(){function e(){mn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return gn(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=ww(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=ww(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),_w=function(){function e(t){mn(this,e),this.Be=t}return gn(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Tw=function(){function e(t){mn(this,e),this.Be=t}return gn(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),Iw=function(){function e(){mn(this,e),this.Be=new xw,this.Le=new _w(this.Be),this.Ue=new Tw(this.Be)}return gn(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Ew=function(){function e(t,n,r,i){mn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return gn(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Sw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Cw(e.arrayValue,t.arrayValue))?n:0!==(n=Cw(e.directionalValue,t.directionalValue))?n:Dm.comparator(e.documentKey,t.documentKey)}function Cw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Aw=function(){function e(t){mn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=kn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return gn(e,[{key:"We",value:function(e){var t=Mm(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Fm(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=kn(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Nw=function(){function e(){mn(this,e),this.Ye=new Rw}return gn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Qm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Qm.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Qm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Qm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Qm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Qm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Qm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Qm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Qm.resolve(zm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Qm.resolve(zm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Qm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Qm.resolve()}}]),e}(),Rw=function(){function e(){mn(this,e),this.index={}}return gn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dy(Rm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new dy(Rm.comparator)).toArray()}}]),e}(),Ow=new Uint8Array(0),Pw=function(){function e(t,n){mn(this,e),this.user=t,this.databaseId=n,this.Xe=new Rw,this.Ze=new xk((function(e){return ng(e)}),(function(e,t){return rg(e,t)})),this.uid=t.uid||""}return gn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:_b(i)};return Dw(e).put(a)}return Qm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Sm(t),""],!1,!0);return Dw(e).W(r).next((function(e){var r,i=kn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Eb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Mw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Fw(e);return a.next((function(e){o.put(dw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Mw(e),r=Fw(e),i=Lw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Lw(e),i=!0,a=new Map;return Qm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Pk(),o=[];return Qm.forEach(a,(function(i,a){var u;am("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ng(t)));var s=function(e,t){var n=Mm(t);if(void 0===n)return null;var r,i=kn(ag(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=kn(Fm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=kn(ag(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=kn(Fm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?og(e,o.fieldPath,e.startAt):ug(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new yg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=kn(Fm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ug(e,o.fieldPath,e.endAt):og(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new yg(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Qm.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Dm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Qm.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):Ow,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,ur(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new Ew(e,Dm.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Ew(e,Dm.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Aw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Qm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new dy(Pm.comparator),r=!1,i=kn(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=kn(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Iw,i=kn(Fm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);kw.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Iw;return kw.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Iw;return kw.Te.ce(Vy(this.databaseId,t),n.qe(function(e){var t=Fm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Iw);var i,a=0,o=kn(Fm(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=kn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&By(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);kw.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=ur(e),a=[],o=kn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=kn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Iw;f.seed(l.$e()),kw.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof sg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Mw(e),i=Fw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Qm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Vm(t.sequenceNumber,new zm(ow(t.readTime),new Dm(Eb(t.documentKey)),t.largestBatchId)):Vm.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new Um(Pm.fromServerFormat(n),r)}));return new Lm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Im(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Mw(e),a=Fw(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Qm.forEach(t,(function(t){return a.put(dw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Qm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Qm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Qm.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Qm.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Lw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Lw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Lw(e),i=new dy(Sw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Ew(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new dy(Sw),r=this.an(t,e);if(null==r)return n;var i=Mm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(By(a)){var o,u=kn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Ew(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Ew(t.indexId,e.key,Ow,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;am("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=vy(a),s=vy(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=vy(o)):l?(i(u),u=vy(a)):(u=vy(a),s=vy(o))}}(r,i,Sw,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Qm.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Fw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Sw(e,t)})).filter((function(e,t,n){return!t||0!==Sw(e,n[t-1])}));var r=[];r.push(e);var i,a=kn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Sw(o,e),s=Sw(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Ow,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Ow,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Uw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Qm.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||cm()}))})).next(Uw)}}]),e}();function Dw(e){return $b(e,"collectionParents")}function Lw(e){return $b(e,"indexEntries")}function Mw(e){return $b(e,"indexConfiguration")}function Fw(e){return $b(e,"indexState")}function Uw(e){lm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;qm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zm(t.readTime,t.documentKey,n)}var Vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jw=function(){function e(t,n,r){mn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return gn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Bw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){lm(1===u)})));var c,l=[],f=kn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ab(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Qm.waitFor(a).next((function(){return l}))}function zw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cm();t=e.noDocument}return JSON.stringify(t).length}jw.DEFAULT_COLLECTION_PERCENTILE=10,jw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jw.DEFAULT=new jw(41943040,jw.DEFAULT_COLLECTION_PERCENTILE,jw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jw.DISABLED=new jw(-1,0,0);var qw=function(){function e(t,n,r,i){mn(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return gn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ww(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Gw(e),o=Ww(e);return o.add({}).next((function(u){lm("number"==typeof u);var s,c=new Jb(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return cb(e.re,t)})),i=n.mutations.map((function(t){return cb(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new dy((function(e,t){return Im(e.canonicalString(),t.canonicalString())})),d=kn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ab(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Nb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Qm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ww(e).get(t).next((function(e){return e?(lm(e.userId===n.userId),uw(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Qm.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ww(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(lm(t.batchId>=r),a=uw(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ww(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ww(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return uw(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Cb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Gw(e).Z({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=Eb(l);if(c===n.userId&&t.path.isEqual(h))return Ww(e).get(f).next((function(e){if(!e)throw cm();lm(e.userId===n.userId),a.push(uw(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dy(Im),i=[];return t.forEach((function(t){var a=Cb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Gw(e).Z({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=Eb(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Qm.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Cb(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new dy(Im);return Gw(e).Z({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=Eb(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ww(e).get(t).next((function(e){if(null===e)throw cm();lm(e.userId===n.userId),r.push(uw(n.It,e))})))})),Qm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Bw(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Qm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Qm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Gw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Eb(e[1]);i.push(a)}else r.done()})).next((function(){lm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Kw(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Hw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return lm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Kw(e,t,n){var r=Cb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Gw(e).Z({range:a,X:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function Ww(e){return $b(e,"mutations")}function Gw(e){return $b(e,"documentMutations")}function Hw(e){return $b(e,"mutationQueues")}var Qw=function(){function e(t){mn(this,e),this.bn=t}return gn(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Yw=function(){function e(t,n){mn(this,e),this.referenceDelegate=t,this.It=n}return gn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Qw(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Am.fromTimestamp(new Cm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Xw(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return lm(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Xw(e).Z((function(o,u){var s=sw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Qm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Xw(e).Z((function(e,n){var r=sw(n);t(r)}))}},{key:"Vn",value:function(e){return $w(e).get("targetGlobalKey").next((function(e){return lm(null!==e),e}))}},{key:"Sn",value:function(e,t){return $w(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Xw(e).put(cw(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ng(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=sw(n);rg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Jw(e);return t.forEach((function(t){var o=_b(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Qm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Jw(e);return Qm.forEach(t,(function(t){var a=_b(t.path);return Qm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Jw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Jw(e),i=Pk();return r.Z({range:n,X:!0},(function(e,t,n){var r=Eb(e[1]),a=new Dm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=_b(t.path),r=IDBKeyRange.bound([n],[Sm(n)],!1,!0),i=0;return Jw(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Xw(e).get(t).next((function(e){return e?sw(e):null}))}}]),e}();function Xw(e){return $b(e,"targets")}function $w(e){return $b(e,"targetGlobal")}function Jw(e){return $b(e,"targetDocuments")}function Zw(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=Im(r,o);return 0===c?Im(i,u):c}var ex=function(){function e(t){mn(this,e),this.xn=t,this.buffer=new dy(Zw),this.Nn=0}return gn(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Zw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),tx=function(){function e(t,n,r){mn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return gn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;am("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Zm(e.t0)){e.next=12;break}am("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Gm(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),nx=function(){function e(t,n){mn(this,e),this.$n=t,this.params=n}return gn(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Qm.resolve(oy.at);var r=new ex(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(am("LruGarbageCollector","Garbage collection skipped; disabled"),Qm.resolve(Vw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(am("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Vw):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(am("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),im()<=hr.DEBUG&&am("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Qm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),rx=function(){function e(t,n){mn(this,e),this.db=t,this.garbageCollector=function(e,t){return new nx(e,t)}(this,n)}return gn(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ix(e,n)}},{key:"removeReference",value:function(e,t,n){return ix(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ix(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Hw(e).tt((function(r){return Kw(e,r,t).next((function(e){return e&&(n=!0),Qm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Am.min()),Jw(e).delete([0,_b(o.path)])}))}));i.push(s)}})).next((function(){return Qm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ix(e,t)}},{key:"Kn",value:function(e,t){var n,r=Jw(e),i=oy.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==oy.at&&t(new Dm(Eb(n)),i),i=c,n=u):i=oy.at})).next((function(){i!==oy.at&&t(new Dm(Eb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ix(e,t){return Jw(e).put(function(e,t){return{targetId:0,path:_b(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var ax=function(){function e(){mn(this,e),this.changes=new xk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return gn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Zy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Qm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ox=function(){function e(t){mn(this,e),this.It=t}return gn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return lx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return lx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],iw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Zy.newInvalidDocument(t);return lx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fx(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Zy.newInvalidDocument(t)};return lx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fx(t))},(function(e,i){r={document:n.jn(t,i),size:zw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Tk();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Tk(),i=new ly(Dm.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,zw(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Qm.resolve();var r=new dy(dx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(fx(r.first()),fx(r.last())),a=r.getIterator(),o=a.getNext();return lx(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Dm.fromSegments([].concat(ur(t.prefixPath),[t.collectionGroup,t.documentId]));o&&dx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(fx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),iw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lx(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Tk(),i=kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Dm.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Tk(),o=hx(t,n),u=hx(t,zm.max());return lx(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Dm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new sx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return cx(e).get("remoteDocumentGlobalKey").next((function(e){return lm(!!e),e}))}},{key:"Qn",value:function(e,t){return cx(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ub(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Dm.fromSegments(t.noDocument.path),i=ow(t.noDocument.readTime);n=Zy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return cm();var a=Dm.fromSegments(t.unknownDocument.path),o=ow(t.unknownDocument.version);n=Zy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Cm(e[0],e[1]);return Am.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Am.min()))return n}return Zy.newInvalidDocument(e)}}]),e}();function ux(e){return new ox(e)}var sx=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new xk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return gn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new dy((function(e,t){return Im(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=rw(t.Yn.It,o);i=i.add(a.path.popLast());var c=zw(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=rw(t.Yn.It,o.convertToNoDocument(Am.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Qm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(ax);function cx(e){return $b(e,"remoteDocumentGlobal")}function lx(e){return $b(e,"remoteDocumentsV14")}function fx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function hx(e,t){var n=t.documentKey.path.toArray();return[e,iw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function dx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Im(n[a],r[a]))return i;return(i=Im(n.length,r.length))||((i=Im(n[n.length-2],r[r.length-2]))||Im(n[n.length-1],r[r.length-1]))}var px=gn((function e(t,n){mn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),vx=function(){function e(t,n,r,i){mn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return gn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&uk(r.mutation,e,my.empty(),Cm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Pk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pk(),i=Ck();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ek();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ck();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Pk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Tk(),a=Nk(),o=Nk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof fk)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),uk(o.mutation,t,o.mutation.getFieldMask(),Cm.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new px(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Nk(),i=new ly((function(e,t){return e-t})),a=Pk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=kn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||my.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Pk()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Ak();c.forEach((function(e){if(!a.has(e)){var n=ak(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Qm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Dm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Qm.resolve(Ck()),u=-1,s=a;return o.next((function(t){return Qm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Qm.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Pk())})).next((function(e){return{batchId:u,changes:Sk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Dm(t)).next((function(e){var t=Ek();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ek();return this.indexManager.getCollectionParents(e,i).next((function(o){return Qm.forEach(o,(function(o){var u=function(e,t){return new xg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Zy.newInvalidDocument(n)))}));var n=Ek();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&uk(a.mutation,i,my.empty(),Cm.now()),Lg(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Qm.resolve(Zy.newInvalidDocument(t))}}]),e}(),mx=function(){function e(t){mn(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return gn(e,[{key:"getBundleMetadata",value:function(e,t){return Qm.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:$k(n.createTime)}),Qm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Qm.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:lw(e.bundledQuery),readTime:$k(e.readTime)}}(t)),Qm.resolve()}}]),e}(),yx=function(){function e(){mn(this,e),this.overlays=new ly(Dm.comparator),this.es=new Map}return gn(e,[{key:"getOverlay",value:function(e,t){return Qm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ck();return Qm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Qm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Qm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ck(),i=t.length+1,a=new Dm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Qm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ly((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ck(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ck(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Qm.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ew(t,n));var a=this.es.get(t);void 0===a&&(a=Pk(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),gx=function(){function e(){mn(this,e),this.ns=new dy(kx.ss),this.rs=new dy(kx.os)}return gn(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new kx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new kx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Dm(new Rm([])),r=new kx(n,e),i=new kx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Dm(new Rm([])),n=new kx(t,e),r=new kx(t,e+1),i=Pk();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new kx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),kx=function(){function e(t,n){mn(this,e),this.key=t,this._s=n}return gn(e,null,[{key:"ss",value:function(e,t){return Dm.comparator(e.key,t.key)||Im(e._s,t._s)}},{key:"os",value:function(e,t){return Im(e._s,t._s)||Dm.comparator(e.key,t.key)}}]),e}(),bx=function(){function e(t,n){mn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new dy(kx.ss)}return gn(e,[{key:"checkEmpty",value:function(e){return Qm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Jb(i,t,n,r);this.mutationQueue.push(a);var o,u=kn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new kx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Qm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Qm.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Qm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Qm.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Qm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new kx(t,0),i=new kx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Qm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dy(Im);return t.forEach((function(e){var t=new kx(e,0),i=new kx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Qm.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Dm.isDocumentKey(i)||(i=i.child(""));var a=new kx(new Dm(i),0),o=new dy(Im);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Qm.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;lm(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Qm.forEach(t.mutations,(function(i){var a=new kx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new kx(t,0),r=this.gs.firstAfterOrEqual(n);return Qm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Qm.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),wx=function(){function e(t){mn(this,e),this.Es=t,this.docs=new ly(Dm.comparator),this.size=0}return gn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Qm.resolve(n?n.document.mutableCopy():Zy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Tk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Zy.newInvalidDocument(e))})),Qm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Tk(),i=new Dm(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||qm(Bm(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Qm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cm()}},{key:"As",value:function(e,t){return Qm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new xx(this)}},{key:"getSize",value:function(e){return Qm.resolve(this.size)}}]),e}(),xx=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this)).Yn=e,r}return gn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Qm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(ax),_x=function(){function e(t){mn(this,e),this.persistence=t,this.Rs=new xk((function(e){return ng(e)}),rg),this.lastRemoteSnapshotVersion=Am.min(),this.highestTargetId=0,this.bs=0,this.Ps=new gx,this.targetCount=0,this.vs=Qw.Pn()}return gn(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Qm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Qm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Qm.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Qm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Qm.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Qw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Qm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Qm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Qm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Qm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Qm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Qm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Qm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Qm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Qm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Qm.resolve(n)}},{key:"containsKey",value:function(e,t){return Qm.resolve(this.Ps.containsKey(t))}}]),e}(),Tx=function(){function e(t,n){var r=this;mn(this,e),this.Vs={},this.overlays={},this.Ss=new oy(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new _x(this),this.indexManager=new Nw,this.remoteDocumentCache=new wx((function(e){return r.referenceDelegate.xs(e)})),this.It=new nw(n),this.Ns=new mx(this.It)}return gn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new yx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new bx(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;am("MemoryPersistence","Starting transaction:",e);var i=new Ix(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Qm.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ix=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return gn(n)}(Wm),Ex=function(){function e(t){mn(this,e),this.persistence=t,this.Fs=new gx,this.$s=null}return gn(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw cm()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Qm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Qm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Qm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qm.forEach(this.Ls,(function(r){var i=Dm.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Am.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Qm.or([function(){return Qm.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Sx=function(){function e(t){mn(this,e),this.It=t}return gn(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Ym("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sb,{unique:!0}),e.createObjectStore("documentMutations")}(e),Cx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Qm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Cx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Am.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Qm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:zb});t.createIndex("collectionPathOverlayIndex",qb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Kb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Rb});t.createIndex("documentKeyIndex",Ob),t.createIndex("collectionGroupIndex",Pb)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ub}).createIndex("sequenceNumberIndex",Vb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:jb}).createIndex("documentKeyIndex",Bb,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=zw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Qm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Qm.forEach(r,(function(r){lm(r.userId===n.userId);var i=uw(t.It,r);return Bw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Rm(n),o=function(e){return[0,_b(e)]}(a);r.push(t.get(o).next((function(n){return n?Qm.resolve():function(n){return t.put({targetId:0,path:_b(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Qm.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Fb});var n=t.store("collectionParents"),r=new Rw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:_b(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Rm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],Eb(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=sw(r),a=cw(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Dm(Rm.fromString(i.document.name).popFirst(5)):i.noDocument?Dm.fromSegments(i.noDocument.path):i.unknownDocument?Dm.fromSegments(i.unknownDocument.path):cm()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Qm.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=ux(this.It),a=new Tx(Ex.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Pk();uw(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Qm.forEach(r,(function(e,r){var o=new tm(r),u=yw.oe(n.It,o),s=a.getIndexManager(o),c=qw.oe(o,n.It,s,a.referenceDelegate);return new vx(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Xb(t,oy.at),e).next()}))}))}}]),e}();function Cx(e){e.createObjectStore("targetDocuments",{keyPath:Lb}).createIndex("documentTargetsIndex",Mb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Db,{unique:!0}),e.createObjectStore("targetGlobal")}var Ax="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Nx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(mn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new dm(hm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rx(this,i),this.ii=n+"main",this.It=new nw(s),this.ri=new Xm(this.ii,this.Xs,new Sx(this.It)),this.Cs=new Yw(this.referenceDelegate,this.It),this.remoteDocumentCache=ux(this.It),this.Ns=new pw,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&om("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return gn(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new dm(hm.FAILED_PRECONDITION,Ax);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new oy(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=be(ge().mark((function n(r){return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=be(ge().mark((function t(n){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ox(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Zm(t))return am("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return am("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Rx(e).get("owner").next((function(e){return Qm.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Ox(e).delete(this.clientId)}},{key:"yi",value:function(){var e=be(ge().mark((function e(){var t,n,r,i,a=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=$b(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Qm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=kn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Qm.resolve(!0):Rx(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new dm(hm.FAILED_PRECONDITION,Ax);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ox(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&am("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=be(ge().mark((function e(){var t=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Xb(e,oy.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ox(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return qw.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Pw(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return yw.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;am("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Yb:14===i?Qb:13===i?Hb:12===i?Gb:11===i?Wb:void cm();return this.ri.runTransaction(e,o,u,(function(i){return a=new Xb(i,r.Ss?r.Ss.next():oy.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw om("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new dm(hm.FAILED_PRECONDITION,Km);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Rx(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new dm(hm.FAILED_PRECONDITION,Ax)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rx(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Rx(e);return n.get("owner").next((function(e){return t.mi(e)?(am("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Qm.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(om("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Ln()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return am("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return om("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(lh){om("Failed to set zombie client id.",lh)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(lh){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Xm.C()}}]),e}();function Rx(e){return $b(e,"owner")}function Ox(e){return $b(e,"clientMetadata")}function Px(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Dx=function(){function e(t,n,r,i){mn(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return gn(e,null,[{key:"Ci",value:function(t,n){var r,i=Pk(),a=Pk(),o=kn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Lx=function(){function e(){mn(this,e),this.xi=!1}return gn(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Ig(t))return Qm.resolve(null);var r=Ng(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Rg(t,null,"F"),r=Ng(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Pk.apply(void 0,ur(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Rg(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Ig(t)||r.isEqual(Am.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(im()<=hr.DEBUG&&am("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dg(t)),i.Bi(e,o,t,jm(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new dy(Fg(e));return t.forEach((function(t,r){Lg(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return im()<=hr.DEBUG&&am("QueryEngine","Using full collection scan to execute query:",Dg(t)),this.Ni.getDocumentsMatchingQuery(e,t,zm.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Mx=function(){function e(t,n,r,i){mn(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new ly(Im),this.qi=new xk((function(e){return ng(e)}),rg),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return gn(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Fx(e,t,n,r){return new Mx(e,t,n,r)}function Ux(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=be(ge().mark((function e(t,n){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Pk(),s=kn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=kn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=kn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=kn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function jx(e,t){var n=fm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Qm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);lm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Pk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Bx(e){var t=fm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function zx(e,t){var n=fm(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(yy.EMPTY_BYTE_STRING,Am.min()).withLastLimboFreeSnapshotVersion(Am.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Tk(),s=Pk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(qx(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Am.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Qm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function qx(e,t,n){var r=Pk(),i=Pk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Tk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Am.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):am("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Kx(e,t){var n=fm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Wx(e,t){var n=fm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Qm.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new tw(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Gx(e,t,n){return Hx.apply(this,arguments)}function Hx(){return Hx=be(ge().mark((function e(t,n,r){var i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fm(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Zm(e.t1)){e.next=12;break}throw e.t1;case 12:am("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Hx.apply(this,arguments)}function Qx(e,t,n){var r=fm(e),i=Am.min(),a=Pk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fm(e),i=r.qi.get(n);return void 0!==i?Qm.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Ng(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Am.min(),n?a:Pk())})).next((function(e){return $x(r,Mg(t),e),{documents:e,Hi:a}}))}))}function Yx(e,t){var n=fm(e),r=fm(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Xx(e,t){var n=fm(e),r=n.Ki.get(t)||Am.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,jm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return $x(n,t,e),e}))}function $x(e,t,n){var r=e.Ki.get(t)||Am.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Jx(e,t,n,r){return Zx.apply(this,arguments)}function Zx(){return Zx=be(ge().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=fm(t),o=Pk(),u=Tk(),s=kn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Wx(a,function(e){return Ng(Tg(Rm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return qx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function e_(e,t){return t_.apply(this,arguments)}function t_(){return t_=be(ge().mark((function e(t,n){var r,i,a,o=arguments;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Pk(),e.next=3,Wx(t,Ng(lw(n.bundledQuery)));case 3:return i=e.sent,a=fm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=$k(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(yy.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function r_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function i_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var a_=function(){function e(t,n,r,i){mn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return gn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new dm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(om("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),o_=function(){function e(t,n,r){mn(this,e),this.targetId=t,this.state=n,this.error=r}return gn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new dm(i.error.code,i.error.message))),a?new e(t,i.state,r):(om("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),u_=function(){function e(t,n){mn(this,e),this.clientId=t,this.activeTargetIds=n}return gn(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Lk(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ay(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(om("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),s_=function(){function e(t,n){mn(this,e),this.clientId=t,this.onlineState=n}return gn(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(om("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),c_=function(){function e(){mn(this,e),this.activeTargetIds=Lk()}return gn(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),l_=function(){function e(t,n,r,i,a){mn(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ly(Im),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=n_(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new c_),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return gn(e,[{key:"start",value:function(){var e=be(ge().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=kn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(n_(this.persistenceKey,i)))&&(o=u_.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=kn(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(i_(this.persistenceKey,e));if(n){var r=o_.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(i_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return am("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){am("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){am("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(am("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void om("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(be(ge().mark((function e(){var r,i,a,o,u,s,c;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=oy.at;if(null!=e)try{var n=JSON.parse(e);lm("number"==typeof n),t=n}catch(e){om("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==oy.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new a_(this.currentUser,e,t,n),i=r_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=r_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=i_(this.persistenceKey,e),i=new o_(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return u_.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return a_.Zi(new tm(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return o_.Zi(r,t)}},{key:"yr",value:function(e){return s_.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:am("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Lk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),f_=function(){function e(){mn(this,e),this.Lr=new c_,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return gn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new c_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),h_=function(){function e(){mn(this,e)}return gn(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),d_=function(){function e(){var t=this;mn(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return gn(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){am("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=kn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){am("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=kn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),p_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},v_=function(){function e(t){mn(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return gn(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),m_=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return gn(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Zv;o.setWithCredentials(!0),o.listenOnce(Qv.COMPLETE,(function(){var t;try{switch(o.getLastErrorCode()){case Hv.NO_ERROR:var n=o.getResponseJson();am("Connection","XHR received:",JSON.stringify(n)),i(n);break;case Hv.TIMEOUT:am("Connection",'RPC "'+e+'" timed out'),a(new dm(hm.DEADLINE_EXCEEDED,"Request time out"));break;case Hv.HTTP_ERROR:var r=o.getStatus();if(am("Connection",'RPC "'+e+'" failed with status:',r,"response text:",o.getResponseText()),r>0){var u=o.getResponseJson();Array.isArray(u)&&(u=u[0]);var s=null===(t=u)||void 0===t?void 0:t.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hm).indexOf(t)>=0?t:hm.UNKNOWN}(s.status);a(new dm(c,s.message))}else a(new dm(hm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new dm(hm.UNAVAILABLE,"Connection failed."));break;default:cm()}}finally{am("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Wv(),a=Gv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new $v({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");am("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new v_({Hr:function(e){l?am("Connection","Not sending because WebChannel is closed:",e):(c||(am("Connection","Opening WebChannel transport."),s.open(),c=!0),am("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Jv.EventType.OPEN,(function(){l||am("Connection","WebChannel transport opened.")})),h(s,Jv.EventType.CLOSE,(function(){l||(l=!0,am("Connection","WebChannel transport closed"),f.io())})),h(s,Jv.EventType.ERROR,(function(e){l||(l=!0,um("Connection","WebChannel transport errored:",e),f.io(new dm(hm.UNAVAILABLE,"The operation could not be completed")))})),h(s,Jv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];lm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){am("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=vk[e];if(void 0!==t)return wk(t)}(a),u=i.message;void 0===o&&(o=hm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new dm(o,u)),s.close()}else am("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Yv.STAT_EVENT,(function(e){e.stat===Xv.PROXY?am("Connection","Detected buffering proxy"):e.stat===Xv.NOPROXY&&am("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){mn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return gn(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);am("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return am("RestConnection","Received: ",e),e}),(function(t){throw um("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=p_[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function y_(){return"undefined"!=typeof window?window:null}function g_(){return"undefined"!=typeof document?document:null}function k_(e){return new Hk(e,!0)}var b_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;mn(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return gn(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&am("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),w_=function(){function e(t,n,r,i,a,o,u,s){mn(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new b_(t,n)}return gn(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===hm.RESOURCE_EXHAUSTED?(om(n.toString()),om("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===hm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new dm(hm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(be(ge().mark((function t(){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return am("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(am("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),x_=function(e){wn(n,e);var t=In(n);function n(e,r,i,a,o,u){var s;return mn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return gn(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(lm(void 0===t||"string"==typeof t),yy.fromBase64String(t||"")):(lm(void 0===t||t instanceof Uint8Array),yy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?hm.UNKNOWN:wk(e.code);return new dm(t,e.message||"")}(o);n=new jk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=tb(e,s.document.name),l=$k(s.document.updateTime),f=new $y({mapValue:{fields:s.document.fields}}),h=Zy.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Uk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=tb(e,v.document),y=v.readTime?$k(v.readTime):Am.min(),g=Zy.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Uk([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=tb(e,b.document),x=b.removedTargetIds||[];n=new Uk([],x,w,null)}else{if(!("filter"in t))return cm();t.filter;var _=t.filter;_.targetId;var T=_.count||0,I=new kk(T),E=_.targetId;n=new Vk(E,I)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Am.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Am.min():t.readTime?$k(t.readTime):Am.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=ib(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=ig(r)?{documents:fb(e,r)}:{query:hb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Yk(e,t.resumeToken):t.snapshotVersion.compareTo(Am.min())>0&&(n.readTime=Qk(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=ib(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(w_),__=function(e){wn(n,e);var t=In(n);function n(e,r,i,a,o,u){var s;return mn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return gn(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Li(xn(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(lm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(lm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?$k(e.updateTime):$k(t);return n.isEqual(Am.min())&&(n=$k(t)),new tk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=$k(e.commitTime);return this.listener.Zo(n,t)}return lm(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=ib(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cb(t.It,e)}))};this.Bo(n)}}]),n}(w_),T_=function(e){wn(n,e);var t=In(n);function n(e,r,i,a){var o;return mn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return gn(n,[{key:"su",value:function(){if(this.nu)throw new dm(hm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new dm(hm.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],c=o[1];return i.connection._o(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new dm(hm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return gn((function e(){mn(this,e)}))}());var I_=function(){function e(t,n){mn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return gn(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(om(t),this.ou=!1):am("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),E_=gn((function e(t,n,r,i,a){var o=this;mn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=F_(o),!e.t0){e.next=5;break}return am("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fm(t))._u.add(4),e.next=4,A_(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,S_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new I_(r,i)}));function S_(e){return C_.apply(this,arguments)}function C_(){return C_=be(ge().mark((function e(t){var n,r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F_(t)){e.next=18;break}n=kn(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),C_.apply(this,arguments)}function A_(e){return N_.apply(this,arguments)}function N_(){return N_=be(ge().mark((function e(t){var n,r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kn(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),N_.apply(this,arguments)}function R_(e,t){var n=fm(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),M_(n)?L_(n):hT(n).ko()&&P_(n,t))}function O_(e,t){var n=fm(e),r=hT(n);n.du.delete(t),r.ko()&&D_(n,t),0===n.du.size&&(r.ko()?r.Fo():F_(n)&&n.gu.set("Unknown"))}function P_(e,t){e.yu.Mt(t.targetId),hT(e).zo(t)}function D_(e,t){e.yu.Mt(t),hT(e).Ho(t)}function L_(e){e.yu=new zk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),hT(e).start(),e.gu.uu()}function M_(e){return F_(e)&&!hT(e).No()&&e.du.size>0}function F_(e){return 0===fm(e)._u.size}function U_(e){e.yu=void 0}function V_(e){return j_.apply(this,arguments)}function j_(){return j_=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){P_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function B_(e,t){return z_.apply(this,arguments)}function z_(){return z_=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U_(t),M_(t)?(t.gu.hu(n),L_(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}function q_(e,t,n){return K_.apply(this,arguments)}function K_(){return K_=be(ge().mark((function e(t,n,r){var i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof jk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=be(ge().mark((function e(t,n){var r,i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=kn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),am("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,W_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Uk?t.yu.Gt(n):n instanceof Vk?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Am.min())){e.next=29;break}return e.prev=14,e.next=17,Bx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(yy.EMPTY_BYTE_STRING,n.snapshotVersion)),D_(e,t);var r=new tw(n.target,t,1,n.sequenceNumber);P_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),am("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,W_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),K_.apply(this,arguments)}function W_(e,t,n){return G_.apply(this,arguments)}function G_(){return G_=be(ge().mark((function e(t,n,r){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zm(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,A_(t);case 5:t.gu.set("Offline"),r||(r=function(){return Bx(t.localStore)}),t.asyncQueue.enqueueRetryable(be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return am("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,S_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function H_(e,t){return t().catch((function(n){return W_(e,n,t)}))}function Q_(e){return Y_.apply(this,arguments)}function Y_(){return Y_=be(ge().mark((function e(t){var n,r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fm(t),r=dT(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!X_(n)){e.next=19;break}return e.prev=3,e.next=6,Kx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,$_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,W_(n,e.t0);case 17:e.next=2;break;case 19:J_(n)&&Z_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Y_.apply(this,arguments)}function X_(e){return F_(e)&&e.fu.length<10}function $_(e,t){e.fu.push(t);var n=dT(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function J_(e){return F_(e)&&!dT(e).No()&&e.fu.length>0}function Z_(e){dT(e).start()}function eT(e){return tT.apply(this,arguments)}function tT(){return tT=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dT(t).eu();case 1:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e){return rT.apply(this,arguments)}function rT(){return rT=be(ge().mark((function e(t){var n,r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dT(t),r=kn(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t,n){return aT.apply(this,arguments)}function aT(){return aT=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Zb.from(i,n,r),e.next=3,H_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Q_(t);case 5:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e,t){return uT.apply(this,arguments)}function uT(){return uT=be(ge().mark((function e(t,n){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&dT(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=be(ge().mark((function e(t,n){var r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bk(i=n.code)||i===hm.ABORTED){e.next=7;break}return r=t.fu.shift(),dT(t).Mo(),e.next=5,H_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Q_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:J_(t)&&Z_(t);case 5:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e,t){return cT.apply(this,arguments)}function cT(){return cT=be(ge().mark((function e(t,n){var r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fm(t)).asyncQueue.verifyOperationInProgress(),am("RemoteStore","RemoteStore received new credentials"),i=F_(r),r._u.add(3),e.next=6,A_(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,S_(r);case 12:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e,t){return fT.apply(this,arguments)}function fT(){return fT=be(ge().mark((function e(t,n){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fm(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,S_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,A_(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(e){return e.pu||(e.pu=function(e,t,n){var r=fm(e);return r.su(),new x_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:V_.bind(null,e),Zr:B_.bind(null,e),Wo:q_.bind(null,e)}),e.wu.push(function(){var t=be(ge().mark((function t(n){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),M_(e)?L_(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:U_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function dT(e){return e.Iu||(e.Iu=function(e,t,n){var r=fm(e);return r.su(),new __(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:eT.bind(null,e),Zr:oT.bind(null,e),tu:nT.bind(null,e),Zo:iT.bind(null,e)}),e.wu.push(function(){var t=be(ge().mark((function t(n){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Q_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(am("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var pT=function(){function e(t,n,r,i,a){mn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new pm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return gn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dm(hm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function vT(e,t){if(om("AsyncQueue","".concat(t,": ").concat(e)),Zm(e))return new dm(hm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var mT=function(){function e(t){mn(this,e),this.comparator=t?function(e,n){return t(e,n)||Dm.comparator(e.key,n.key)}:function(e,t){return Dm.comparator(e.key,t.key)},this.keyedMap=Ek(),this.sortedSet=new ly(this.comparator)}return gn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),yT=function(){function e(){mn(this,e),this.Tu=new ly(Dm.comparator)}return gn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):cm():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gT=function(){function e(t,n,r,i,a,o,u,s,c){mn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return gn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,mT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),kT=gn((function e(){mn(this,e),this.Au=void 0,this.listeners=[]})),bT=gn((function e(){mn(this,e),this.queries=new xk((function(e){return Pg(e)}),Og),this.onlineState="Unknown",this.Ru=new Set}));function wT(e,t){return xT.apply(this,arguments)}function xT(){return xT=be(ge().mark((function e(t,n){var r,i,a,o,u;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new kT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=vT(e.t0,"Initialization of query '".concat(Dg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&ST(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),xT.apply(this,arguments)}function _T(e,t){return TT.apply(this,arguments)}function TT(){return TT=be(ge().mark((function e(t,n){var r,i,a,o,u;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function IT(e,t){var n,r=fm(e),i=!1,a=kn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=kn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&ST(r)}function ET(e,t,n){var r=fm(e),i=r.queries.get(t);if(i){var a,o=kn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function ST(e){e.Ru.forEach((function(e){e.next()}))}var CT=function(){function e(t,n,r){mn(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return gn(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=kn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=gT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),AT=function(){function e(t,n){mn(this,e),this.ku=t,this.byteLength=n}return gn(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),NT=function(){function e(t){mn(this,e),this.It=t}return gn(e,[{key:"Ji",value:function(e){return tb(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?ub(this.It,e.document,!1):Zy.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return $k(e)}}]),e}(),RT=function(){function e(t,n,r){mn(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OT(t)}return gn(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Rm.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new NT(this.It),i=kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=kn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Pk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=be(ge().mark((function e(){var t,n,r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jx(this.localStore,new NT(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=kn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,e_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function OT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var PT=gn((function e(t){mn(this,e),this.key=t})),DT=gn((function e(t){mn(this,e),this.key=t})),LT=function(){function e(t,n){mn(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Pk(),this.mutatedKeys=Pk(),this.Gu=Fg(t),this.Qu=new mT(this.Gu)}return gn(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new yT,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Lg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cm()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new gT(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new yT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Pk(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new DT(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new PT(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Pk();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return gT.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),MT=gn((function e(t,n,r){mn(this,e),this.query=t,this.targetId=n,this.view=r})),FT=gn((function e(t){mn(this,e),this.key=t,this.nc=!1})),UT=function(){function e(t,n,r,i,a,o){mn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new xk((function(e){return Pg(e)}),Og),this.rc=new Map,this.oc=new Set,this.uc=new ly(Dm.comparator),this.cc=new Map,this.ac=new gx,this.hc={},this.lc=new Map,this.fc=Qw.vn(),this.onlineState="Unknown",this.dc=void 0}return gn(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function VT(e,t){return jT.apply(this,arguments)}function jT(){return jT=be(ge().mark((function e(t,n){var r,i,a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=OI(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Wx(r.localStore,Ng(n));case 8:return u=e.sent,r.isPrimaryClient&&R_(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,BT(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function BT(e,t,n,r,i){return zT.apply(this,arguments)}function zT(){return zT=be(ge().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=be(ge().mark((function e(t,n,r,i){var a,o,u;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Qx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(sI(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Qx(t.localStore,n,!0);case 3:return o=e.sent,u=new LT(n,o.Hi),s=u.Wu(o.documents),c=Fk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),sI(t,r,l.Xu),f=new MT(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),zT.apply(this,arguments)}function qT(e,t){return KT.apply(this,arguments)}function KT(){return KT=be(ge().mark((function e(t,n){var r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fm(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Og(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Gx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),O_(r.remoteStore,i.targetId),oI(r,i.targetId)})).catch(Gm);case 9:e.next=14;break;case 11:return oI(r,i.targetId),e.next=14,Gx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}function WT(e,t,n){return GT.apply(this,arguments)}function GT(){return GT=be(ge().mark((function e(t,n,r){var i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=fm(e),a=Cm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Pk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Tk(),s=Pk();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=kn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=sk(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new fk(c.key,l,Jy(l.value.mapValue),nk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Sk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new ly(Im)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,fI(i,a.changes);case 9:return e.next=11,Q_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=vT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),GT.apply(this,arguments)}function HT(e,t){return QT.apply(this,arguments)}function QT(){return QT=be(ge().mark((function e(t,n){var r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),e.prev=1,e.next=4,zx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(lm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?lm(n.nc):e.removedDocuments.size>0&&(lm(n.nc),n.nc=!1))})),e.next=8,fI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),QT.apply(this,arguments)}function YT(e,t,n){var r=fm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=kn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ST(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function XT(e,t,n){return $T.apply(this,arguments)}function $T(){return $T=be(ge().mark((function e(t,n,r){var i,a,o,u,s,c;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ly(Dm.comparator)).insert(o,Zy.newNoDocument(o,Am.min())),s=Pk().add(o),c=new Mk(Am.min(),new Map,new dy(Im),u,s),e.next=9,HT(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),lI(i),e.next=16;break;case 14:return e.next=16,Gx(i.localStore,n,!1).then((function(){return oI(i,n,r)})).catch(Gm);case 16:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function JT(e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=be(ge().mark((function e(t,n){var r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),i=n.batch.batchId,e.prev=1,e.next=4,jx(r.localStore,n);case 4:return a=e.sent,aI(r,i,null),iI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,fI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ZT.apply(this,arguments)}function eI(e,t,n){return tI.apply(this,arguments)}function tI(){return tI=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fm(t),e.prev=1,e.next=4,function(e,t){var n=fm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return lm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,aI(i,n,r),iI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,fI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),tI.apply(this,arguments)}function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=be(ge().mark((function e(t,n){var r,i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F_((r=fm(t)).remoteStore)||am("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=vT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),rI.apply(this,arguments)}function iI(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function aI(e,t,n){var r=fm(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function oI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=kn(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||uI(e,t)}))}function uI(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(O_(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),lI(e))}function sI(e,t,n){var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof PT?(e.ac.addReference(a.key,t),cI(e,a)):a instanceof DT?(am("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||uI(e,a.key)):cm()}}catch(o){i.e(o)}finally{i.f()}}function cI(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(am("SyncEngine","New document in limbo: "+n),e.oc.add(r),lI(e))}function lI(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Dm(Rm.fromString(t)),r=e.fc.next();e.cc.set(r,new FT(n)),e.uc=e.uc.insert(n,r),R_(e.remoteStore,new tw(Ng(Tg(n.path)),r,2,oy.at))}}function fI(e,t,n){return hI.apply(this,arguments)}function hI(){return hI=be(ge().mark((function e(t,n,r){var i,a,o,u;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fm(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Dx.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=be(ge().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Qm.forEach(n,(function(t){return Qm.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Qm.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Zm(e.t0)){e.next=10;break}throw e.t0;case 10:am("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=kn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t){return pI.apply(this,arguments)}function pI(){return pI=be(ge().mark((function e(t,n){var r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fm(t)).currentUser.isEqual(n)){e.next=11;break}return am("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ux(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new dm(hm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,fI(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e,t){var n=fm(e),r=n.cc.get(t);if(r&&r.nc)return Pk().add(r.key);var i=Pk(),a=n.rc.get(t);if(!a)return i;var o,u=kn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function mI(e,t){return yI.apply(this,arguments)}function yI(){return yI=be(ge().mark((function e(t,n){var r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),e.next=3,Qx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&sI(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e,t){return kI.apply(this,arguments)}function kI(){return kI=be(ge().mark((function e(t,n){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),e.abrupt("return",Xx(r.localStore,n).then((function(e){return fI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t,n,r){return wI.apply(this,arguments)}function wI(){return wI=be(ge().mark((function e(t,n,r,i){var a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fm(t),e.next=3,function(e,t){var n=fm(e),r=fm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Qm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Q_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(aI(a,n,i||null),iI(a,n),function(e,t){fm(fm(e).mutationQueue).An(t)}(a.localStore,n)):cm();case 11:return e.next=13,fI(a,o);case 13:e.next=16;break;case 15:am("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function xI(e,t){return _I.apply(this,arguments)}function _I(){return _I=be(ge().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OI(r=fm(t)),PI(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,TI(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,lT(r.remoteStore,!0);case 9:o=kn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,R_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return oI(r,t),Gx(r.localStore,t,!0)})),O_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,TI(r,c);case 21:return function(e){var t=fm(e);t.cc.forEach((function(e,n){O_(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new ly(Dm.comparator)}(r),r.dc=!1,e.next=25,lT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function TI(e,t,n){return II.apply(this,arguments)}function II(){return II=be(ge().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=fm(t),a=[],o=[],u=kn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Wx(i.localStore,Ng(f[0]));case 11:l=e.sent,h=kn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,mI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Yx(i.localStore,c);case 36:return y=e.sent,e.next=39,Wx(i.localStore,y);case 39:return l=e.sent,e.next=42,BT(i,EI(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),II.apply(this,arguments)}function EI(e){return _g(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function SI(e){var t=fm(e);return fm(fm(t.localStore).persistence).vi()}function CI(e,t,n,r){return AI.apply(this,arguments)}function AI(){return AI=be(ge().mark((function e(t,n,r,i){var a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=fm(t)).dc){e.next=3;break}return e.abrupt("return",void am("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Xx(a.localStore,Mg(o[0]));case 10:return u=e.sent,s=Mk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,yy.EMPTY_BYTE_STRING),e.next=14,fI(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Gx(a.localStore,n,!0);case 17:return oI(a,n,i),e.abrupt("break",20);case 19:cm();case 20:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function NI(e,t,n){return RI.apply(this,arguments)}function RI(){return RI=be(ge().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=OI(t)).dc){e.next=45;break}a=kn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return am("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Yx(i.localStore,u);case 12:return s=e.sent,e.next=15,Wx(i.localStore,s);case 15:return c=e.sent,e.next=18,BT(i,EI(s),c.targetId,!1,c.resumeToken);case 18:R_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=kn(r),e.prev=30,h=ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Gx(i.localStore,t,!1).then((function(){O_(i.remoteStore,t),oI(i,t)})).catch(Gm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),RI.apply(this,arguments)}function OI(e){var t=fm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=HT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XT.bind(null,t),t.sc.Wo=IT.bind(null,t.eventManager),t.sc.wc=ET.bind(null,t.eventManager),t}function PI(e){var t=fm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eI.bind(null,t),t}function DI(e,t,n){var r=fm(e);(function(){var e=be(ge().mark((function e(t,n,r){var i,a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fm(e),r=$k(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(OT(i)),a=new RT(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,fI(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=fm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(um("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var LI=function(){function e(){mn(this,e),this.synchronizeTabs=!1}return gn(e,[{key:"initialize",value:function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=k_(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Fx(this.persistence,new Lx,e.initialUser,this.It)}},{key:"yc",value:function(e){return new Tx(Ex.Bs,this.It)}},{key:"gc",value:function(e){return new f_}},{key:"terminate",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),MI=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a;return mn(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return gn(n,[{key:"initialize",value:function(){var e=be(ge().mark((function e(t){var r=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(xn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,PI(this.Ac.syncEngine);case 6:return e.next=8,Q_(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return Fx(this.persistence,new Lx,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new tx(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new ay(t,this.persistence);return new iy(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Px(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jw.withCacheSize(this.cacheSizeBytes):jw.DEFAULT;return new Nx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,y_(),g_(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new f_}}]),n}(LI),FI=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return gn(n,[{key:"initialize",value:function(){var e=be(ge().mark((function e(t){var r,i=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(xn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof l_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:bI.bind(null,r),$r:CI.bind(null,r),Br:NI.bind(null,r),vi:SI.bind(null,r),Mr:gI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xI(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=y_();if(!l_.C(t))throw new dm(hm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Px(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new l_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(MI),UI=function(){function e(){mn(this,e)}return gn(e,[{key:"initialize",value:function(){var e=be(ge().mark((function e(t,n){var r=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return YT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dI.bind(null,this.syncEngine),e.next=12,lT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bT}},{key:"createDatastore",value:function(e){var t,n=k_(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new m_(t));return function(e,t,n,r){return new T_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return YT(o.syncEngine,e,0)},a=d_.C()?new d_:new h_,new E_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new UT(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fm(t),am("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,A_(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function VI(e,t,n){if(!n)throw new dm(hm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jI(e,t,n,r){if(!0===t&&!0===r)throw new dm(hm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function BI(e){if(!Dm.isDocumentKey(e))throw new dm(hm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zI(e){if(Dm.isDocumentKey(e))throw new dm(hm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function qI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cm()}function KI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dm(hm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qI(e);throw new dm(hm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function WI(e,t){if(t<=0)throw new dm(hm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var GI=new Map,HI=function(){function e(t){var n;if(mn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new dm(hm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dm(hm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,jI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return gn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),QI=function(){function e(t,n,r,i){mn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HI({}),this._settingsFrozen=!1}return gn(e,[{key:"app",get:function(){if(!this._app)throw new dm(hm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new dm(hm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mm;switch(e.type){case"gapi":var t=e.client;return new bm(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new dm(hm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=GI.get(e);t&&(am("ComponentProvider","Removing Datastore"),GI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function YI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=KI(e,QI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&um("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=tm.MOCK_USER;else{o=Wn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new dm(hm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tm(s)}e._authCredentials=new ym(new vm(o,u))}}var XI=function(){function e(t,n,r){mn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return gn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new JI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$I=function(){function e(t,n,r){mn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return gn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),JI=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a;return mn(this,n),(a=t.call(this,e,r,Tg(i)))._path=i,a.type="collection",a}return gn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new XI(this.firestore,null,new Dm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($I);function ZI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ar(e),VI("collection","path",t),e instanceof QI){var a=Rm.fromString.apply(Rm,[t].concat(r));return zI(a),new JI(e,null,a)}if(!(e instanceof XI||e instanceof JI))throw new dm(hm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rm.fromString.apply(Rm,[t].concat(r)));return zI(o),new JI(e.firestore,null,o)}function eE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ar(e),1===arguments.length&&(t=Tm.R()),VI("doc","path",t),e instanceof QI){var a=Rm.fromString.apply(Rm,[t].concat(r));return BI(a),new XI(e,null,new Dm(a))}if(!(e instanceof XI||e instanceof JI))throw new dm(hm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rm.fromString.apply(Rm,[t].concat(r)));return BI(o),new XI(e.firestore,e instanceof JI?e.converter:null,new Dm(o))}function tE(e,t){return e=ar(e),t=ar(t),(e instanceof XI||e instanceof JI)&&(t instanceof XI||t instanceof JI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nE(e,t){return e=ar(e),t=ar(t),e instanceof $I&&t instanceof $I&&e.firestore===t.firestore&&Og(e._query,t._query)&&e.converter===t.converter}function rE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return be(ge().mark((function r(){var i;return ge().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var iE=function(){function e(t){mn(this,e),this.observer=t,this.muted=!1}return gn(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):om("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),aE=function(){function e(t,n){var r=this;mn(this,e),this.Pc=t,this.It=n,this.metadata=new pm,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return gn(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=be(ge().mark((function e(){var t,n,r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new AT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=be(ge().mark((function e(){var t,n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=be(ge().mark((function e(){var t,n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),oE=function(){function e(t){mn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return gn(e,[{key:"lookup",value:function(){var e=be(ge().mark((function e(t){var n,r=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new dm(hm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=be(ge().mark((function e(t,n){var r,i,a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),i=ib(r.It)+"/documents",a={documents:n.map((function(e){return eb(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=sb(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());lm(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new yk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=be(ge().mark((function e(){var t,n=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Dm.fromPath(t);n.mutations.push(new gk(r,n.precondition(r)))})),e.next=7,function(){var e=be(ge().mark((function e(t,n){var r,i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),i=ib(r.It)+"/documents",a={writes:n.map((function(e){return cb(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cm();t=Am.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dm(hm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Am.min())?nk.exists(!1):nk.updateTime(t):nk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Am.min()))throw new dm(hm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nk.updateTime(t)}return nk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),uE=function(){function e(t,n,r,i,a){mn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new b_(this.asyncQueue,"transaction_retry")}return gn(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(be(ge().mark((function t(){var n,r;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new oE(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Sy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bk(t)}return!1}}]),e}(),sE=function(){function e(t,n,r,i){var a=this;mn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tm.UNAUTHENTICATED,this.clientId=Tm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return am("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return am("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return gn(e,[{key:"getConfiguration",value:function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new dm(hm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new pm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(be(ge().mark((function n(){var r;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=vT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=be(ge().mark((function e(t,n){var r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),am("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ux(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t){return hE.apply(this,arguments)}function hE(){return hE=be(ge().mark((function e(t,n){var r,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,dE(t);case 3:return r=e.sent,am("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return sT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sT(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e){return pE.apply(this,arguments)}function pE(){return pE=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return am("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,cE(t,new LI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e){return mE.apply(this,arguments)}function mE(){return mE=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return am("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,fE(t,new UI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e){return dE(e).then((function(e){return e.persistence}))}function gE(e){return dE(e).then((function(e){return e.localStore}))}function kE(e){return vE(e).then((function(e){return e.remoteStore}))}function bE(e){return vE(e).then((function(e){return e.syncEngine}))}function wE(e){return vE(e).then((function(e){return e.datastore}))}function xE(e){return _E.apply(this,arguments)}function _E(){return _E=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=VT.bind(null,n.syncEngine),r.onUnlisten=qT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function TE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pm;return e.asyncQueue.enqueueAndForget(be(ge().mark((function i(){return ge().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iE({next:function(a){t.enqueueAndForget((function(){return _T(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new dm(hm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new dm(hm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new CT(Tg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return wT(e,o)},i.next=3,xE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function IE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pm;return e.asyncQueue.enqueueAndForget(be(ge().mark((function i(){return ge().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iE({next:function(n){t.enqueueAndForget((function(){return _T(e,o)})),n.fromCache&&"server"===r.source?i.reject(new dm(hm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new CT(n,a,{includeMetadataChanges:!0,Nu:!0});return wT(e,o)},i.next=3,xE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var EE=function(){function e(){var t=this;mn(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new b_(this,"async_queue_retry"),this.Wc=function(){var e=g_();e&&am("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=g_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return gn(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=g_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new pm;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=be(ge().mark((function e(){var t=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Zm(e.t0)){e.next=12;break}throw e.t0;case 12:am("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw om("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=pT.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&cm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=be(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=kn(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=kn(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function SE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=kn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var CE=function(){function e(){mn(this,e),this._progressObserver={},this._taskCompletionResolver=new pm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return gn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),AE=function(e){wn(n,e);var t=In(n);function n(e,r,i,a){var o;return mn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new EE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return gn(n,[{key:"_terminate",value:function(){return this._firestoreClient||RE(this),this._firestoreClient.terminate()}}]),n}(QI);function NE(e){return e._firestoreClient||RE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function RE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Iy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function OE(e,t,n){var r=new pm;return e.asyncQueue.enqueue(be(ge().mark((function i(){var a;return ge().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,cE(e,n);case 3:return i.next=5,fE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===hm.FAILED_PRECONDITION||e.code===hm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:um("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function PE(e){return function(e){return e.asyncQueue.enqueue(be(ge().mark((function t(){var n,r;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yE(e);case 2:return n=t.sent,t.next=5,kE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=fm(e);return t._u.delete(0),S_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(NE(e=KI(e,AE)))}function DE(e){return function(e){return e.asyncQueue.enqueue(be(ge().mark((function t(){var n,r;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yE(e);case 2:return n=t.sent,t.next=5,kE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fm(t))._u.add(0),e.next=4,A_(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(NE(e=KI(e,AE)))}function LE(e,t){var n=NE(e=KI(e,AE)),r=new CE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new aE(e,t)}(function(e,t){if(e instanceof Uint8Array)return rE(e,t);if(e instanceof ArrayBuffer)return rE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,k_(t));e.asyncQueue.enqueueAndForget(be(ge().mark((function t(){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=DI,t.next=3,bE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ME(e,t){return function(e,t){return e.asyncQueue.enqueue(be(ge().mark((function n(){return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,gE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(NE(e=KI(e,AE)),t).then((function(t){return t?new $I(e,null,t.query):null}))}function FE(e){if(e._initialized||e._terminated)throw new dm(hm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var UE=function(){function e(t){mn(this,e),this._byteString=t}return gn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(yy.fromBase64String(t))}catch(t){throw new dm(hm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(yy.fromUint8Array(t))}}]),e}(),VE=function(){function e(){mn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new dm(hm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pm(n)}return gn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var jE=gn((function e(t){mn(this,e),this._methodName=t})),BE=function(){function e(t,n){if(mn(this,e),!isFinite(t)||t<-90||t>90)throw new dm(hm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dm(hm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return gn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Im(this._lat,e._lat)||Im(this._long,e._long)}}]),e}(),zE=/^__.*__$/,qE=function(){function e(t,n,r){mn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return gn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fk(e,this.data,this.fieldMask,t,this.fieldTransforms):new lk(e,this.data,t,this.fieldTransforms)}}]),e}(),KE=function(){function e(t,n,r){mn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return gn(e,[{key:"toMutation",value:function(e,t){return new fk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function WE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cm()}}var GE=function(){function e(t,n,r,i,a,o){mn(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return gn(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return hS(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(WE(this.sa)&&zE.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),HE=function(){function e(t,n,r){mn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||k_(t)}return gn(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new GE({sa:e,methodName:t,fa:n,path:Pm.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function QE(e){var t=e._freezeSettings(),n=k_(e._databaseId);return new HE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function YE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);sS("Data must be an object, but it was:",o,r);var u,s,c=oS(r,o);if(a.merge)u=new my(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=kn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=cS(t,d,n);if(!o.contains(p))throw new dm(hm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));dS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new my(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new qE(new $y(c),u,s)}var XE=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(jE);function $E(e,t,n){return new GE({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var JE=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n,[{key:"_toFieldTransform",value:function(e){return new ek(e.path,new Gg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(jE),ZE=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e))._a=r,i}return gn(n,[{key:"_toFieldTransform",value:function(e){var t=$E(this,e,!0),n=this._a.map((function(e){return aS(e,t)})),r=new Hg(n);return new ek(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jE),eS=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e))._a=r,i}return gn(n,[{key:"_toFieldTransform",value:function(e){var t=$E(this,e,!0),n=this._a.map((function(e){return aS(e,t)})),r=new Yg(n);return new ek(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jE),tS=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e)).wa=r,i}return gn(n,[{key:"_toFieldTransform",value:function(e){var t=new $g(e.It,Bg(e.It,this.wa));return new ek(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jE);function nS(e,t,n,r){var i=e.da(1,t,n);sS("Data must be an object, but it was:",i,r);var a=[],o=$y.empty();sy(r,(function(e,r){var u=fS(t,e,n);r=ar(r);var s=i.ca(u);if(r instanceof XE)a.push(u);else{var c=aS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new my(a);return new KE(o,u,i.fieldTransforms)}function rS(e,t,n,r,i,a){var o=e.da(1,t,n),u=[cS(t,r,n)],s=[i];if(a.length%2!=0)throw new dm(hm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(cS(t,a[c])),s.push(a[c+1]);for(var l=[],f=$y.empty(),h=u.length-1;h>=0;--h)if(!dS(l,u[h])){var d=u[h],p=s[h];p=ar(p);var v=o.ca(d);if(p instanceof XE)l.push(d);else{var m=aS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new my(l);return new KE(f,y,o.fieldTransforms)}function iS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return aS(n,e.da(r?4:3,t))}function aS(e,t){if(uS(e=ar(e)))return sS("Unsupported field value:",t,e),oS(e,t);if(e instanceof jE)return function(e,t){if(!WE(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=kn(e);try{for(a.s();!(n=a.n()).done;){var o=aS(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ar(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bg(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Cm.fromDate(e);return{timestampValue:Qk(t.It,n)}}if(e instanceof Cm){var r=new Cm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qk(t.It,r)}}if(e instanceof BE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof UE)return{bytesValue:Yk(t.It,e._byteString)};if(e instanceof XI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Jk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(qI(e)))}(e,t)}function oS(e,t){var n={};return cy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sy(e,(function(e,r){var i=aS(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function uS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cm||e instanceof BE||e instanceof UE||e instanceof XI||e instanceof jE)}function sS(e,t,n){if(!uS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qI(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function cS(e,t,n){if((t=ar(t))instanceof VE)return t._internalPath;if("string"==typeof t)return fS(e,t);throw hS("Field path arguments must be of type string or ",e,!1,void 0,n)}var lS=new RegExp("[~\\*/\\[\\]]");function fS(e,t,n){if(t.search(lS)>=0)throw hS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return En(VE,ur(t.split(".")))._internalPath}catch(r){throw hS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function hS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new dm(hm.INVALID_ARGUMENT,u+e+s)}function dS(e,t){return e.some((function(e){return e.isEqual(t)}))}var pS=function(){function e(t,n,r,i,a){mn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return gn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new XI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new vS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(mS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),vS=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n,[{key:"data",value:function(){return Li(xn(n.prototype),"data",this).call(this)}}]),n}(pS);function mS(e,t){return"string"==typeof t?fS(e,t):t instanceof VE?t._internalPath:t._delegate._internalPath}function yS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new dm(hm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gS=gn((function e(){mn(this,e)}));function kS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var bS=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a;return mn(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return gn(n,[{key:"_apply",value:function(e){var t=QE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new dm(hm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){RS(o,a);var s,c=[],l=kn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(NS(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=NS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||RS(o,a),u=iS(n,"where",o,"in"===a||"not-in"===a);var h=sg.create(i,a,u);return function(e,t){if(t.dt()){var n=Sg(e);if(null!==n&&!n.isEqual(t.field))throw new dm(hm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Eg(e);null!==r&&OS(e,t.field,r)}var i=function(e,t){var n,r=kn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new dm(hm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new dm(hm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new $I(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new xg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(gS);var wS=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return gn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new dm(hm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new dm(hm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gg(t,n);return function(e,t){if(null===Eg(e)){var n=Sg(e);null!==n&&OS(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new $I(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new xg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(gS);var xS=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a;return mn(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return gn(n,[{key:"_apply",value:function(e){return new $I(e.firestore,e.converter,Rg(e._query,this.Ia,this.Ta))}}]),n}(gS);var _S=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a;return mn(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return gn(n,[{key:"_apply",value:function(e){var t=AS(e,this.type,this.Ea,this.Aa);return new $I(e.firestore,e.converter,function(e,t){return new xg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(gS);function TS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _S("startAt",t,!0)}function IS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _S("startAfter",t,!1)}var ES=function(e){wn(n,e);var t=In(n);function n(e,r,i){var a;return mn(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return gn(n,[{key:"_apply",value:function(e){var t=AS(e,this.type,this.Ea,this.Aa);return new $I(e.firestore,e.converter,function(e,t){return new xg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(gS);function SS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ES("endBefore",t,!1)}function CS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ES("endAt",t,!0)}function AS(e,t,n,r){if(n[0]=ar(n[0]),n[0]instanceof pS)return function(e,t,n,r,i){if(!r)throw new dm(hm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=kn(Ag(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Vy(t,r.key));else{var c=r.data.field(s.field);if(xy(c))throw new dm(hm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new dm(hm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new yg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=QE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new dm(hm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new dm(hm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Cg(e)&&-1!==c.indexOf("/"))throw new dm(hm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Rm.fromString(c));if(!Dm.isDocumentKey(l))throw new dm(hm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Dm(l);u.push(Vy(t,f))}else{var h=iS(n,r,c);u.push(h)}}return new yg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function NS(e,t,n){if("string"==typeof(n=ar(n))){if(""===n)throw new dm(hm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cg(t)&&-1!==n.indexOf("/"))throw new dm(hm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Rm.fromString(n));if(!Dm.isDocumentKey(r))throw new dm(hm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Vy(e,new Dm(r))}if(n instanceof XI)return Vy(e,n._key);throw new dm(hm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(qI(n),"."))}function RS(e,t){if(!Array.isArray(e)||0===e.length)throw new dm(hm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new dm(hm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function OS(e,t,n){if(!n.isEqual(t))throw new dm(hm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var PS=function(){function e(){mn(this,e)}return gn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Oy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return by(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return sy(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new BE(by(e.latitude),by(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=_y(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ty(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ky(e);return new Cm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Rm.fromString(e);lm(xb(n));var r=new Ey(n.get(1),n.get(3)),i=new Dm(n.popFirst(5));return r.isEqual(t)||om("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function DS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var LS=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this)).firestore=e,r}return gn(n,[{key:"convertBytes",value:function(e){return new UE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new XI(this.firestore,null,t)}}]),n}(PS),MS=function(){function e(t,n){mn(this,e),this.hasPendingWrites=t,this.fromCache=n}return gn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),FS=function(e){wn(n,e);var t=In(n);function n(e,r,i,a,o,u){var s;return mn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return gn(n,[{key:"exists",value:function(){return Li(xn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new US(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(mS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(pS),US=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Li(xn(n.prototype),"data",this).call(this,e)}}]),n}(FS),VS=function(){function e(t,n,r,i){mn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new MS(i.hasPendingWrites,i.fromCache),this.query=r}return gn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new US(n._firestore,n._userDataWriter,r.key,r,new MS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dm(hm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new US(e._firestore,e._userDataWriter,t.doc.key,t.doc,new MS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new US(e._firestore,e._userDataWriter,t.doc.key,t.doc,new MS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:jS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function jS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cm()}}function BS(e,t){return e instanceof FS&&t instanceof FS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof VS&&t instanceof VS&&e._firestore===t._firestore&&nE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var zS=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this)).firestore=e,r}return gn(n,[{key:"convertBytes",value:function(e){return new UE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new XI(this.firestore,null,t)}}]),n}(PS);function qS(e){e=KI(e,XI);var t=KI(e.firestore,AE),n=NE(t),r=new zS(t);return function(e,t){var n=new pm;return e.asyncQueue.enqueueAndForget(be(ge().mark((function r(){return ge().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=be(ge().mark((function e(t,n,r){var i,a;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new dm(hm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=vT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new FS(t,r,e._key,n,new MS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function KS(e){e=KI(e,$I);var t=KI(e.firestore,AE),n=NE(t),r=new zS(t);return function(e,t){var n=new pm;return e.asyncQueue.enqueueAndForget(be(ge().mark((function r(){return ge().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=be(ge().mark((function e(t,n,r){var i,a,o,u,s;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qx(t,n,!0);case 3:i=e.sent,a=new LT(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=vT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new VS(t,r,e,n)}))}function WS(e,t,n){e=KI(e,XI);var r=KI(e.firestore,AE),i=DS(e.converter,t,n);return YS(r,[YE(QE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nk.none())])}function GS(e,t,n){e=KI(e,XI);for(var r=KI(e.firestore,AE),i=QE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return YS(r,[("string"==typeof(t=ar(t))||t instanceof VE?rS(i,"updateDoc",e._key,t,n,o):nS(i,"updateDoc",e._key,t)).toMutation(e._key,nk.exists(!0))])}function HS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ar(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||SE(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(SE(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof XI)l=KI(e.firestore,AE),f=Tg(e._key.path),c={next:function(t){n[s]&&n[s](XS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=KI(e,$I);l=KI(p.firestore,AE),f=p._query;var v=new zS(l);c={next:function(e){n[s]&&n[s](new VS(l,v,p,e))},error:n[s+1],complete:n[s+2]},yS(e._query)}return function(e,t,n,r){var i=new iE(r),a=new CT(t,i,n);return e.asyncQueue.enqueueAndForget(be(ge().mark((function t(){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wT,t.next=3,xE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(be(ge().mark((function t(){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_T,t.next=3,xE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NE(l),f,h,c)}function QS(e,t){return function(e,t){var n=new iE(t);return e.asyncQueue.enqueueAndForget(be(ge().mark((function t(){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fm(e).Ru.add(t),t.next()},t.next=3,xE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(be(ge().mark((function t(){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fm(e).Ru.delete(t)},t.next=3,xE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NE(e=KI(e,AE)),SE(t)?t:{next:t})}function YS(e,t){return function(e,t){var n=new pm;return e.asyncQueue.enqueueAndForget(be(ge().mark((function r(){return ge().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=WT,r.next=3,bE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(NE(e),t)}function XS(e,t,n){var r=n.docs.get(t._key),i=new zS(e);return new FS(e,i,t._key,r,new MS(n.hasPendingWrites,n.fromCache),t.converter)}var $S={maxAttempts:5},JS=function(){function e(t,n){mn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=QE(t)}return gn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ZS(e,this._firestore),i=DS(r.converter,t,n),a=YE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,nk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=ZS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ar(t))||t instanceof VE?rS(this._dataReader,"WriteBatch.update",i._key,t,n,o):nS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,nk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ZS(e,this._firestore);return this._mutations=this._mutations.concat(new yk(t._key,nk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new dm(hm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function ZS(e,t){if((e=ar(e)).firestore!==t)throw new dm(hm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var eC=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e,r))._firestore=e,i}return gn(n,[{key:"get",value:function(e){var t=this,r=ZS(e,this._firestore),i=new zS(this._firestore);return Li(xn(n.prototype),"get",this).call(this,e).then((function(e){return new FS(t._firestore,i,r._key,e._document,new MS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){mn(this,e),this._firestore=t,this._transaction=n,this._dataReader=QE(t)}return gn(e,[{key:"get",value:function(e){var t=this,n=ZS(e,this._firestore),r=new LS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return cm();var i=e[0];if(i.isFoundDocument())return new pS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new pS(t._firestore,r,n._key,null,n.converter);throw cm()}))}},{key:"set",value:function(e,t,n){var r=ZS(e,this._firestore),i=DS(r.converter,t,n),a=YE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=ZS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ar(t))||t instanceof VE?rS(this._dataReader,"Transaction.update",i._key,t,n,o):nS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=ZS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function tC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZE("arrayUnion",t)}function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nm=e}(ri),Xr(new sr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new AE(new gm(e.getProvider("auth-internal")),new xm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new dm(hm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ey(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ci(em,"3.7.3",e),ci(em,"3.7.3","esm2017")}();function rC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function iC(){if("undefined"===typeof Uint8Array)throw new dm("unimplemented","Uint8Arrays are not available in this environment.")}function aC(){if("undefined"==typeof atob)throw new dm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var oC=function(){function e(t){mn(this,e),this._delegate=t}return gn(e,[{key:"toBase64",value:function(){return aC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return iC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return aC(),new e(UE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return iC(),new e(UE.fromUint8Array(t))}}]),e}();function uC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=kn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var sC=function(){function e(){mn(this,e)}return gn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){FE(e=KI(e,AE));var n=NE(e),r=e._freezeSettings(),i=new UI;return OE(n,i,new MI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){FE(e=KI(e,AE));var t=NE(e),n=e._freezeSettings(),r=new UI;return OE(t,r,new FI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new dm(hm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new pm;return e._queue.enqueueAndForgetEvenWhileRestricted(be(ge().mark((function n(){return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=be(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Xm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Px(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),cC=function(){function e(t,n,r){var i=this;mn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ey||(this._appCompat=t)}return gn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||um("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};YI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return PE(this._delegate)}},{key:"disableNetwork",value:function(){return DE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&jI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new pm;return e.asyncQueue.enqueueAndForget(be(ge().mark((function n(){return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=nI,n.next=3,bE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(NE(e=KI(e,AE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return QS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new dm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new _C(this,ZI(this._delegate,e))}catch(YN){throw vC(YN,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new pC(this,eE(this._delegate,e))}catch(YN){throw vC(YN,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new bC(this,function(e,t){if(e=KI(e,QI),VI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dm(hm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $I(e,null,function(e){return new xg(Rm.emptyPath(),e)}(t))}(this._delegate,e))}catch(YN){throw vC(YN,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=KI(e,AE);var r=Object.assign(Object.assign({},$S),n);return function(e){if(e.maxAttempts<1)throw new dm(hm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new pm;return e.asyncQueue.enqueueAndForget(be(ge().mark((function i(){var a;return ge().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wE(e);case 2:a=i.sent,new uE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(NE(e),(function(n){return t(new eC(e,n))}),r)}(this._delegate,(function(n){return e(new fC(t,n))}))}},{key:"batch",value:function(){var e=this;return NE(this._delegate),new hC(new JS(this._delegate,(function(t){return YS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return LE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ME(this._delegate,e).then((function(e){return e?new bC(t,e):null}))}}]),e}(),lC=function(e){wn(n,e);var t=In(n);function n(e){var r;return mn(this,n),(r=t.call(this)).firestore=e,r}return gn(n,[{key:"convertBytes",value:function(e){return new oC(new UE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return pC.forKey(t,this.firestore,null)}}]),n}(PS);var fC=function(){function e(t,n){mn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new lC(t)}return gn(e,[{key:"get",value:function(e){var t=this,n=TC(e);return this._delegate.get(n).then((function(e){return new gC(t._firestore,new FS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=TC(e);return n?(rC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=TC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=TC(e);return this._delegate.delete(t),this}}]),e}(),hC=function(){function e(t){mn(this,e),this._delegate=t}return gn(e,[{key:"set",value:function(e,t,n){var r=TC(e);return n?(rC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=TC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=TC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),dC=function(){function e(t,n,r){mn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return gn(e,[{key:"fromFirestore",value:function(e,t){var n=new US(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new lC(t),n),i.set(n,a)),a}}]),e}();dC.INSTANCES=new WeakMap;var pC=function(){function e(t,n){mn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lC(t)}return gn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new _C(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new _C(this.firestore,ZI(this._delegate,e))}catch(YN){throw vC(YN,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ar(e))instanceof XI&&tE(this._delegate,e)}},{key:"set",value:function(e,t){t=rC("DocumentReference.set",t);try{return t?WS(this._delegate,e,t):WS(this._delegate,e)}catch(YN){throw vC(YN,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?GS(this._delegate,e):GS.apply(void 0,[this._delegate,e,t].concat(r))}catch(YN){throw vC(YN,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return YS(KI(e.firestore,AE),[new yk(e._key,nk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mC(n),a=yC(n,(function(t){return new gC(e.firestore,new FS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return HS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?qS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KI(e,XI);var t=KI(e.firestore,AE);return TE(NE(t),e._key,{source:"server"}).then((function(n){return XS(t,e,n)}))}(this._delegate):function(e){e=KI(e,XI);var t=KI(e.firestore,AE);return TE(NE(t),e._key).then((function(n){return XS(t,e,n)}))}(this._delegate),t.then((function(e){return new gC(n.firestore,new FS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new dm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new XI(n._delegate,r,new Dm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new XI(n._delegate,r,t))}}]),e}();function vC(e,t,n){return e.message=e.message.replace(t,n),e}function mC(e){var t,n=kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!uC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function yC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=uC(e[0])?e[0]:uC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gC=function(){function e(t,n){mn(this,e),this._firestore=t,this._delegate=n}return gn(e,[{key:"ref",get:function(){return new pC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return BS(this._delegate,e._delegate)}}]),e}(),kC=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||cm()}(void 0!==t),t}}]),n}(gC),bC=function(){function e(t,n){mn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lC(t)}return gn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,kS(this._delegate,function(e,t,n){var r=t,i=mS("where",e);return new bS(i,r,n)}(t,n,r)))}catch(YN){throw vC(YN,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,kS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=mS("orderBy",e);return new wS(n,t)}(t,n)))}catch(YN){throw vC(YN,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,kS(this._delegate,function(e){return WI("limit",e),new xS("limit",e,"F")}(t)))}catch(YN){throw vC(YN,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,kS(this._delegate,function(e){return WI("limitToLast",e),new xS("limitToLast",e,"L")}(t)))}catch(YN){throw vC(YN,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,kS(this._delegate,TS.apply(void 0,arguments)))}catch(YN){throw vC(YN,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,kS(this._delegate,IS.apply(void 0,arguments)))}catch(YN){throw vC(YN,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,kS(this._delegate,SS.apply(void 0,arguments)))}catch(YN){throw vC(YN,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,kS(this._delegate,CS.apply(void 0,arguments)))}catch(YN){throw vC(YN,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return nE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?KS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KI(e,$I);var t=KI(e.firestore,AE),n=NE(t),r=new zS(t);return IE(n,e._query,{source:"server"}).then((function(n){return new VS(t,r,e,n)}))}(this._delegate):function(e){e=KI(e,$I);var t=KI(e.firestore,AE),n=NE(t),r=new zS(t);return yS(e._query),IE(n,e._query).then((function(n){return new VS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new xC(n.firestore,new VS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mC(n),a=yC(n,(function(t){return new xC(e.firestore,new VS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return HS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),wC=function(){function e(t,n){mn(this,e),this._firestore=t,this._delegate=n}return gn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new kC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),xC=function(){function e(t,n){mn(this,e),this._firestore=t,this._delegate=n}return gn(e,[{key:"query",get:function(){return new bC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new kC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new wC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new kC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return BS(this._delegate,e._delegate)}}]),e}(),_C=function(e){wn(n,e);var t=In(n);function n(e,r){var i;return mn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return gn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new pC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new pC(this.firestore,void 0===e?eE(this._delegate):eE(this._delegate,e))}catch(YN){throw vC(YN,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=KI(e.firestore,AE),r=eE(e),i=DS(e.converter,t);return YS(n,[YE(QE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new pC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return tE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(dC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(bC);function TC(e){return KI(e,XI)}var IC=function(){function e(){mn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=En(VE,n)}return gn(e,[{key:"isEqual",value:function(e){return(e=ar(e))instanceof VE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Pm.keyField().canonicalString())}}]),e}(),EC=function(){function e(t){mn(this,e),this._delegate=t}return gn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new JE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new XE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=tC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=nC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new tS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),SC={Firestore:cC,GeoPoint:BE,Timestamp:Cm,Blob:oC,Transaction:fC,WriteBatch:hC,DocumentReference:pC,DocumentSnapshot:gC,Query:bC,QueryDocumentSnapshot:kC,QuerySnapshot:xC,CollectionReference:_C,FieldPath:IC,FieldValue:EC,setLogLevel:function(e){!function(e){rm.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new sr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},SC)))}(e,(function(e,t){return new cC(e,t,new sC)})),e.registerVersion("@firebase/firestore-compat","0.2.3")}(Pi);var CC="firebasestorage.googleapis.com",AC=function(e){wn(n,e);var t=In(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return mn(this,n),(i=t.call(this,NC(e),"Firebase Storage: ".concat(r," (").concat(NC(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(bn(i),n.prototype),i}return gn(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return NC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Gn);function NC(e){return"storage/"+e}function RC(){return new AC("unknown","An unknown error occurred, please check the error payload for server response.")}function OC(){return new AC("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function PC(){return new AC("canceled","User canceled the upload/download.")}function DC(){return new AC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function LC(e){return new AC("invalid-argument",e)}function MC(){return new AC("app-deleted","The Firebase app was deleted.")}function FC(e){return new AC("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function UC(e,t){return new AC("invalid-format","String does not match format '"+e+"': "+t)}function VC(e){throw new AC("internal-error","Internal error: "+e)}var jC,BC=function(){function e(t,n){mn(this,e),this.bucket=t,this.path_=n}return gn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(YN){return new e(t,"")}if(""===r.path)return r;throw new AC("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===CC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new AC("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),zC=function(){function e(t){mn(this,e),this.promise_=Promise.reject(t)}return gn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function qC(e){return"string"===typeof e||e instanceof String}function KC(e){return WC()&&e instanceof Blob}function WC(){return"undefined"!==typeof Blob&&!Ln()}function GC(e,t,n,r){if(r<t)throw LC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw LC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function HC(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function QC(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function YC(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(jC||(jC={}));var XC=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];mn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return gn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(YN){i(YN)}else if(null!==a){var u=RC();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?MC():PC());else i(OC())}};this.canceled_?t(0,new $C(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new $C(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===jC.NO_ERROR,a=r.getStatus();if(n&&!YC(a,e.additionalRetryCodes_)||!e.retry){var o=-1!==e.successCodes_.indexOf(a);t(!0,new $C(o,r))}else{var u=r.getErrorCode()===jC.ABORT;t(!1,new $C(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),$C=gn((function e(t,n,r){mn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function JC(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function ZC(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function eA(e,t){t&&(e["X-Firebase-GMPID"]=t)}function tA(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function nA(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=QC(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return eA(c,t),JC(c,n),ZC(c,a),tA(c,r),new XC(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function rA(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function iA(){for(var e=rA(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(WC())return new Blob(n);throw new AC("unsupported-environment","This browser doesn't seem to support creating Blobs")}function aA(e){if("undefined"===typeof atob)throw new AC("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var oA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},uA=gn((function e(t,n){mn(this,e),this.data=t,this.contentType=n||null}));function sA(e,t){switch(e){case oA.RAW:return new uA(cA(t));case oA.BASE64:case oA.BASE64URL:return new uA(lA(e,t));case oA.DATA_URL:return new uA(function(e){var t=new fA(e);return t.base64?lA(oA.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(YN){throw UC(oA.DATA_URL,"Malformed data URL.")}return cA(t)}(t.rest)}(t),new fA(t).contentType)}throw RC()}function cA(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function lA(e,t){switch(e){case oA.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw UC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case oA.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw UC(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=aA(t)}catch(YN){if(YN.message.includes("polyfill"))throw YN;throw UC(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var fA=gn((function e(t){mn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw UC(oA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var hA=function(){function e(t,n){mn(this,e);var r=0,i="";KC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return gn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(KC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(WC()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(iA.apply(null,i))}var a=n.map((function(e){return qC(e)?sA(oA.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function dA(e){var t;try{t=JSON.parse(e)}catch(YN){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function pA(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function vA(e,t){return t}var mA=gn((function e(t,n,r,i){mn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||vA})),yA=null;function gA(){if(yA)return yA;var e=[];e.push(new mA("bucket")),e.push(new mA("generation")),e.push(new mA("metageneration")),e.push(new mA("name","fullPath",!0));var t=new mA("name");t.xform=function(e,t){return function(e){return!qC(e)||e.length<2?e:pA(e)}(t)},e.push(t);var n=new mA("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new mA("timeCreated")),e.push(new mA("updated")),e.push(new mA("md5Hash",null,!0)),e.push(new mA("cacheControl",null,!0)),e.push(new mA("contentDisposition",null,!0)),e.push(new mA("contentEncoding",null,!0)),e.push(new mA("contentLanguage",null,!0)),e.push(new mA("contentType",null,!0)),e.push(new mA("metadata","customMetadata",!0)),yA=e}function kA(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new BC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function bA(e,t,n){var r=dA(t);return null===r?null:kA(e,r,n)}function wA(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function xA(e,t,n){var r=dA(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=kn(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new BC(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=kn(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new BC(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var _A=gn((function e(t,n,r,i){mn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function TA(e){if(!e)throw RC()}function IA(e,t){return function(n,r){var i=bA(e,r,t);return TA(null!==i),i}}function EA(e,t){return function(n,r){var i=bA(e,r,t);return TA(null!==i),function(e,t,n,r){var i=dA(t);if(null===i)return null;if(!qC(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return HC("/b/"+o(i)+"/o/"+o(a),n,r)+QC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function SA(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new AC("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new AC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new AC("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new AC("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function CA(e){var t=SA(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new AC("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function AA(e,t,n){var r=HC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _A(r,"GET",IA(e,n),i);return a.errorHandler=CA(t),a}function NA(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=HC(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new _A(o,"GET",function(e,t){return function(n,r){var i=xA(e,t,r);return TA(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=SA(t),s}function RA(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function OA(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=RA(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wA(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=hA.getBlob(c,r,l);if(null===f)throw DC();var h={name:s.fullPath},d=HC(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new _A(d,"POST",IA(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=SA(t),v}var PA=gn((function e(t,n,r,i){mn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function DA(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(YN){TA(!1)}return TA(!!n&&-1!==(t||["active"]).indexOf(n)),n}var LA=262144;function MA(e,t,n,r,i,a,o,u){var s=new PA(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new AC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw DC();var v=t.maxUploadRetryTime,m=new _A(n,"POST",(function(e,n){var i,o=DA(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?IA(t,a)(e,n):null,new PA(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=SA(e),m}var FA={STATE_CHANGED:"state_changed"},UA={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function VA(e){switch(e){case"running":case"pausing":case"canceling":return UA.RUNNING;case"paused":return UA.PAUSED;case"success":return UA.SUCCESS;case"canceled":return UA.CANCELED;default:return UA.ERROR}}var jA=gn((function e(t,n,r){mn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function BA(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var zA=function(){function e(){var t=this;mn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=jC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=jC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return gn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw VC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw VC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw VC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(YN){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw VC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw VC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),qA=function(e){wn(n,e);var t=In(n);function n(){return mn(this,n),t.apply(this,arguments)}return gn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(zA);function KA(){return new qA}var WA=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;mn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=gA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(YC(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=OC()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return gn(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=s(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=RA(t,r,i),u={name:o.fullPath},s=HC(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=wA(o,n),f=e.maxUploadRetryTime,h=new _A(s,"POST",(function(e){var t;DA(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(YN){TA(!1)}return TA(qC(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=SA(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,KA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new _A(n,"POST",(function(e){var t=DA(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(YN){TA(!1)}n||TA(!1);var i=Number(n);return TA(!isNaN(i)),new PA(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=SA(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,KA,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=LA*this._chunkMultiplier,n=new PA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=MA(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(YN){return e._error=YN,void e._transition("error")}var u=e._ref.storage._makeRequest(o,KA,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(LA*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=AA(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,KA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=OA(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,KA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=PC(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=VA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new jA(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(VA(this._state)){case UA.SUCCESS:BA(this._resolve.bind(null,this.snapshot))();break;case UA.CANCELED:case UA.ERROR:BA(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(VA(this._state)){case UA.RUNNING:case UA.PAUSED:e.next&&BA(e.next.bind(e,this.snapshot))();break;case UA.SUCCESS:e.complete&&BA(e.complete.bind(e))();break;default:e.error&&BA(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),GA=function(){function e(t,n){mn(this,e),this._service=t,this._location=n instanceof BC?n:BC.makeFromUrl(n,t.host)}return gn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new BC(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return pA(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new BC(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw FC(e)}}]),e}();function HA(e,t,n){return QA.apply(this,arguments)}function QA(){return(QA=be(ge().mark((function e(t,n,r){var i,a,o,u;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,YA(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,ur(u.prefixes)),(a=n.items).push.apply(a,ur(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,HA(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YA(e,t){null!=t&&"number"===typeof t.maxResults&&GC("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=NA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,KA)}function XA(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=HC(t.fullServerUrl(),e.host,e._protocol),a=wA(n,r),o=e.maxOperationRetryTime,u=new _A(i,"PATCH",IA(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=CA(t),u}(e.storage,e._location,t,gA());return e.storage.makeRequestWithTokens(n,KA)}function $A(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=HC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _A(r,"GET",EA(e,n),i);return a.errorHandler=CA(t),a}(e.storage,e._location,gA());return e.storage.makeRequestWithTokens(t,KA).then((function(e){if(null===e)throw new AC("no-download-url","The given file does not have any download URLs.");return e}))}function JA(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=HC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new _A(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=CA(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,KA)}function ZA(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new BC(e._location.bucket,n);return new GA(e.storage,r)}function eN(e,t){if(e instanceof iN){var n=e;if(null==n._bucket)throw new AC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new GA(n,n._bucket);return null!=t?eN(r,t):r}return void 0!==t?ZA(e,t):e}function tN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof iN)return new GA(e,t);throw LC("To use ref(service, url), the first argument must be a Storage instance.")}return eN(e,t)}function nN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:BC.makeFromBucketSpec(n,e)}function rN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Wn(i,e.app.options.projectId))}var iN=function(){function e(t,n,r,i,a){mn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=CC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?BC.makeFromBucketSpec(i,this._host):nN(this._host,this.app.options)}return gn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=BC.makeFromBucketSpec(this._url,e):this._bucket=nN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){GC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){GC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=be(ge().mark((function e(){var t,n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=be(ge().mark((function e(){var t,n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new GA(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new zC(MC());var o=nA(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=be(ge().mark((function e(t,n){var r,i,a,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),aN="@firebase/storage",oN="0.9.14",uN="storage";function sN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new WA(e,new hA(t),n)}(e=ar(e),t,n)}function cN(e){return function(e){e._throwIfRoot("getMetadata");var t=AA(e.storage,e._location,gA());return e.storage.makeRequestWithTokens(t,KA)}(e=ar(e))}function lN(e){return function(e){var t={prefixes:[],items:[]};return HA(e,t).then((function(){return t}))}(e=ar(e))}function fN(e,t){return tN(e=ar(e),t)}function hN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};rN(e,t,n,r)}function dN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new iN(r,i,a,n,ri)}Xr(new sr(uN,dN,"PUBLIC").setMultipleInstances(!0)),ci(aN,oN,""),ci(aN,oN,"esm2017");var pN=function(){function e(t,n,r){mn(this,e),this._delegate=t,this.task=n,this.ref=r}return gn(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),vN=function(){function e(t,n){mn(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return gn(e,[{key:"snapshot",get:function(){return new pN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new pN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new pN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new pN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),mN=function(){function e(t,n){mn(this,e),this._delegate=t,this._service=n}return gn(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new yN(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new yN(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),yN=function(){function e(t,n){mn(this,e),this._delegate=t,this.storage=n}return gn(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return ZA(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new vN(sN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oA.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=sA(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new vN(new WA(this._delegate,new hA(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return lN(this._delegate).then((function(t){return new mN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return YA(e=ar(e),t)}(this._delegate,e||void 0).then((function(e){return new mN(e,t.storage)}))}},{key:"getMetadata",value:function(){return cN(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return XA(e=ar(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return $A(ar(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),JA(ar(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw FC(e)}}]),e}(),gN=function(){function e(t,n){mn(this,e),this.app=t,this._delegate=n}return gn(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(kN(e))throw LC("ref() expected a child path but got a URL, use refFromURL instead.");return new yN(fN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!kN(e))throw LC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{BC.makeFromUrl(e,this._delegate.host)}catch(YN){throw LC("refFromUrl() expected a valid full URL but got an invalid one.")}return new yN(fN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hN(this._delegate,e,t,n)}}]),e}();function kN(e){return/^[A-Za-z]+:\/\//.test(e)}function bN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new gN(r,i)}!function(e){var t={TaskState:UA,TaskEvent:FA,StringFormat:oA,Storage:gN,Reference:yN};e.INTERNAL.registerComponent(new sr("storage-compat",bN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.22")}(Pi);Pi.initializeApp({apiKey:"AIzaSyBJFDVG0U-d-yVm4Ssvo1LI8EA3kNksi4E",authDomain:"nwitter2-9040d.firebaseapp.com",projectId:"nwitter2-9040d",storageBucket:"nwitter2-9040d.appspot.com",messagingSenderId:"375192435871",appId:"1:375192435871:web:fff857b83e539e340b76aa"});var wN,xN=Pi,_N=Pi.auth(),TN=Pi.firestore(),IN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ai(),t=arguments.length>1?arguments[1]:void 0,n=$r(e=ar(e),uN),r=n.getImmediate({identifier:t}),i=zn("storage");return i&&hN.apply(void 0,[r].concat(ur(i))),r}(),EN=n(184),SN=function(){var e=s((0,t.useState)(""),2),n=e[0],r=e[1],i=s((0,t.useState)(""),2),a=i[0],o=i[1],u=s((0,t.useState)(!0),2),c=u[0],l=u[1],f=s((0,t.useState)(""),2),h=f[0],d=f[1],p=function(e){var t=e.target,n=t.name,i=t.value;"email"===n?r(i):"password"===n&&o(i)},v=function(){var e=be(ge().mark((function e(t){var r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!c){e.next=8;break}return e.next=5,_N.createUserWithEmailAndPassword(n,a);case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,_N.signInWithEmailAndPassword(n,a);case 10:r=e.sent;case 11:console.log(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),d(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,EN.jsxs)(EN.Fragment,{children:[(0,EN.jsxs)("form",{onSubmit:v,className:"container",children:[(0,EN.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:n,onChange:p,className:"authInput"}),(0,EN.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:a,onChange:p,className:"authInput"}),(0,EN.jsx)("input",{type:"submit",className:"authInput authSubmit",value:c?"Create Account":"Sign In"}),h&&(0,EN.jsx)("span",{className:"authError",children:h})]}),(0,EN.jsx)("span",{onClick:function(){return l((function(e){return!e}))},className:"authSwitch",children:c?"Sign In":"Create Account"})]})},CN=function(){var e=function(){var e=be(ge().mark((function e(t){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?r=new xN.auth.GoogleAuthProvider:"github"===n&&(r=new xN.auth.GithubAuthProvider),e.next=4,_N.signInWithPopup(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,EN.jsxs)("div",{className:"authContainer",children:[(0,EN.jsx)(ln,{icon:pn,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),(0,EN.jsx)(SN,{}),(0,EN.jsxs)("div",{className:"authBtns",children:[(0,EN.jsxs)("button",{onClick:e,name:"google",className:"authBtn",children:["Continue with Google ",(0,EN.jsx)(ln,{icon:dn})]}),(0,EN.jsxs)("button",{onClick:e,name:"github",className:"authBtn",children:["Continue with Github ",(0,EN.jsx)(ln,{icon:hn})]})]})]})},AN={prefix:"fas",iconName:"pencil-alt",icon:[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"]},NN={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},RN={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},ON={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},PN={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},DN=function(e){var n=e.nweetObj,r=e.isOwner,i=s((0,t.useState)(!1),2),a=i[0],o=i[1],u=s((0,t.useState)(n.text),2),c=u[0],l=u[1],f=function(){var e=be(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this nweet?")){e.next=6;break}return e.next=4,TN.doc("nweets/".concat(n.id)).delete();case 4:return e.next=6,IN.refFromURL(n.attachmentUrl).delete();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){return o((function(e){return!e}))},d=function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,TN.doc("nweets/".concat(n.id)).update({text:c});case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,EN.jsx)("div",{className:"nweet",children:a?(0,EN.jsxs)(EN.Fragment,{children:[(0,EN.jsxs)("form",{onSubmit:d,className:"container nweetEdit",children:[(0,EN.jsx)("input",{type:"text",placeholder:"Edit your nweet",value:c,required:!0,autoFocus:!0,onChange:function(e){var t=e.target.value;l(t)},className:"formInput"}),(0,EN.jsx)("input",{type:"submit",value:"Update Nweet",className:"formBtn"})]}),(0,EN.jsx)("span",{onClick:h,className:"formBtn cancelBtn",children:"Cancel"})]}):(0,EN.jsxs)(EN.Fragment,{children:[(0,EN.jsx)("h4",{children:n.text}),n.attachmentUrl&&(0,EN.jsx)("img",{src:n.attachmentUrl}),r&&(0,EN.jsxs)("div",{class:"nweet__actions",children:[(0,EN.jsx)("span",{onClick:f,children:(0,EN.jsx)(ln,{icon:ON})}),(0,EN.jsx)("span",{onClick:h,children:(0,EN.jsx)(ln,{icon:AN})})]})]})})},LN=new Uint8Array(16);function MN(){if(!wN&&!(wN="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wN(LN)}var FN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var UN=function(e){return"string"===typeof e&&FN.test(e)},VN=[],jN=0;jN<256;++jN)VN.push((jN+256).toString(16).substr(1));var BN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(VN[e[t+0]]+VN[e[t+1]]+VN[e[t+2]]+VN[e[t+3]]+"-"+VN[e[t+4]]+VN[e[t+5]]+"-"+VN[e[t+6]]+VN[e[t+7]]+"-"+VN[e[t+8]]+VN[e[t+9]]+"-"+VN[e[t+10]]+VN[e[t+11]]+VN[e[t+12]]+VN[e[t+13]]+VN[e[t+14]]+VN[e[t+15]]).toLowerCase();if(!UN(n))throw TypeError("Stringified UUID is invalid");return n};var zN=function(e,t,n){var r=(e=e||{}).random||(e.rng||MN)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return BN(r)},qN=function(e){var n=e.userObj,r=s((0,t.useState)(""),2),i=r[0],a=r[1],o=s((0,t.useState)(""),2),u=o[0],c=o[1],l=function(){var e=be(ge().mark((function e(t){var r,o,s,l;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==i){e.next=2;break}return e.abrupt("return");case 2:if(t.preventDefault(),r="",""===u){e.next=12;break}return o=IN.ref().child("".concat(n.uid,"/").concat(zN())),e.next=8,o.putString(u,"data_url");case 8:return s=e.sent,e.next=11,s.ref.getDownloadURL();case 11:r=e.sent;case 12:return l={text:i,createdAt:Date.now(),creatorId:n.uid,attachmentUrl:r},e.next=15,TN.collection("nweets").add(l);case 15:a(""),c("");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,EN.jsxs)("form",{onSubmit:l,className:"factoryForm",children:[(0,EN.jsxs)("div",{className:"factoryInput__container",children:[(0,EN.jsx)("input",{className:"factoryInput__input",value:i,onChange:function(e){var t=e.target.value;a(t)},type:"text",placeholder:"What's on your mind?",maxLength:120}),(0,EN.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})]}),(0,EN.jsxs)("label",{for:"attach-file",className:"factoryInput__label",children:[(0,EN.jsx)("span",{children:"Add photos"}),(0,EN.jsx)(ln,{icon:NN})]}),(0,EN.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;c(t)},n.readAsDataURL(t)},style:{opacity:0}}),u&&(0,EN.jsxs)("div",{className:"factoryForm__attachment",children:[(0,EN.jsx)("img",{src:u,style:{backgroundImage:u}}),(0,EN.jsxs)("div",{className:"factoryForm__clear",onClick:function(){return c("")},children:[(0,EN.jsx)("span",{children:"Remove"}),(0,EN.jsx)(ln,{icon:RN})]})]})]})},KN=function(e){var n=e.userObj,r=s((0,t.useState)([]),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){TN.collection("nweets").onSnapshot((function(e){var t=e.docs.map((function(e){return wr({id:e.id},e.data())}));a(t)}))}),[]),(0,EN.jsxs)("div",{className:"container",children:[(0,EN.jsx)(qN,{userObj:n}),(0,EN.jsx)("div",{style:{marginTop:30},children:i.map((function(e){return(0,EN.jsx)(DN,{nweetObj:e,isOwner:e.creatorId===n.uid},e.id)}))})]})},WN=function(e){var n=e.refreshUser,r=e.userObj,i=ue(Q),a=s((0,t.useState)(r.displayName),2),o=a[0],u=a[1],c=function(){var e=be(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.displayName===o){e.next=5;break}return e.next=4,r.updateProfile({displayName:o});case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,EN.jsxs)("div",{className:"container",children:[(0,EN.jsxs)("form",{onSubmit:c,className:"profileForm",children:[(0,EN.jsx)("input",{onChange:function(e){var t=e.target.value;u(t)},type:"text",autoFocus:!0,placeholder:"Display name",value:o,className:"formInput"}),(0,EN.jsx)("input",{type:"submit",value:"Update Profile",className:"formBtn",style:{marginTop:10}})]}),(0,EN.jsx)("span",{className:"formBtn cancelBtn logOut",onClick:function(){_N.signOut(),i.push("/")},children:"Log Out"})]})},GN=function(e){var t=e.userObj;return(0,EN.jsx)("nav",{children:(0,EN.jsxs)("ul",{style:{display:"flex",justifyContent:"center",marginTop:50},children:[(0,EN.jsx)("li",{children:(0,EN.jsx)(pe,{to:"/",style:{marginRight:10},children:(0,EN.jsx)(ln,{icon:pn,color:"#04AAFF",size:"2x"})})}),(0,EN.jsx)("li",{children:(0,EN.jsxs)(pe,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},children:[(0,EN.jsx)(ln,{icon:PN,color:"#04AAFF",size:"2x"}),(0,EN.jsx)("span",{style:{marginTop:10},children:t.displayName?"".concat(t.displayName,"\uc758 Profile"):"Profile"})]})})]})})},HN=function(e){var t=e.refreshUser,n=e.isLoggedIn,r=e.userObj;return(0,EN.jsxs)(se,{children:[n&&(0,EN.jsx)(GN,{userObj:r}),(0,EN.jsx)(oe,{children:n?(0,EN.jsxs)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:[(0,EN.jsx)(ee,{exact:!0,path:"/",children:(0,EN.jsx)(KN,{userObj:r})}),(0,EN.jsx)(ee,{exact:!0,path:"/profile",children:(0,EN.jsx)(WN,{userObj:r,refreshUser:t})})]}):(0,EN.jsx)(EN.Fragment,{children:(0,EN.jsx)(ee,{exact:!0,path:"/",children:(0,EN.jsx)(CN,{})})})})]})};var QN=function(){var e=s((0,t.useState)(!1),2),n=e[0],r=e[1],i=s((0,t.useState)(null),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){_N.onAuthStateChanged((function(e){o(e?{displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}}:null),r(!0)}))}),[]),(0,EN.jsxs)(EN.Fragment,{children:[n?(0,EN.jsx)(HN,{refreshUser:function(){var e=_N.currentUser;o({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}})},isLoggedIn:Boolean(a),userObj:a}):"initializing...",(0,EN.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," Nwitter"]})]})};r.render((0,EN.jsx)(t.StrictMode,{children:(0,EN.jsx)(QN,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.b861cf9c.js.map